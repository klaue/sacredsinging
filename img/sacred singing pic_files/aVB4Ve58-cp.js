if (self.CavalryLogger) { CavalryLogger.start_js(["0ikC5"]); }

__d("EventsActionsLoggerJSConfig",[],(function(a,b,c,d,e,f){e.exports={type:{UNKNOWN:"unknown",ACTION_FAIL:"action_fail",ERROR:"error",ENTRY:"entry",VIEW_PERMALINK:"view_permalink",VIEW_RECENT_PHOTOS_CARD:"view_recent_photos_card",VIEW_PHOTOS_PAGE:"view_photo_page",VIEW_ATTACHMENT:"view_attachment",VPV:"VPV",LOAD:"load",LOAD_FAILED:"load_failed",CLICK:"click",VIEW:"view",REMOVE:"remove",CANCEL:"cancel",DELETE:"delete",HIDE:"hide",POST:"post",EXPORT:"export",RSVP_CONVERSION:"rsvp_conversion",FEED_CLICK:"feed_click",SCROLL:"scroll",SCROLL_TO_BOTTOM:"scroll_to_bottom",VIEW_PIVOT_EVENT:"view_pivot_event",SELECT:"select",HOVER:"hover",CONFIRM:"confirm",CLIENT_ERROR:"client_error",SEARCH_QUERY:"search_query",COMPONENT_DID_MOUNT:"component_did_mount",INVITE:"invite",EDIT:"edit",CREATE:"create",PUBLISH:"publish",JOIN:"join",ASSOCIATE:"associate",DECLINE:"decline",DISMISS:"dismiss",SAVE:"save",SUBMIT:"submit",UPLOAD_COVER:"upload_cover",REMOVE_COVER:"remove_cover",SELECT_THEME:"select_theme",SCHEDULE:"schedule",REMOVE_SCHEDULE:"remove_schedule",WATCH:"watch",RESERVE_TICKET:"reserve_ticket",TICKET_ORDER_TIMEOUT:"ticket_order_timeout",TICKET_ORDER_PURCHASE_ABANDONED:"ticket_order_purchase_abandoned",ROLLBACK_TICKET_ORDER:"rollback_ticket_order",PURCHASE_TICKET:"purchase_ticket",UPDATE_TICKET_QRCODE:"update_ticket_qrcode",CHARGE_RESERVE_TICKET:"charge_reserve_ticket",TICKET_PAYMENT:"ticket_payment",SHIP_TICKET_ORDER:"ship_ticket_order",TICKET_ORDER_UI_TIMEOUT:"ticket_order_ui_timeout",CANCEL_TICKET_ORDER:"cancel_ticket_order",ASSIGN_TICKETS_MUTATION:"assign_tickets_mutation",SHARE_THROUGH_MESSAGE:"share_through_message",CREATE_REJECT:"create_reject",LIKE_GOING_STORY:"like_going_story",COMMENT_GOING_STORY:"comment_going_story",LIKE:"like",UNLIKE:"unlike",COMMENT:"comment",SHARE_STORY:"share_story",MENTIONED:"mentioned",DELETE_POST:"delete_post",APPROVE_POST:"approve_post",CHECKIN:"checkin",JOIN_VIA_ADMIN:"join_via_admin",ASSOCIATE_VIA_ADMIN:"associate_via_admin",REMOVE_VIA_ADMIN:"remove_via_admin",DECLINE_VIA_ADMIN:"decline_via_admin",JOIN_VIA_EMAIL:"join_via_email",ASSOCIATE_VIA_EMAIL:"associate_via_email",REMOVE_VIA_EMAIL:"remove_via_email",DECLINE_VIA_EMAIL:"decline_via_email",INVITE_VIA_EMAIL:"invite_via_email",JOIN_VIA_SMS:"join_via_sms",ASSOCIATE_VIA_SMS:"associate_via_sms",REMOVE_VIA_SMS:"remove_via_sms",DECLINE_VIA_SMS:"decline_via_sms",INVITE_VIA_SMS:"invite_via_sms",SHARE:"share",NOTIFICATION_WATERFALL:"notification_waterfall",SUBSCRIBE_TO_ALL_NOTIFICATION:"subscribe_to_all_notification",SUBSCRIBE_TO_MOST_IMPORTANT_NOTIFICATION:"subscribe_to_most_important",SUBSCRIBE_TO_HOST_ONLY_NOTIFICATION:"subscribe_to_host_only_notification",UNSUBSCRIBE_NOTIFICATION:"unsubscribe_notification",SUBSCRIBE_TO_ALL_NOTIFICATION_VIA_ADMIN:"subscribe_to_all_notification_via_admin",SUBSCRIBE_TO_MOST_IMPORTANT_NOTIFICATION_VIA_ADMIN:"subscribe_to_most_important_via_admin",SUBSCRIBE_TO_HOST_ONLY_NOTIFICATION_VIA_ADMIN:"subscribe_to_host_only_notification_via_admin",UNSUBSCRIBE_NOTIFICATION_VIA_ADMIN:"unsubscribe_notification_via_admin",REMINDER_NOTIFICATION_ABANDONED:"reminder_notification_abandoned",REMINDER_NOTIFICATION_SENT:"reminder_notification_sent",REMINDER_PRECEDING_NOTIFICATION_SENT:"reminder_preceding_notification_sent",SUBSCRIBE_CALENDAR:"subscribe_calendar",UNSUBSCRIBE_CALENDAR:"unsubscribe_calendar",CALENDAR_AUTHORIZATION_REQUEST:"calendar_authorization_request",CALENDAR_AUTHORIZATION:"calendar_authorization",INVITE_EMAIL_SENT:"invite_email_sent",GENERATE:"generate",MARK_AS_SEEN:"mark_as_seen",ADD_TO_CALENDAR:"add_to_calendar",REMOVE_FROM_CALENDAR:"remove_from_calendar",SELECT_FILTER:"select_filter",PINNED_EVENT:"pinned_event",UNPINNED_EVENT:"unpinned_event",SEEN_STATE_MEGAPHONE_DISPLAYED:"seen_state_megaphone_displayed",CHANGE_CATEGORY:"change_category",CATEGORY_SELECTOR_CLICKED:"category_selector_clicked",CATEGORY_SELECTOR_CLICKED_AND_SAVED:"category_selector_clicked_and_saved",ADD_ADMIN:"add_admin",REMOVE_ADMIN:"remove_admin",TRIGGER:"trigger",EVENT_DISCOVER_QUERY:"event_discover_query",APP_START:"app_start",APP_BACKGROUNDED:"app_backgrounded",LOCATION_AUTHORIZATION:"location_authorization",UNPUBLISH:"unpublish",ADD_TO_TOUR:"add_to_tour",REMOVE_FROM_TOUR:"remove_from_tour",SELECT_ALL_EVENTS:"select_all_events",DESELECT_ALL_EVENTS:"deselect_all_events",SELF_SERVE_CHECK_IN:"self_serve_check_in",SELF_SERVE_UNDO_CHECK_IN:"self_serve_undo_check_in",ENABLE_REGISTRATION:"enable_registration",DISABLE_REGISTRATION:"disable_registration",TICKET_SHARING_MUTATION:"ticket_sharing_mutation",ALARM_TICKET_OUT_OF_STOCK:"alarm_ticket_out_of_ticket",ALARM_TICKET_PRICE_MISMATCH:"alarm_ticket_price_mismatch",ALLOW_ADD_TICKETS:"allow_add_tickets",DENY_ADD_TICKETS:"deny_add_tickets",AUTHORIZED_ADD_TICKETS:"authorized_add_tickets",ADDED_TICKETS:"added_tickets",ADD_TICKETS_AUTH_ERROR:"add_tickets_auth_error",ADD_TICKETS_ERROR:"add_tickets_error",LINK_VALIDATING:"link_validating",ADDING_TICKETS:"adding_tickets",DUPLICATE_DETECTED:"duplicate_detected",OFFICIAL_CLAIM:"official_claim",DELETE_INGESTION:"delete_ingestion",REPORT_INFO:"report_info",UNDELETE_INGESTION:"undelete_ingestion",CONFIRM_ROLE:"confirm_role",REMOVE_ROLE:"remove_role",OPEN:"open",NEXT_STEP:"next_step",PREV_STEP:"prev_step",ASYNC_SKIP_16591:"async_skip_16591",ENABLE_ON_TOUR_BADGE_IN_PAGE_COVER:"enable_on_tour_badge_in_page_cover",DISABLE_ON_TOUR_BADGE_IN_PAGE_COVER:"disable_on_tour_badge_in_page_cover"},target:{UNKNOWN:"unknown",INVITE_DIALOG:"invite_dialog",CREATE_DIALOG:"create_dialog",EDIT_DIALOG:"edit_dialog",GUEST_LIST_DIALOG:"guest_list_dialog",GUEST_LIST_FACEPILE_DIALOG:"guest_list_facepile_dialog",CANCEL_DIALOG:"cancel_dialog",PERMALINK:"permalink",WALL:"wall",WALL_OF_SADNESS:"wos",REACTION_UNIT:"reaction_unit",INLINE_COMPOSER_PROMPT:"inline_composer_prompt",STORY_PERMALINK:"story_permalink",CANCEL_CONFIRM_DIALOG:"cancel_confirm_dialog",PUBLISHING_TOOLS:"publishing_tools",MAKE_PLAN_DIALOG:"make_plan_dialog",LINK:"link",EVENT:"event",DRAFT_EVENT:"draft_event",USER:"user",PAGE:"page",GROUP:"group",DASHBOARD:"dashboard",RESULT_LIST:"result_list",PROFILE_LIST:"profile_list",GUEST_LIST:"guest_list",BUY_TICKET:"buy_ticket",NUX:"nux",STORY:"story",FILTER:"filter",PHOTO:"photo",HEADER:"header",FOOTER:"footer",COVER_PHOTO:"cover_photo",TAB_BAR:"tab_bar",EVENT_TIP:"event_tip",ADMIN_LIST:"admin_list",REQUESTED_ADMIN_LIST:"requested_admin_list",CREATION_PROMPT:"creation_prompt",NOTIFICATION:"notification",MAP:"map",DETAILS:"details",PIVOT:"pivot",POST:"post",EVENTS_COLLECTION:"events_collection",INVITATION:"invitation",SUGGESTION:"suggestion",FRAME_POST:"frame_post",FRAME_DIRECT_MESSAGE:"frame_direct_message",FRAME_STORY:"frame_story",EVENT_STORY:"event_story",SOCIAL_CONTEXT_ROW:"social_context_row",SUGGESTIONS_CONTEXT_ROW:"suggestions_context_row",TIME_CONTEXT_ROW:"time_context_row",LOCATION_CONTEXT_ROW:"location_context_row",TICKETING_CONTEXT_ROW:"ticketing_context_row",INVITE_SUGGESTION:"invite_suggestion",TRIGGER_WORD:"trigger_word",TRIGGER_CTA:"trigger_cta",REMINDER_BANNER:"reminder_banner",REMINDER_CREATE_BUTTON:"reminder_create_button",REMINDER_CUSTOMIZE_BUTTON:"reminder_customize_button",REMINDER_DELETE_BUTTON:"reminder_delete_button",REMINDER_CANCEL_BUTTON:"reminder_cancel_button",REMINDER_UPDATE_BUTTON:"reminder_update_button",REMINDER_ENTRYPOINT:"reminder_entrypoint",REMINDER_ADMIN_TEXT:"reminder_admin_text",REMINDER_CHANGE_NAME_BUTTON:"reminder_change_name_button",REMINDER_NONE_ACTIVE_ALERT:"reminder_none_active_alert",REMINDER_RELATED_EVENT:"reminder_related_event",REMINDER_RELATED_EVENT_BUTTON:"reminder_related_event_button",REMINDER_LOCATION_MAP:"reminder_location_map",REMINDER_MAP_SERVICE_APPLE_MAP_BUTTON:"reminder_map_service_apple_map_button",REMINDER_MAP_SERVICE_GOOGLE_MAP_BUTTON:"reminder_map_service_google_map_button",REMINDER_MAP_SERVICE_RIDE_SERVICE_BUTTON:"reminder_map_service_ride_service_button",REMINDER_MAP_SERVICE_CANCEL_BUTTON:"reminder_map_service_cancel_button",DEVICE_BACK_BUTTON:"device_back_button",EVENT_REMINDER:"event_reminder",REMINDER_MAI_SUGGESTION:"reminder_mai_suggestion",ATTACHMENT_PLAN_BUTTON:"xma_plan_button",MESSENGER_GROUP:"messenger_group",SEE_TOUR_MAP_BUTTON:"see_tour_map_button",PUBLISH_TOUR_BUTTON:"publish_tour_button",UNPUBLISH_TOUR_BUTTON:"unpublish_tour_button",INSIGHTS_BUTTON:"insights_button",ADD_TO_TOUR_BUTTON:"add_to_tour_button",REMOVE_FROM_TOUR_BUTTON:"remove_from_tour_button",CANCEL_OR_DELETE_BUTTON:"cancel_or_delete_button",DUPLICATE_BUTTON:"duplicate_button",BUY_ONSITE_TICKET_BUTTON:"buy_onsite_ticket_button",BUY_OFFSITE_TICKET_BUTTON:"buy_offsite_ticket_button",VIEW_TICKET_BUTTON:"view_ticket_button",SEE_ALL_BUTTON:"see_all_button",CREATE_EVENT_BUTTON:"create_event_button",CREATE_PUBLIC_EVENT_BUTTON:"create_public_event_button",CREATE_PRIVATE_EVENT_BUTTON:"create_private_event_button",CREATE_COMMUNITY_EVENT_BUTTON:"create_community_event_button",CREATE_GROUP_EVENT_BUTTON:"create_group_event_button",BEGIN_EDIT_BUTTON:"begin_edit_button",DONE_CREATION_BUTTON:"done_creation_button",CANCEL_CREATION_BUTTON:"cancel_creation_button",EXIT_CREATION_BUTTON:"exit_creation_button",SAVE_DRAFT_BUTTON:"save_draft_button",PUBLISH_EVENT_BUTTON:"publish_event_button",SCHEDULE_EVENT_BUTTON:"schedule_event_button",SCHEDULE_TOUR_BUTTON:"schedule_tour_button",UNSCHEDULE_TOUR_BUTTON:"unschedule_tour_button",UNSCHEDULE_EVENT_BUTTON:"unschedule_event_button",SEE_EVENTS_BUTTON:"see_events_button",SHARE_CALENDAR_BUTTON:"share_events_button",LEARN_MORE_BUTTON:"learn_more_button",PROMOTE_EVENT_BUTTON:"promote_event_button",PROMOTE_EVENT_ITEM:"promote_event_item",PROMOTE_EVENT_MENU:"promote_event_menu",PROMOTE_TICKET_ITEM:"promote_ticket_item",GUEST_LIST_EMAIL_BUTTON:"guest_list_email_button",GUEST_LIST_EMAIL_CANCEL_BUTTON:"guest_list_email_cancel_button",GUEST_LIST_EMAIL_SEND_BUTTON:"guest_list_email_send_button",GUEST_LIST_EMAIL_DRAFT_BUTTON:"guest_list_email_draft_button",SEE_MORE_BUTTON:"see_more_button",COPY_LINK_BUTTON:"copy_link_button",CHECKIN_BUTTON:"checkin_button",CATEGORY_SELECTOR:"category_selector",TAG_SELECTOR:"tag_selector",TAG_TOKEN:"tag_token",CREATOR_MICROSITE_LINK:"creator_microsite_link",INVITE_BUTTON:"invite_button",CANCEL_INVITE_BUTTON:"cancel_invite_button",INVITE_FRIENDS:"invite_friends",SHARE_IN_NEWSFEED_OPTION:"share_in_newsfeed_option",SHARE_EVENT_BUTTON:"share_event_button",INTERESTED_EVENT_BUTTON:"interested_event_button",DISMISS_PROMPT_BUTTON:"composer_dismiss_prompt_button",PHOTO_PROMPT_OVERFLOW_BUTTON:"photo_prompt_overflow_button",MANAGE_EVENT_MENU:"manage_event_menu",SHOW_OFFICIAL_EVENTS_TOGGLE:"show_official_events_toggle",HIDE_OFFICIAL_EVENTS_TOGGLE:"hide_official_events_toggle",MANAGE_TICKET_MENU:"manage_ticket_menu",DISCOVER_TIME_FILTER:"discover_time_filter",DISCOVER_LOCATION_FILTER:"discover_location_filter",DISCOVER_LOCATION_LIST:"discover_location_list",COMPOSER_POST_BUTTON:"composer_post_button",MESSAGE_BUTTON:"message_button",DISMISS_BUTTON:"dismiss_button",NOTIFICATIONS_MENU:"notifications_menu",PERMALINK_INFO_ROW_LINK:"permalink_info_row_link",GET_DIRECTIONS_BUTTON:"get_directions_button",ACCEPT_COHOST_INVITE_BUTTON:"accept_cohost_invite_button",DECLINE_COHOST_INVITE_BUTTON:"decline_cohost_invite_button",UNDO_COHOST_INVITE_RSVP_BUTTON:"undo_cohost_invite_rsvp_button",BLOCK_COHOST_INVITE_BUTTON:"block_cohost_invite_button",VENUE_COHOST_UPSELL:"venue_cohost_upsell",EXTERNAL_SHARE_OPTIONS:"external_share_options",SHARE_IN_NEWS_FEED_OPTION:"share_in_news_feed_option",SHARE_AS_POST:"share_as_post",SHARE_CTA:"share_cta",MESSENGER_PLAN_CTA:"messenger_plan_cta",LIVE_VIDEO_CTA:"live_video_cta",INVITE_FRIENDS_OPTION:"invite_friends_option",INVITE_VIA_SMS_OPTION:"invite_via_sms_option",SHARE_INVITE_OPTION:"share_invite_option",SHARE_MESSAGE_OPTION:"share_message_option",PLAN_BUTTON:"plan_button",TAG_EVENT_CTA:"tag_event_cta",OPEN_MESSAGE_BUTTON:"open_message_button",BOOST_BUTTON:"boost_button",PIVOT_MESSAGE_CTA:"pivot_message_cta",CANCEL_BUTTON:"cancel_button",REACH:"REACH",RESPONSES:"RESPONSES",TICKET_CLICKS:"TICKET_CLICKS",TICKET_BUYERS:"TICKET_BUYERS",INSIGHTS_TAB:"insights_tab",INSIGHTS_DASHBOARD:"event_insights_dashboard",INSIGHTS_DETAIL_BUTTON:"insights_detail_button",INSIGHTS_DRILLDOWN:"insights_drilldown",INSIGHTS_RWA_ADMIN_SURVEY:"insights_rwa_admin_survey",INSIGHTS_RWA_ADMIN_DIALOG_LINK:"insights_rwa_admin_dialog_link",EDUCATION_UNIT:"education_unit",EDUCATION_UNIT_NEXT_LINK:"eduication_unit_next_link",EDUCATION_UNIT_CTA:"education_unit_cta",BUY_TICKETS_BUTTON:"buy_tickets_button",TICKET_CONTINUE_BUTTON:"ticket_continue_button",BUY_TICKETS_REGISTRATION_CONTINUE_BUTTON:"buy_tickets_registration_continue_button",REGISTRATION_CONTINUE_BUTTON:"registration_continue_button",PURCHASE_TICKET_BUTTON:"purchase_ticket_button",VIEW_PURCHASED_TICKETS_BUTTON:"view_purchased_tickets_button",TICKET_CONFIRMATION:"ticket_confirmation",TICKET_PURCHASE_ERROR:"ticket_purchase_error",ASSIGN_GUEST_BUTTON:"assign_guest_button",ASSIGN_GUEST_SELECTOR:"assign_guest_selector",ORDER_DETAILS_DIALOG:"order_details_dialog",ORDER_DETAILS_DONE_BUTTON:"order_details_done_button",UNDO_ASSIGNMENT_CONFIRMATION:"undo_assignment_confirmation",UNDO_ASSIGNMENT_LINK:"undo_assignment_link",TICKET_ORDERS:"ticket_orders",SELF_SERVE_ICE_BREAKER_DIALOG:"self_serve_ice_breaker_dialog",SELF_SERVE_ICE_BREAKER_KEY:"self_serve_ice_breaker_key",SELF_SERVE_ICE_BREAKER_SEND_BUTTON:"self_serve_ice_breaker_send_button",TICKETS_PURCHASE_CARD:"tickets_purchase_card",SEE_MORE_TICKETS_LINK:"see_more_tickets_link",ADD_TICKETS_CARD:"add_tickets_card",ADD_TICKETS_BUTTON:"add_tickets_button",ADD_TICKETS_DIALOG:"add_tickets_dialog",ADD_TICKETS_LEARN_MORE_DIALOG:"add_tickets_learn_more_dialog",CREATION_DIALOG_GET_STARTED_BUTTON:"creation_dialog_get_started_button",CREATION_DIALOG_LOG_IN_BUTTON:"creation_dialog_log_in_button",LOGIN_CORRECT_ACCOUNT_BUTTON:"login_correct_account_button",CONFIRM_BUTTON:"confirm_button",NOT_NOW_BUTTON:"not_now_button",NOT_EVENTBRITE_LINK:"not_eventbrite_link",NOT_SUPPORTED_LINK:"not_supported_link",NO_ACCESS_TOKEN:"no_access_token",MANAGED_EVENTBRITE_LINK:"managed_eventbrite_link",NOT_MANAGED_EVENTBRITE_LINK:"not_managed_eventbrite_link",NO_EVENT:"no_event",NO_TICKET_LINK:"no_ticket_link",NOT_ELIGIBLE:"not_eligible",PUBLISH_FAILURE:"publish_failure",ENABLE_ONSITE_TICKETING:"enable_onsite_ticketing",DISABLE_ONSITE_TICKETING:"disable_onsite_ticketing",SHOW_INTERMEDIATE_SPINNER:"show_intermediate_spinner",MEDIA_EFFECTS_CTA:"media_effects_cta",SOCAL_APP:"socal_app",SOCAL_LANDING_PAGE:"socal_landing_page",INSTALL_SOCAL_BUTTON:"install_socal_button",INSTALL_SOCAL_BUTTON_ANDROID:"install_socal_button_android",SOCAL_NOTIFY_ME_WHEN_AVAILBLE:"socal_notify_me_when_available",SOCAL_LANDING_PAGE_SIGNUP_FOR_FACEBOOK:"socal_signup_for_facebook",EVENTS_GUIDE:"events_guide",EVENTS_GUIDE_LINK:"events_guide_link",EVENTS_GUIDE_SUBGUIDE:"events_guide_subguide",EVENTS_GUIDE_PERFORMER_PAGE:"events_guide_performer_page",EVENTS_GUIDE_FRIENDS_NEARBY:"events_guide_friends_nearby",PAGE_LIKE_BUTTON:"page_like_button",PAGE_UNLIKE_BUTTON:"page_unlike_button",PLACE_CHECKIN_BUTTON:"check_in_button",SOCAL_CALENDAR_DATE:"socal_calendar_date",SEARCH_BAR:"search_bar",NOTIFICATION_JEWEL:"notifications_jewel",SOCAL_CALENDAR_TODAY_BUTTON:"socal_calendar_today_button",CALENDAR_SETTINGS_PROMPT:"calendar_settings_prompt",DISCOVERY_MAP:"discovery_map",DISCOVERY_LIST:"discovery_list",DISCOVERY_CATEGORY_PILL:"discovery_category_pill",DISCOVERY_SEARCH_ENTER:"discovery_search_enter",DISCOVERY_SEARCH_SUBMITTED:"discovery_search_submitted",DISCOVERY_SEARCH_CANCELLED:"discovery_search_cancelled",DISCOVERY_TIME_FILTER_TAPPED:"discovery_time_filter_tapped",DISCOVERY_TIME_FILTER_SELECTED:"discovery_time_filter_selected",DISCOVERY_TIME_FILTER_CANCELLED:"discovery_time_filter_cancelled",SERP_DROPDOWN_PILTER_OPTIONS:"serp_dropdown_pilter_options",SERP_DROPDOWN_PILTER_TAPPED:"serp_dropdown_pilter_tapped",CALL_REMINDER_CANCEL_BUTTON:"call_reminder_cancel_button",CALL_REMINDER_PROMO_ITEM:"call_reminder_promo_item",CALL_REMINDER_PROMOBAR_ITEM:"call_reminder_promobar_item",CALL_REMINDER_ONE_HOUR_BUTTON:"call_reminder_one_hour_button",CALL_REMINDER_CUSTOM_BUTTON:"call_reminder_custom_date_button",CALL_REMINDER_SCHEDULE_CALL_BUTTON:"call_reminder_schedule_call_button",CALL_REMINDER_EVENT_EXIST_ALERT:"call_reminder_event_exist_conflict_alert",TOUR:"tour",TOUR_OTHER_EVENTS_IN_TOUR_CARD:"tour_other_events_in_tour_card",LOAD_MORE:"load_more",MAIN_CARD:"main_card",MAP_DIALOG:"map_dialog",MAP_LINK:"map_link",SHARE_TOUR_BUTTON:"share_tour_button",PAGE_UPCOMING_EVENTS_CARD:"page_upcoming_events_card",CREATE_TOUR_BUTTON:"create_tour_button",EDIT_TOUR_BUTTON:"edit_tour_button",CREATE_TOUR_DIALOG:"create_tour_dialog",EDIT_TOUR_DIALOG:"edit_tour_dialog",CREATE_TOUR_UPSELL_DIALOG:"create_tour_upsell_dialog",CREATE_TOUR_FROM_UPSELL_BUTTON:"create_tour_from_upsell_button",LEARN_MORE_ABOUT_TOURS:"learn_more_about_tours",TOUR_UPCOMING_EVENT_LIST_CARD:"tour_upcoming_event_list_card",TOUR_PAST_EVENT_LIST_CARD:"tour_past_event_list_card",TOUR_RECOMMENDED_EVENT_LIST_CARD:"tour_recommended_event_list_card",PERMALINK_DUPLICATE:"permalink_duplicate",FRAME_CREATE_BUTTON:"frame_create_button",FRAME_EDIT_BUTTON:"frame_edit_button",FRAME_MANAGE_BUTTON:"frame_manage_button",FRAME_CREATE_RHC:"frame_create_rhc",FRAME_EDIT_RHC:"frame_edit_rhc",FRAME_MANAGE_RHC:"frame_manage_rhc",FRAME_TOGGLE:"frame_toggle",MESSENGER_POLL_POLL_UPSELL_BUTTON_IN_PLAN:"messenger_poll_poll_upsell_button_in_plan",MESSENGER_POLL_DATE_TIME_TYPE_BUTTON:"messenger_poll_date_time_type_button",MESSENGER_POLL_BASIC_TYPE_BUTTON:"messenger_poll_basic_type_button",MESSENGER_POLL_CREATE_BUTTON:"messenger_poll_create_button",MESSENGER_POLL_CANCEL_BUTTON:"messenger_poll_cancel_button",MESSENGER_POLL_ENTRY_POINT:"messenger_poll_entry_point",DISMISS_UPSELL_EVENT_NEWS_FEED:"dismiss_upsell_event_news_feed",UPSELL_EVENT_NEWS_FEED_CARD:"upsell_event_news_feed_card",INTERCEPT_PAGE_COMPOSER:"intercept_page_composer",INTERCEPT_CONTINUE_POST_BUTTON:"intercept_continue_post_button",INTERCEPT_ACCEPT_TO_CONVERT_BUTTON:"intercept_accept_to_convert_button",MESSAGE_FRIENDS_CARD:"message_friends_card",TYPEAHEAD_ENTRY:"typeahead_entry",MESSAGE_FRIENDS:"message_friends",MESSAGE_SINGLE_FRIEND:"message_single_friend",MESSAGE_FRIENDS_AS_GROUP:"message_friends_as_group",MESSAGE_FRIENDS_SEPARATELY:"message_friends_separately",SHARE_TIME:"share_time",SEE_ALL_TIMES:"see_all_times",ACCEPT_COHOST_REQUEST:"accept_cohost_request",DECLINE_COHOST_REQUEST:"decline_cohost_request",UNDO_COHOST_RSVP:"undo_cohost_rsvp",CREATE_NO_TICKET_RADIO:"create_no_ticket_radio",CREATE_TICKET_LINK_RADIO:"create_ticket_link_radio",CREATE_REGISTRATION_RADIO:"create_registration_radio",CREATE_REQUEST_TICKETS_RADIO:"create_request_tickets_radio",LEARN_MORE_ABOUT_REGISTRATION:"learn_more_about_registration",CANNOT_DISABLE_REGISTRATION_NOTICE:"cannot_disable_registration_notice",SELF_SERVE_ADMIN:"self_serve_admin",SELF_SERVE_ADMIN_BANNER:"self_serve_admin_banner",SELF_SERVE_ADMIN_ORDERS:"self_serve_admin_orders",SELF_SERVE_ADMIN_ORDERS_NULL_STATE:"self_serve_admin_orders_null_state",SELF_SERVE_ADMIN_SEARCH_ORDERS:"self_serve_admin_search_orders",SELF_SERVE_ADMIN_SEARCH_ORDERS_NULL_STATE:"self_serve_admin_search_orders_null_state",SELF_SERVE_ADMIN_ORDERS_FILTER:"self_serve_admin_orders_filter",SELF_SERVE_ADMIN_DASHBOARD:"self_serve_admin_dashboard",SELF_SERVE_ADMIN_ORDER_DETAIL:"self_serve_admin_detail",SELF_SERVE_ADMIN_QR_CODE:"self_serve_qr_code",SELF_SERVE_CREATE_DIALOG_REGISTRATION_OPTIONS:"self_serve_create_dialog_registration_options",SELF_SERVE_FROM_GUESTLIST_DIALOG:"self_serve_from_guestlist_dialog",SELF_SERVE_FROM_REGISTERED_GUEST_CARD:"registration_management_link_in_card",SELF_SERVE_MESSAGE_LINK:"self_serve_message_link",SELF_SERVE_REQUEST_TICKETS_BUTTON:"self_serve_request_tickets_button",SELF_SERVE_CHILD_ADMIN:"self_serve_child_admin",SELF_SERVE_PARENT_ADMIN:"self_serve_parent_admin",SELF_SERVE_PERMALINK:"self_serve_permalink",ADMIN_ORDER_LIST_CSV:"admin_order_list_csv",ADMIN_ORDER_LIST_PDF:"admin_order_list_pdf",SELF_SERVE_PERMALINK_TAB_BAR:"self_serve_permalink_tab_bar",SELF_SERVE_PERMALINK_EVENT_TAB:"self_serve_permalink_event_tab",SELF_SERVE_PERMALINK_REGISTRATION_TAB:"self_serve_permalink_registration_tab",SELF_SERVE_MANAGE_REGISTRATION_CTA:"self_serve_manage_registration_cta",CATEGORY:"category",UPCOMING_EVENTS_UNIT:"upcoming_events_unit",CARDS:"cards",FEED_UNITS:"feed_units",EDIT_BUTTON:"edit_button",PIN:"pin",SHARE:"share",EVENT_PERMALINK_SHARE_SNACKBAR:"event_permalink_share_snackbar",PERMALINK_SCREENSHOT_SHARE_BOTTOM_SHEET:"permalink_screenshot_share_bottom_sheet",PERMALINK_SCREENSHOT_SHARE_IN_NEWS_FEED_OPTION:"permalink_screenshot_share_in_news_feed_option",PERMALINK_SCREENSHOT_SHARE_IN_MESSENGER_OPTION:"permalink_screenshot_share_in_messenger_option",PERMALINK_SCREENSHOT_SHARE_IN_MORE_OPTION:"permalink_screenshot_share_in_more_option",EVENT_COMPOSER_MEDIA_BUTTONS:"event_composer_media_buttons",EVENT_COMPOSER_CAMERA:"event_composer_camera",EVENT_COMPOSER_GO_LIVE:"event_composer_go_live",EVENT_STICKER:"event_sticker",LOCAL_GUIDES:"local_guides",LOCAL_GUIDES_MAP:"local_guides_map",LOCAL_GUIDES_CARD:"local_guides_card",LOCAL_REVIEWS:"local_reviews",LOCAL_GUIDES_INTERESTED_BUTTON:"local_guides_interested_button",TAG_EVENT_SPROUT:"tag_event_sprout",EVENT_MICRO_ATTACHMENT:"event_micro_attachment",POPULAR_DATES_WITH_FRIENDS:"popular_dates_with_friends",UPCOMING_CHILD_TIMES:"upcoming_child_times",CHILD_DATES_VIEW:"child_dates_view",PAYLINK:"paylink",PAYLINK_DETAILS:"paylink_details",PAYLINK_CONTEXT_ROW:"paylink_context_row",SEND_AS_MESSAGE:"send_as_message"},surface:{UNKNOWN:"unknown",CAMERA:"camera",PERMALINK:"permalink",TOUR_PERMALINK:"tour_permalink",DASHBOARD:"dashboard",DASHBOARD_NEARBY:"dashboard_nearby",BOOKMARKS_MENU:"bookmarks_menu",NEWSFEED:"newsfeed",NETEGO_SUGGESTION:"netego_suggestion",SURFACE_NULL:"null",NOTIFICATIONS:"notifications_tab",PUSH_NOTIFICATIONS:"push_notifications",SEARCH:"search",CREATE_DIALOG:"create_dialog",EDIT_DIALOG:"edit_dialog",CANCEL_DIALOG:"cancel_dialog",INVITE_DIALOG:"invite_dialog",PAGE:"page",TIMELINE:"timeline",USER_TIMELINE:"user_timeline",GROUP:"group",GROUPS_LANDING:"groups_landing",MESSAGE_DIALOG:"message_dialog",ACTIVITY_LOG:"activity_log",MESSAGING:"messaging",THREAD_SETTINGS:"thread_settings",EMAIL:"email",EXTERNAL:"external",EXTERNAL_INFRASTRUCTURE:"external_infrastructure",SNOWFLAKE:"snowflake",IN_APP_BROWSER:"in_app_browser",SIDEBAR:"sidebar",COMPOSER:"composer",ENTITY_CARD:"entity_card",TODAY_CARD:"today_card",ERROR_DIALOG:"error_dialog",GUEST_LIST:"guest_list",PHOTO_VIEWER:"photo_viewer",STORY_FLYOUT:"story_flyout",MICROSITE:"microsite",BOOKMARKS_SEE_ALL:"bookmarks_see_all",PAGES_COMPOSER:"pages_composer",POST_PAGE:"post_page",INGESTION:"ingestion",PROFILE_BROWSER:"profile_browser",PROFILE_DISCOVERY:"profile_discovery",UNIT_TEST:"unit_test",HOVERCARD:"hovercard",REPORT_FLOW:"report_flow",FRIENDS_ACTIVITIES:"friend_activities",INTERN_EVENT_PAGE:"intern_event_page",ADD_TO_PAGE_DIALOG:"add_to_page_dialog",HOME:"home",EMAIL_COMPOSER:"email_composer",EMAIL_PERMALINK:"email_permalink",ASYNC_JOB:"async_job",TICKER:"ticker",SETTINGS:"settings",LOGIN:"login",GAMETIME:"gametime",DISCOVER_FILTER_LIST:"discover_filter_list",INSIGHTS_TAB:"insights_tab",INSIGHTS_DASHBOARD:"insights_dashboard",INSIGHTS_DRILLDOWN:"insights_drilldown",ME_TAB:"me_tab",EVENT_DISCOVER_QUERY:"event_discover_query",BIRTHDAY_DASHBOARD:"birthday_dashboard",LOCAL_PAGE:"local_serp",LOCAL_SURFACE:"local_surface",SHARE_LINK:"share_link",SOCAL:"socal",SOCAL_PROFILE:"socal_profile",SOCAL_HOME:"socal_home",SOCAL_GUIDE:"socal_guide",SOCAL_HOME_DEFAULT_TAB:"socal_home_default_feed_tab",SOCAL_HOME_EVENTS_FEED_TAB:"socal_home_events_feed_tab",SOCAL_HOME_GUIDES_FEED_TAB:"socal_home_guides_feed_tab",SOCAL_HOME_PLACES_FEED_TAB:"socal_home_places_feed_tab",SOCAL_FEED_DAY_GUIDE:"socal_feed_pivot_day_guides",SOCAL_FEED_ACTIVITY_GUIDE:"socal_feed_pivot_activity_guides",SOCAL_PUSH_NOTIFICATIONS:"socal_push_notifications",SOCAL_SEARCH:"socal_search",SOCAL_SEARCH_KEYWORD_RESULTS:"socal_search_keyword_results",SOCAL_PLACES_SERP_LIST:"socal_places_serp_list",SOCAL_PLACES_SERP_MAP:"socal_places_serp_map",SOCAL_EVENTS_FEED:"socal_events_feed",SOCAL_CALENDAR:"socal_calendar",SOCAL_DISCOVERY:"socal_discovery",SOCAL_EVENTS_SERP_LIST:"socal_events_serp_list",SOCAL_EVENTS_SERP_MAP:"socal_events_serp_map",SOCAL_SETTINGS:"socal_settings",SOCAL_PLACE_PERMALINK:"socal_place_permalink",SOCAL_LANDING_PAGE:"socal_landing_page",SOCAL_LANDING_PAGE_MTOUCH:"socal_landing_page_mtouch",BUY_TICKETS:"buy_tickets",SMS_PERMALINK:"sms_permalink",AYMT_TIP:"aymt_tip",ANDROID_COPY_LINK:"android_copy_link",ANDROID_ACTION_SHEET:"android_action_sheet",IOS_COPY_LINK:"ios_copy_link",IOS_ACTION_SHEET:"ios_action_sheet",EVENT_COLLECTIONS:"events_collection",CALL_TAB:"call_tab",CONTEXTUAL_RECOMMENDATIONS:"contextual_recommendations",MESSENGER_CHAT_TAB:"messenger_chat_tab",SCHEDULED_QUEUE:"scheduled_queue",PAGES_BROWSER:"pages_browser",AYMT_HOMEPAGE_PANEL:"aymt_homepage_panel",CITY_GUIDES:"city_guides",EVENTS_GUIDE:"events_guide",FACEBOOK_STORY:"facebook_story",FACEBOOK_DIRECT:"facebook_direct",HOLIDAY:"holiday",EVENTS_CAMPAIGN:"events_campaign",EVENTS_TICKETING_CAMPAIGN:"events_ticketing_campaign",MULTI_JOIN_NEARBY:"multi_join_nearby",MARKETPLACE:"marketplace",TICKETS_REGISTRATION_SETTINGS:"tickets_registration_settings",SELF_SERVE_ADMIN:"self_serve_admin",SELF_SERVE_ADMIN_STATS_CARD:"self_serve_admin_stats_card",SELF_SERVE_ADMIN_STATS_NAV:"self_serve_admin_stats_nav",SELF_SERVE_REGISTRATION_TAB:"self_serve_registration_tab",SELF_SERVE_ICE_BREAKER_DIALOG:"self_serve_ice_breaker_dialog",TOP_TOOLBAR:"top_boolbar",MESSENGER_COM:"messenger_com",LIGHTWEIGHT_EVENT_SETTINGS:"lightweight_event_settings",REGISTRATION_IN_GUESTLIST_DIALOG:"registration_in_guestlist_dialog",MARKETPLACE_TICKETS:"marketplace_tickets",EVENTS_STORIES_AVATAR:"events_stories_avatar",LOCAL_GUIDES:"local_guides",APP_INTEGRATION_IMPORTER:"app_integration_importer",REGISTRATION_IN_CARD:"registration_management_link_in_card",EVENT_PERMALINK_REGISTRATION_TAB:"event_permalink_registration_tab",FACEPILE_IN_GUEST_LIST:"facepile_in_guest_list",FACEPILE_IN_SOCIAL_CONTEXT_ROW:"facepile_in_social_context_row",SOCIAL_CONTEXT_ROW_TITLE:"social_context_row_title",INVITE_FLOW:"invite_flow",MAKE_PLANS_FLOW:"make_plans_flow",PUBLISHING_TOOLS:"publishing_tools",CIVIC_ENGAGEMENT:"civic_engagement",MIGHT_BE_INTERESTED_LIST:"might_be_interested_list",PUBLISHED_EVENTS_TAB:"published_events_tab",DRAFT_EVENTS_TAB:"draft_events_tab",SCHEDULED_EVENTS_TAB:"scheduled_events_tab",ARCHIVED_EVENTS_TAB:"archived_events_tab",TOUR_EVENTS_TAB:"tour_events_tab",TOURS_TAB:"tours_tab",TICKET_ORDER:"ticket_order",MAKE_PLAN_DIALOG:"make_plan_dialog",ASSISTANT_MESSENGER:"assistant_messenger",SOCIAL_VIDEO_PLAYER:"social_video_player",AGORA_SURFACE:"agora_surface",ATHENS_SURFACE:"athens_surface",PREDICTED_MEETUP:"predicted_meetup",SAVED_DASHBOARD:"saved_dashboard",UNIVERSAL_CREATION_HUB_DROPDOWN:"universal_creation_hub_dropdown",ADD_TICKETS_AUTH_CARD:"add_tickets_auth_card",ADD_TICKETS_MANAGEMENT_CARD:"add_tickets_management_card"},mechanism:{UNKNOWN:"unknown",MECHANISM_NULL:"null",SURFACE:"surface",MAIN_LIST:"main_list",PREVIEW_UNIT:"preview_unit",PREVIEW_UNIT_NULL_STATE:"preview_unit_null_state",LIST_VIEW:"list_view",PERMALINK:"permalink",PERMALINK_ACTION_BAR:"permalink_action_bar",PERMALINK_COMPOSER:"permalink_composer",PERMALINK_NATIVE_TEMPLATE_SHARE_CARD:"permalink_native_template_share_card",FEED_STORY:"feed_story",POST_FEED_STORY:"post_feed_story",TOUR_FEED_STORY:"tour_feed_story",COVER_PHOTO_UNIT:"cover_photo_unit",BOOKMARKS:"bookmarks",NOTIFICATIONS:"notifications",NOTIFICATION_SETTINGS:"notification_settings",EXTERNAL_REFERRER:"external_referrer",EXTERNAL_NO_REFERRER:"external_no_referrer",DASH_FILTER:"dashboard_filter",SEARCH_BAR:"search_bar",SEARCH_RESULTS:"search_results",SEARCH_NO_RESULTS:"search_no_results",REMINDERS:"reminders",SUGGESTION_EGO:"suggestion_ego",INVITES_EGO:"invites_ego",RHC:"RHC",EGO_STORY:"ego_story",MESSAGE_BUTTON:"message_button",RESCHEDULE_POST_DIALOG:"reschedule_post_dialog",SEND_BUTTON:"send_button",CANCEL_BUTTON:"cancel_button",LOCATION_PICKER:"location_picker",TIME_PICKER:"time_picker",HEADER:"header",CONTEXT_ROW:"context_row",ATTACHMENT:"attachment",RELATED_EVENTS_PIVOT:"related_events_pivot",WALL:"wall",HOST_EVENTS_CARD:"host_events_card",RELATIONSHIP_BAR:"relationship_bar",DRAFT_BANNER:"draft_banner",SCHEDULED_BANNER:"scheduled_banner",SUGGEST_EDIT_BAR:"suggest_edit_bar",MEGAPHONE:"megaphone",SOCIAL_PLUGIN:"social_plugin",CITY_PAGE_EVENTS_UNIT:"city_page_events_unit",PAGE_CREATE_DIALOG:"page_create_dialog",PAGES_COMPOSER:"pages_composer",USER_CREATE_DIALOG:"user_create_dialog",GROUP_CREATE_DIALOG:"group_create_dialog",COPY_CREATE_DIALOG:"copy_create_dialog",HOVERCARD:"hovercard",COMPARISON_CARDS:"comparison_cards",SUBSCRIBED_EVENT_DIALOG:"subscribed_dialog",GUEST_LIST:"guest_list",ALBUM_BUTTON:"album_button",RELATED_EVENT_BUTTON:"related_event_button",INVITE_THROUGH_MESSENGER:"invite_through_messenger",EVENT_YOU_MAY_JOIN_EMAIL:"event_you_may_join_email",SEND_TO_GROUP:"send_to_group",GUEST_LIST_EMAIL_BUTTON:"guest_list_email_button",GUEST_LIST_EMAIL_DRAFT_BUTTON:"guest_list_draft_button",GUEST_LIST_EMAIL_CANCEL_BUTTON:"guest_list_email_cancel_button",GUEST_LIST_EMAIL_SEND_BUTTON:"guest_list_email_send_button",REACTION_UNIT:"reaction_unit",ACTION_BAR:"action_bar",CHECKIN_COMPOSER:"checkin_composer",CONTEXT_ROW_UBER_BUTTON:"context_row_uber_button",TICKET_INFO:"ticket_info",UNIT_TEST:"unit_test",INLINE_COMPOSER_PHOTO_PROMPT:"inline_composer_photo_prompt",PHOTOS_PAGE:"photos_page",NO_LOCATION:"no_location",LOCATION_STALE:"location_stale",LOCATION_INACCURATE:"location_inaccurate",LOCATION_CONTEXT_ROW:"location_context_row",NO_RESULTS:"no_results",INSIGHTS_TAB:"insights_tab",INSIGHTS_MODULE:"insights_module",PAGE_INSIGHTS_DASHBOAD:"page_insights_dashboard",INSIGHTS_TAB_REACH:"insights_tab_reach",INSIGHTS_TAB_PAGE_VIEWS:"insights_tab_page_views",INSIGHTS_TAB_CONNECTIONS:"insights_tab_connections",INSIGHTS_TAB_ACTIONS:"insights_tab_actions",INSIGHTS_TAB_TICKET_CLICKS:"insights_tab_ticket_clicks",INSIGHTS_TAB_TICKET_DEVICES:"insights_tab_ticket_devices",INSIGHTS_TAB_DEMOGRAPHICS:"insights_tab_demographics",INSIGHTS_TAB_AUDIENCE_DEVICES:"insights_tab_audience_devices",TIP:"tip",REMINDER:"reminder",REMINDER_WORD:"reminder_word",REMINDER_ACTION_SHEET:"reminder_action_sheet",REMINDER_LOCATION_MAP:"reminder_location_map",REMINDER_CHANGE_NAME_ALERT:"reminder_change_name_alert",REMINDER_NONE_ACTIVE_ALERT:"reminder_none_active_alert",REMINDER_CUSTOMIZATION:"reminder_customization",REMINDER_BANNER:"reminder_banner",EVENT_REMINDER_SETTINGS:"event_reminder_settings",REMINDER_ADMIN_TEXT:"reminder_admin_text",TRIGGER_WORD:"trigger_word",TRIGGER_CTA:"trigger_cta",TRIGGER_AGENT:"trigger_agent",REMINDER_XMA:"reminder_xma",MESSENGER_COMPOSER:"messenger_composer",MESSENGER_THREAD_SETTINGS:"messenger_thread_settings",MESSENGER_REMINDER_NUX:"messenger_reminder_nux",EDIT_REMINDER:"edit_reminder",CREATE_PROMPT:"create_prompt",EVENT_DISCOVER_FRIENDS_EVENTS_HSCROLL:"friends_events_hscroll",EVENT_DISCOVER_SUGGESTED_EVENTS_HSCROLL:"suggested_events_hscroll",EVENT_DISCOVER_TIME_SELECTOR:"top_time_selector",EVENTS_DISCOVER_CATEGORIES:"event_discover_categories",EVENTS_DISCOVER_TOP_TIME_FILTER:"event_discover_top_time_filter",TICKET_PURCHASE_DIALOG:"ticket_purchase_dialog",ADD_TICKETING_FLOW:"add_ticketing_flow",GROUPS_COMPOSER:"groups_composer",UPCOMING_EVENTS_IN_CITY:"upcoming_events_in_city",UPCOMING_EVENTS_AT_VENUE:"upcoming_events_at_venue",UPCOMING_EVENTS_WITH_PRIMARY_ROLE:"upcoming_events_with_primary_role",UPCOMING_EVENTS_FOR_GROUP:"upcoming_events_for_group",LOCAL_UPCOMING_EVENTS_IN_CITY:"local_upcoming_events_in_city",INVITE_OFF_FB_INFO_BAR:"invite_off_fb_permalink_info_bar",INVITE_OFF_FB_PERMALINK_LINK:"invite_off_fb_permalink_link",INVITE_OFF_FB_INVITE_BUTTON_DROPDOWN:"invite_off_fb_invite_button_dropdown",WARM_START:"warm_start",COLD_START:"cold_start",SEARCH_BUTTON:"search_button",CALL_REMINDER_CALL_LOG:"call_reminder_call_log",CALL_REMINDER_NEW_SCHEDULE:"call_reminder_new_schedule",CALL_REMINDER_XMA_SCHEDULE_CALL:"call_reminder_xma_schedule_call",CALL_REMINDER_ACTION_SHEET:"call_reminder_action_sheet",CALL_REMINDER_EVENT_EXIST_ALERT:"call_reminder_event_exist_conflict_alert",CALL_REMINDER_UPDATE_ALERT:"call_reminder_update_alert",PAGE_UPCOMING_EVENTS_CARD:"page_upcoming_events_card",PAGE_PAST_EVENTS_CARD:"page_past_events_card",BUY_TICKETS_CTA:"buy_tickets_cta",BUY_TICKETS_PRICE_LABEL:"buy_tickets_price_label",TICKETING_ONSITE_FLOW:"onsite_flow",BUY_TICKETS_ONSITE_PIVOT:"buy_onsite_tickets_pivot",CONTEXTUAL_RECOMMENDATIONS:"contextual_recommendations",EVENT_DISCOVER_SEE_MORE_PHOTO:"event_discover_see_more_photo",SUGGESTION_FEED_UNIT:"suggestion_feed_unit",AUCTION_QP_UNIT:"auction_qp_unit",NETEGO_SUGGESTION:"netego_suggestion",POPULAR_NEARBY:"popular_nearby",EVENTS_TAB:"events_tab",CALENDAR_TAB:"calendar_tab",HOSTING_TAB:"hosting_tab",POPULAR_SOCIAL:"popular_social",RELATED_HISTORY:"related_history",FRIENDS_ONLY:"friends_only",NON_FRIENDS:"non_friends",ADMIN_BANNER:"admin_banner",COHOST_ACCEPTANCE_UNIT:"cohost_acceptance_unit",HOME_TAB_SEE_SUGGESTED_EVENTS_TODAY:"home_tab_see_suggested_events_today",HOME_TAB_SEE_SUGGESTED_EVENTS_TOMORROW:"home_tab_see_suggested_events_tomorrow",HOME_TAB_SEE_SUGGESTED_EVENTS_FUTURE:"home_tab_see_suggested_events_future",HOME_TAB_SEE_ALL_UPCOMING_EVENTS_TAP:"home_tab_see_all_upcoming_events_tap",CALENDAR_TAB_EVENT:"calendar_tab_event",CALENDAR_TAB_INVITATION:"calendar_tab_invitation",CALENDAR_TAB_SUGGESTION:"calendar_tab_suggestion",HOME_TAB_UPCOMING_EVENT:"home_tab_upcoming_event",HOME_TAB_NEXT_EVENT:"home_tab_next_event",HOME_TAB_TRENDING_EVENTS:"home_tab_trending_events",HOME_TAB_PAGE_AND_GROUP_EVENTS:"home_tab_page_and_group_events",HOME_TAB_TODAY_EVENTS:"home_tab_today_events",HOME_TAB_THIS_WEEK_EVENTS:"home_tab_this_week_events",HOME_TAB_FUTURE_EVENTS:"home_tab_future_events",HOME_TAB_FRIENDS_EVENTS:"home_tab_friends_events",HOME_TAB_HERO_EVENTS:"home_tab_hero_events",HOSTING_TAB_UPCOMING_EVENT:"hosting_tab_upcoming_event",HOSTING_TAB_DRAFT_EVENT:"hosting_tab_draft_event",HOSTING_TAB_PAST_EVENT:"hosting_tab_past_event",LOCATION_SETTINGS:"location_settings",TOURS:"tours",TOUR_MAP:"tour_map",SHARE_BUTTON_DROPDOWN:"share_button_dropdown",SECONDARY_SHARE_BUTTON_DROPDOWN:"secondary_share_button_dropdown",FEED_ATTACHMENT:"feed_attachment",CHECKIN_EVENTS_AT_PLACE_CHAINING_PIVOT:"checkin_events_at_place_chaining_pivot",OTHER_EVENTS_IN_TOUR_CARD:"other_events_in_tour_card",PAGE_UPCOMING_TOUR_EVENTS_CARD:"page_upcoming_tour_events_card",PERMALINK_EVENT_INFORMATION:"event_information",PERMALINK_TAB_BAR:"event_tab_bar",SOCIAL_CONTEXT:"social_context",MEDIA_EFFECTS:"media_effects",DASHBOARD_INVITES_TAB:"dashboard_invites_tab",MESSENGER_POLL_CALENDAR:"messenger_poll_calendar",MESSENGER_POLL_POLL_TYPE_SELECTOR:"messenger_poll_poll_type_selector",CAMERA_FRAMES_PAGELET:"camera_frames_pagelet",DASHBOARD_HOME_DISCOVERY_CATEGORIES:"dashboard_home_discovery_categories",DASHBOARD_HOME_DISCOVERY_FILTER:"dashboard_home_discovery_filter",DASHBOARD_HOME_THREE_UP:"dashboard_home_three_up",PERMALINK_SHARE_CTA:"permalink_share_cta",PERMALINK_SHARE_SNACKBAR:"permalink_share_snackbar",PERMALINK_SCREENSHOT:"permalink_screenshot",SNACKBAR_ACTION_BUTTON:"snackbar_action_button",STORIES_VIEWER:"stories_viewer",HEADER_CTA_BUTTON:"header_cta_button",PIVOT_TO_INVITE:"pivot_to_invite",COMBINED_SHARE_SHEET:"combined_sharesheet",BOTTOM_ACTION_SHEET:"bottom_action_sheet",CALENDAR_LIST:"calendar_list",CALENDAR_LIST_PAGING:"calendar_list_paging",BIRTHDAY_LIST_PAGING:"birthdays_list_paging",HOSTING_LIST_PAGING:"hosting_list_paging",UPCOMING_EVENTS_CARD:"upcoming_events_card",MESSAGE_FRIENDS_CARD:"message_friends_card",HOME_TAB_FEED_UNITS:"home_tab_feed_units",HOME_TAB_SEE_ALL_UPCOMING_EVENTS:"home_tab_see_all_upcoming_events",HOME_TAB_CATEGORIES:"home_tab_categories",HOME_EVENTS_NEARBY_MAP_VIEW:"home_events_nearby_map_view",UPCOMING_TIMES_CARD:"upcoming_times_card",INTERCEPT_PAGE_COMPOSER:"intercept_page_composer",EVENT_REGISTRATION_PAGELET:"event_registration_pagelet",TICKETS_PURCHASE_CARD:"tickets_purchase_card",ORDER_DETAILS_DIALOG:"order_details_dialog",ORDER_FOOD_CARD:"order_food_card",PEOPLE_FACEPILE_CARD:"people_facepile_card",PEOPLE_HSCROLL_CARD:"people_hscroll_card",PEOPLE_LIST_CARD:"people_list_card",MIGHT_BE_INTERESTED_CARD:"might_be_interested_card",GUEST_LIST_CARD:"guest_list_card",SELF_SERVE_ADMIN:"self_serve_admin",SELF_SERVE_MESSAGE_ROW:"self_serve_message_row",SELF_SERVE_TICKETING_ROW:"self_serve_ticketing_row",MARKETPLACE_TICKETS_LIST_ROW:"marketplace_tickets_list_row",GUEST_LIST_DIALOG:"guest_list_dialog",REGISTERED_GUEST_CARD:"registered_guest_card",PUBLISHING_TOOLS:"publishing_tools",PUBLISHING_TOOLS_UPSELL:"publishing_tools_upsell",ROW_PIVOT:"row_pivot",POST_TO_EVENT_REVIEW:"post_to_event_review",POST_TO_EVENT_POST:"post_to_event_post",POST_TO_EVENT_CLOSE:"post_to_event_close",CHILD_EVENT_HEADER:"child_event_header",CHILD_EVENT_FOOTER:"child_event_footer",POPULAR_DATES_WITH_FRIENDS:"popular_dates_with_friends",UPCOMING_CHILD_TIMES:"upcoming_child_times",CHILD_DATES_VIEW:"child_dates_view",CHILD_TIME_SERIES:"child_time_series",TOUR_ABOUT_CARD:"tour_about_card",TOUR_UPCOMING_EVENT_LIST_CARD:"tour_upcoming_event_list_card",TOUR_PAST_EVENT_LIST_CARD:"tour_past_event_list_card",TOUR_FEATURED_PAGES_CARD:"tour_featured_pages_card",TOUR_RECOMMENDED_EVENT_LIST_CARD:"tour_recommended_event_list_card",TOUR_ADMIN_ACTION_BAR:"tour_admin_action_bar",TOUR_NO_UPCOMING_EVENTS_CARD:"tour_no_upcoming_events_card",TOUR_EVENTS_VIDEO_PLUGIN:"tour_events_video_plugin",EVENT_TAP_ON_TOUR_PERMALINK_EVENT:"event_tap_on_tour_permalink_event",EVENT_TOUR_PERMALINK_SEE_MORE_PAST_EVENTS:"event_tour_permalink_see_more_past_events",PAGE_COVER_AREA:"page_cover_area",SOCAL_QUICK_SEARCH_PIVOT_GRID:"socal_quick_search_pivot_grid",SOCAL_FEED_PIVOT_DAY_GUIDES:"socal_feed_pivot_day_guides",SOCAL_FEED_PIVOT_ACTIVITY_GUIDES:"socal_feed_pivot_activity_guides",SELF_SERVE_CHILD_ADMIN_HEADER_DROPDOWN:"self_serve_child_admin_header_dropdown",SELF_SERVE_CHILD_ADMIN_HEADER_BACK_LINK:"self_serve_child_admin_header_back_link",SELF_SERVE_ADMIN_CARD_PERMALINK:"self_serve_admin_card_permalink",SELF_SERVE_ADMIN_CHILD_LIST_TABLE:"self_serve_admin_child_list_table",SELF_SERVE_ICE_BREAKER_DIALOG:"self_serve_ice_breaker_dialog",SELF_SERVE_MESSAGE_LINK:"self_serve_message_link",SELF_SERVE_REQUEST_TICKETS_BUTTON:"self_serve_request_tickets_button",GROUP_POST:"group_post",MEETUP_ATTACHMENT:"meetup_attachment",UNIVERSAL_CREATION_HUB:"universal_creation_hub"}}}),null);
__d("MNCommercePageSetting",[],(function(a,b,c,d,e,f){e.exports={COMMERCE_FAQ_ENABLED:"COMMERCE_FAQ_ENABLED",IN_MESSENGER_SHOPPING_ENABLED:"IN_MESSENGER_SHOPPING_ENABLED",COMMERCE_NUX_ENABLED:"COMMERCE_NUX_ENABLED",NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED:"NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED",STRUCTURED_MENU_ENABLED:"STRUCTURED_MENU_ENABLED",USER_CONTROL_TOPIC_MANAGE_ENABLED:"USER_CONTROL_TOPIC_MANAGE_ENABLED",COMPOSER_INPUT_DISABLED:"COMPOSER_INPUT_DISABLED"}}),null);
__d("TransactionsFeedConversionLoggerJSConfig",[],(function(a,b,c,d,e,f){e.exports={type:{EVENT_ONSITE_TICKET_CLICK:1,EVENT_OFFSITE_TICKET_CLICK:2}}}),null);
__d("TypingDetector",["ArbiterMixin","Event","Input","Run","SubscriptionsHandler","TypingStates","createObjectFrom","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){this._input=a,this._ignoreKeys={},this._getValueFn=b}Object.assign(a.prototype,b("ArbiterMixin"),{_timeout:7e3,_currentState:b("TypingStates").INACTIVE,init:function(){this.init=b("emptyFunction"),this.reset(),this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("Event").listen(this._input,"keyup",this._update.bind(this)),b("Run").onUnload(this._onunload.bind(this)))},reset:function(){clearTimeout(this._checkTimer),this._checkTimer=null,this._lastKeystrokeAt=null,this._currentState=b("TypingStates").INACTIVE},setIgnoreKeys:function(a){this._ignoreKeys=b("createObjectFrom")(a)},destroy:function(){this._subscriptions.release()},_onunload:function(){this._currentState==b("TypingStates").TYPING&&this._transition(b("TypingStates").QUITTING)},_update:function(event){var a=b("Event").getKeyCode(event),c=this._currentState;if(!this._ignoreKeys[a]){a=this._getValueFn?this._getValueFn():b("Input").getValue(this._input);a.trim().length===0?c==b("TypingStates").TYPING&&this._transition(b("TypingStates").INACTIVE):c==b("TypingStates").TYPING?this._recordKeystroke():c==b("TypingStates").INACTIVE&&(this._transition(b("TypingStates").TYPING),this._recordKeystroke())}},_transition:function(a){this.reset(),this._currentState=a,this.inform("change",a)},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now(),this._checkTimer||(this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout))},_checkTyping:function(){var a=this._lastKeystrokeTime+this._timeout,c=Date.now();c>a?this._transition(b("TypingStates").INACTIVE):(clearTimeout(this._checkTimer),this._checkTimer=setTimeout(this._checkTyping.bind(this),a-c+10))}});e.exports=a}),null);
__d("TypingDetectorController",["ActorURI","AsyncRequest","AvailableList","AvailableListConstants","ChatVisibility","Keys","MercuryServerRequestsConfig","TypingDetector","TypingStates","clearTimeout","emptyFunction","ifRequired","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="/ajax/messaging/typ.php";function a(a,c,d,e,f,g,h){this.userID=a,this.input=c,this.source=d,this.threadID=f,this.pageID=h,this.remoteState=b("TypingStates").INACTIVE,this.notifyTimer=null,e=e||{},this.notifyDelay=e.notifyDelay||this.notifyDelay,this._typingDetector=new(b("TypingDetector"))(c,g),this._typingDetector.init(e),this._typingDetector.subscribe("change",this._stateChange.bind(this))}a.prototype.setUserAndThread=function(a,b){(this.userID!==a||this.threadID!==b)&&(this.resetState(),this.userID=a,this.threadID=b)};a.prototype.setIgnoreEnter=function(a){a=a?[b("Keys").RETURN]:[];this._typingDetector.setIgnoreKeys(a)};a.prototype.resetState=function(){this._notifyState(b("TypingStates").INACTIVE),this.remoteState=b("TypingStates").INACTIVE,this._typingDetector.reset(),b("clearTimeout")(this.notifyTimer),this.notifyTimer=null};a.prototype.destroy=function(){this.resetState(),this._typingDetector.destroy()};a.prototype._stateChange=function(a,c){c!=b("TypingStates").QUITTING?(b("clearTimeout")(this.notifyTimer),this.notifyTimer=b("setTimeoutAcrossTransitions")(b("shield")(this._notifyState,this,c),this.notifyDelay)):this._notifyState(c,!0)};a.prototype._notifyState=function(a,c){if(!this.userID&&!this.threadID||!b("ChatVisibility").isOnline()||a===this.remoteState||b("ifRequired")("ChannelConnection",function(a){return a.disconnected()},function(){return!0}))return;this._sendRequest(a,this.userID,c)};a.prototype._sendRequest=function(a,c,d){this.remoteState=a;a={typ:a,to:c,source:this.source,thread:this.threadID};var e=this.pageID?b("ActorURI").create(g,this.pageID):g;c=new(b("AsyncRequest"))().setHandler(this._onTypResponse.bind(this,c)).setErrorHandler(b("emptyFunction")).setData(a).setURI(e).setAllowCrossPageTransition(!0).setOption("asynchronous_DEPRECATED",!d);b("MercuryServerRequestsConfig").msgrRegion&&c.setRequestHeader("X-MSGR-Region",b("MercuryServerRequestsConfig").msgrRegion);c.send()};a.prototype._onTypResponse=function(a,c){c=c.getPayload()||{};c.offline&&b("AvailableList").set(a,b("AvailableListConstants").OFFLINE,"typing_response")};Object.assign(a.prototype,{notifyDelay:1e3});e.exports=a}),null);
__d("EmployeeLinkMatcher",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("^[\\s.,:]"),h=new RegExp("(?:\\b)(([BDFTPSXJNW]|(AIP)|(PR )|(PO ))\\d{4,})(?:\\b)","im"),i=new RegExp("(?:\\b)(designpack://.+)(?:\\b)","im");a=function(a){if(!b("CurrentUser").isEmployee())return null;a=h.exec(a)||i.exec(a);return a===null?null:{lnk:a[1],idx:a.index+(g.exec(a[0])?1:0)}};c=function(a){a=b("CurrentUser").isEmployee()&&(h.exec(a)!==null||i.exec(a)!==null);return a};d={match:a,isMatch:c};e.exports=d}),null);
__d("EmployeeLinkRanges",["EmployeeLinkMatcher","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={PHABRICATOR_PREFIX:"https://phabricator.intern.facebook.com/",TASKS_PREFIX:"https://our.intern.facebook.com/intern/tasks/?t=",BUSINESS_PREFIX:"https://our.intern.facebook.com/intern/business/?q=",SEV_PREFIX:"https://our.intern.facebook.com/intern/sevmanager/view/s/",CHRONOS_PREFIX:"https://our.intern.facebook.com/intern/chronos/lucky/?query=",ADS_PARTNER_PREFIX:"https://our.intern.facebook.com/intern/ads/partner_projects/projects/",SRT_JOB_PREFIX:"https://our.intern.facebook.com/intern/bunny/?srt+",ANALYTICS_NOTEBOOKS_PREFIX:"https://our.intern.facebook.com/intern/bunny/?anp+",FBLEARNER_RUN_PREFIX:"https://our.intern.facebook.com/intern/fblearner/details/",PURCHASE_REQUEST_PREFIX:"https://our.intern.facebook.com/intern/bunny/?q=pr+",PURCHASE_ORDER_PREFIX:"https://our.intern.facebook.com/intern/bunny/?q=po+",WORKORDER_PREFIX:"https://our.intern.facebook.com/intern/workorder/",get:function(a){__p&&__p();var c=arguments.length<=1||arguments[1]===undefined?0:arguments[1],d=a.substr(c),e=b("EmployeeLinkMatcher").match(d);if(!e)return[];var f=e.lnk,g=e.idx,h=b("UnicodeUtils").strlen(d.substr(0,g));c+=h;var i="";if(f.substr(0,3).toLowerCase()==="aip")i=this.ADS_PARTNER_PREFIX+f.substr(3);else if(f.substr(0,3).toLowerCase()==="pr ")i=this.PURCHASE_REQUEST_PREFIX+f.substr(3);else if(f.substr(0,3).toLowerCase()==="po ")i=this.PURCHASE_ORDER_PREFIX+f.substr(3);else switch(f[0].toLowerCase()){case"d":f.indexOf("designpack://")===0?i=f:i=this.PHABRICATOR_PREFIX+f.toUpperCase();break;case"p":i=this.PHABRICATOR_PREFIX+f.toUpperCase();break;case"t":i=this.TASKS_PREFIX+f.substr(1);break;case"b":i=this.BUSINESS_PREFIX+f.substr(1);break;case"s":i=this.SEV_PREFIX+f.substr(1);break;case"x":i=this.CHRONOS_PREFIX+f.substr(1);break;case"j":i=this.SRT_JOB_PREFIX+f.substr(1);break;case"n":i=this.ANALYTICS_NOTEBOOKS_PREFIX+f.substr(1);break;case"f":i=this.FBLEARNER_RUN_PREFIX+f.substr(1);break;case"w":i=this.WORKORDER_PREFIX+f.substr(1);break;default:return[]}var j=f.length,k=[{offset:c,length:j,entity:{url:i}}];return k.concat(this.get(a,c+j))}};e.exports=a}),null);
__d("EventReminderDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("EventReminderActions",["EventReminderDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DELETE_EVENT_REMINDER:null,UPDATE_EVENT_REMINDER:null});var g={Types:a,updateEventReminder:function(a,event,c){b("EventReminderDispatcher").dispatch({type:g.Types.UPDATE_EVENT_REMINDER,threadID:a,event:event,participantsEventStatus:c})},deleteEventReminder:function(a){b("EventReminderDispatcher").dispatch({type:g.Types.DELETE_EVENT_REMINDER,threadID:a})}};e.exports=g}),null);
__d("EventReminderMembersMap",["CurrentUser","EventReminderConstants","MercuryIDs","MercuryParticipants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("EventReminderConstants").EventGuestStates,h=b("EventReminderConstants").GuestStates;function a(a){this.$1=a,this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map(),this.$6=new Map(),this.$7=new Map()}a.prototype.setAllMembers=function(a,c){__p&&__p();if(!a)return;this.$2.set(c,h.INVITED);var d=[],e=[],f=[],g=[];for(var i in a){d.push(b("MercuryIDs").getParticipantIDFromUserID(i));var j=a[i];i===b("CurrentUser").getID()&&this.$2.set(c,j);var k={fbid:i,guestState:j,imageSrc:""};j===h.GOING?e.push(k):j===h.DECLINED?f.push(k):g.push(k)}j=e.concat(f,g);this.$3.set(c,j);this.$4.set(c,e);this.$7.set(c,!1);this.$8(c,d,j)};a.prototype.setAllMembersOfAssociatedEvent=function(a,c){__p&&__p();if(!a)return;this.$2.set(c,g.INITIAL);var d=[],e=[],f=[],h=[];a.map(function(a){d.push(b("MercuryIDs").getParticipantIDFromUserID(a.participant_id));var i=a.participant_id.toString();a=a.event_status||g.INITIAL;i===b("CurrentUser").getID()&&this.$2.set(c,a);i={fbid:i,guestState:a,imageSrc:""};a===g.GOING?e.push(i):a===g.WATCHED?f.push(i):h.push(i)},this);a=e.concat(f,h);this.$3.set(c,a);this.$4.set(c,e);this.$5.set(c,f);this.$6.set(c,h);this.$7.set(c,!1);this.$8(c,d,a)};a.prototype.clearMembers=function(a){this.$2["delete"](a),this.$3["delete"](a),this.$4["delete"](a),this.$5["delete"](a),this.$6["delete"](a)};a.prototype.getAllMembers=function(a){return this.$3.get(a)};a.prototype.getGoingMembers=function(a){return this.$4.get(a)};a.prototype.getInterestedMembers=function(a){return this.$5.get(a)};a.prototype.getSelfGuestState=function(a){return!this.$2.has(a)?h.INVITED:this.$2.get(a)};a.prototype.getProfileImagesLoaded=function(a){return!!this.$7.get(a)};a.prototype.$8=function(a,c,d){b("MercuryParticipants").getBigImageMulti(c,function(c){for(var e=0;e<d.length;e++)d[e].fbid&&(d[e].imageSrc=c[b("MercuryIDs").getParticipantIDFromUserID(d[e].fbid)]);this.$7.set(a,!0);this.$1.__emitChange()}.bind(this))};e.exports=a}),null);
__d("EventReminderStateStore",["EventReminderActions","EventReminderConstants","EventReminderDispatcher","EventReminderMembersMap","EventRemindersGating","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("EventReminderConstants").EventPlanType,i=36e5;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("EventReminderDispatcher")),this.$EventReminderStateStore1={},this.$EventReminderStateStore2=new(b("EventReminderMembersMap"))(this),this.$EventReminderStateStore3=new Map()}a.prototype.getEvent=function(a){return this.$EventReminderStateStore1[a]};a.prototype.getEventMembers=function(a){return this.$EventReminderStateStore2.getAllMembers(a)};a.prototype.getSelfGuestState=function(a){return this.$EventReminderStateStore2.getSelfGuestState(a)};a.prototype.getNumOfGoingMembers=function(a){a=this.$EventReminderStateStore2.getGoingMembers(a);return a?a.length:0};a.prototype.getNumOfInterestedMembers=function(a){a=this.$EventReminderStateStore2.getInterestedMembers(a);return a?a.length:0};a.prototype.getProfileImagesLoaded=function(a){return this.$EventReminderStateStore2.getProfileImagesLoaded(a)};a.prototype.shouldShowCTA=function(a,c){var d=this.getEvent(a),e=Date.now(),f=this.$EventReminderStateStore3.get(a);if((!d||!d.exist)&&c>b("EventRemindersGating").eventPlanCTAThreashold&&(!f||e-f>i)&&b("EventRemindersGating").shouldShowCTA){this.$EventReminderStateStore3.set(a,e);return!0}else return!1};a.prototype.clearEventMembers=function(a){this.$EventReminderStateStore2.clearMembers(a)};a.prototype.getTransformedEvent=function(event){if(event.room_type==="EVENT"){var a=event.event_place&&event.event_place.name,b=event.event_place&&event.event_place.address&&event.event_place.address.single_line_full_address;return{allowRSVP:!0,eventDate:event.start_timestamp,eventName:event.name,eventLocationName:a,eventLocationAddress:b,eventID:event.id.toString(),eventType:h.ASSOCIATED_EVENT,exists:!0}}return{allowRSVP:!!event.track_rsvp,eventDate:event.event_time,eventName:event.title,eventLocationName:event.location_name,eventLocationAddress:event.location_address,eventID:event.oid.toString(),eventType:event.event_type,exists:!0}};a.prototype.__onDispatch=function(a){__p&&__p();var c=b("EventReminderActions").Types,d=a.threadID;switch(a.type){case c.UPDATE_EVENT_REMINDER:var event=a.event;this.$EventReminderStateStore1[d]=this.getTransformedEvent(event);this.$EventReminderStateStore1[d].allowRSVP&&(event.room_type==="EVENT"?this.$EventReminderStateStore2.setAllMembersOfAssociatedEvent(a.participantsEventStatus,d):this.$EventReminderStateStore2.setAllMembers(event.event_members,d));break;case c.DELETE_EVENT_REMINDER:this.$EventReminderStateStore1[d].exists=!1;this.clearEventMembers(d);break}this.__emitChange()};a.__moduleID=e.id;e.exports=new a()}),null);
__d("MercuryMessageRenderLocations",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHAT:"chat",MESSENGER:"messenger",PAGES:"pages"});e.exports=a}),null);
__d("MessengerFormattingUtils",["cx","Newline.react","React","ReactFragment","UnicodeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return{offset:a[1].length,length:b("UnicodeUtils").strlen(a[2])+2,innerOffset:1,innerText:a[2]}}d={pattern:/([\s_~\'\"(]|^)\*(\S(?:.*?\S)??)\*(?=[\s_~,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s_~\'\"(]|^)\*(?:\S(?:.*?\S)??)\*(?=[\s_~,.;:!?\'\")]|$)/,formatter:function(a){return b("React").createElement("b",null,a)},getRangeInMatch:a,recursivelyFormat:!0};f={pattern:/([\s*~\'\"(]|^)_(\S(?:.*?\S)??)_(?=[\s*~,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s*~\'\"(]|^)_(?:\S(?:.*?\S)??)_(?=[\s*~,.;:!?\'\")]|$)/,formatter:function(a){return b("React").createElement("i",null,a)},getRangeInMatch:a,recursivelyFormat:!0};g={pattern:/([\s*_\'\"(]|^)~(\S(?:.*?\S)??)~(?=[\s*_,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s*_\'\"(]|^)~(?:\S(?:.*?\S)??)~(?=[\s*_,.;:!?\'\")]|$)/,formatter:function(a){return b("React").createElement("s",null,a)},getRangeInMatch:a,recursivelyFormat:!0};a={pattern:/([\s*_~\'\"(]|^)`(\S(?:.*?\S)??)`(?=[\s\w*_~,.;:!?\'\")]|$)/g,nonCapturingPattern:/(?:[\s*_~\'\"(]|^)`(?:\S(?:.*?\S)??)`(?=[\s\w*_~,.;:!?\'\")]|$)/,formatter:function(a){return b("React").createElement("code",null,a)},getRangeInMatch:a,recursivelyFormat:!1};var h=function(a){a={blockquote1:b("React").createElement("blockquote",{className:"_pye"},b("React").createElement("div",{className:"_pyf"}),a),blockquote2:b("React").createElement(b("Newline.react"),null)};return b("ReactFragment").create(a)},i={pattern:/(^>>> ?)((.|(\r\n)|\r|\n)*?\S(.|(\r\n)|\r|\n)*?)^<<<\s*?((\r\n)|\r|\n|$)/gm,nonCapturingPattern:/(^>>> ?)((.|(\r\n)|\r|\n)*?\S(.|(\r\n)|\r|\n)*?)^<<<\s*((\r\n)|\r|\n|$)/m,formatter:h,getRangeInMatch:function(a){return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(a[1]),innerText:a[2]}},recursivelyFormat:!0};h={pattern:/((^> )(.*\S.*)((\r\n)|\r|\n)?)(^> ?(.*)((\r\n)|\r|\n)?)*/gm,nonCapturingPattern:/(^> (.*\S.*)((\r\n)|\r|\n)?)(^> ?(.*)((\r\n)|\r|\n)?)*/m,formatter:h,getRangeInMatch:function(a){var c=a[0],d=b("UnicodeUtils").strlen(c);a=b("UnicodeUtils").strlen(a[2]);return{offset:0,length:d,innerOffset:a,innerText:c.substring(a,d)}},recursivelyFormat:!0,getAdditionalInnerRanges:function(a){return l(a.innerText,[j]).map(function(b){return babelHelpers["extends"]({},b,{offset:b.offset+a.innerOffset,innerOffset:b.innerOffset+a.innerOffset})})}};var j={pattern:/(^> ?)(.*?$)/gm,nonCapturingPattern:/^> ?(.*?$)/m,formatter:function(a){return a},getRangeInMatch:function(a){return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(a[1]),innerText:a[2]}},recursivelyFormat:!0},k=[d,f,g,a];b("gkx")("AT6IFGvJKEskVV3MpDhLcaRYk55exGzbLc4uf2H4PkUSB_m2BNrrV8nK4TTyE-IEyhbw2ed0C_HlWoHBx_yhMSmL")&&(k.push(i),k.push(h));function c(a){var b=arguments.length<=1||arguments[1]===undefined?k:arguments[1];for(var c=0;c<b.length;c++){var d=b[c].nonCapturingPattern;if(d.test(a))return!0}return!1}function l(a){__p&&__p();var c=arguments.length<=1||arguments[1]===undefined?k:arguments[1],d=[];for(var e=0;e<c.length;e++){var f=c[e];f.pattern.lastIndex=0;var g=void 0;while((g=f.pattern.exec(a))!=null){var h=f.getRangeInMatch(g),i=a.substr(0,g.index+h.offset),j=b("UnicodeUtils").strlen(i),l={offset:j,length:h.length,innerText:h.innerText,innerOffset:j+h.innerOffset,formatter:f.formatter,recursivelyFormat:f.recursivelyFormat},m=f.getAdditionalInnerRanges?f.getAdditionalInnerRanges(l):[];d.push(l);d=d.concat(m)}}return d}e.exports={defaultFormatConfigs:k,hasMatch:c,getRanges:l,formatConfigs:{bold:d,italic:f,strikethrough:g,code:a,blockquote:i,multipleInlineBlockquote:h,singleInlineBlockquote:j}}}),null);
__d("MessengerMathUtils",["UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2,h=/^(?:\$\$|\\\[)[\s\S]*?\S[\s\S]*?(?:\$\$|\\\])$/,i=/\\\([\s\S]*?\S[\s\S]*?\\\)/g;function a(a){return h.test(a)}function c(a){return a.substring(g,a.length-g)}function d(a){i.lastIndex=0;return i.test(a)}function f(a){arguments.length<=1||arguments[1]===undefined?0:arguments[1];var c=[];i.lastIndex=0;var d=void 0;while((d=i.exec(a))!==null){var e=a.substring(0,d.index),f=b("UnicodeUtils").strlen(e);c.push({offset:f,length:b("UnicodeUtils").strlen(d[0]),math:!0})}return c}function j(a){var b=a.length,c=0,d=0;for(var e=0;e<b;e++)a[e]==="\\"?a.slice(e,e+6)==="\\begin"?(c+=2,d=Math.max(d,c)):a.slice(e,e+4)==="\\end"?c-=2:e++:a[e]==="{"?(c++,d=Math.max(d,c)):a[e]==="}"&&c--;return d}e.exports={MATH_DELIMITER_LENGTH:g,isMathBlock:a,hasInlineMath:d,getInlineMathRanges:f,getMathBlockInner:c,getMaxBraceDepth:j}}),null);
__d("MessengerSupportedEmojiUtils",["cx","EmojiImageURL","EmojiLikeConstants","EmojiRenderer","EmoticonEmojiList","FBEmojiAliases","Image.react","MessengerHotlikeEmoji.bs","MessengerSupportedEmoji","MessengerEmojiTransitionMapping.bs","React","SupportedFBEmoji","Utf16","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/_fe0f/g,i=new RegExp("(\r\n|[ \r\n]|s)");a={getSupportedEmojiKey:function(a){__p&&__p();if(!a)return null;var c=null,d=this.parse(a);if(d.length===1&&d[0].length===a.length){a=d[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(h,"")}if(c&&b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE")){d=b("FBEmojiAliases")[c];d&&(c=d.replace(h,""))}return this.isSupportedEmojiKey(c)?c:null},isSupportedEmoji:function(a){return!!this.getSupportedEmojiKey(a)},isSupportedEmojiKey:function(a){if(!a)return!1;return b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE")&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?!!b("SupportedFBEmoji")[function(a){var c=b("FBEmojiAliases")[a];return c?c.replace(h,""):a}(a)]:!!b("MessengerSupportedEmoji").emoji[a]},isMessengerSupportedEmojiKey:function(a){return!!(a&&b("MessengerSupportedEmoji").emoji[a])},getSupportedEmojiCodesArray:function(a){__p&&__p();if(!a)return null;var c=this.parse(a);if(c.length===1&&c[0].length===a.length){a=c[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(h,"");if(this.isSupportedEmojiKey(c))return a}return null},getEmojiKeyFromCodes:function(a){a=a.map(function(a){return a.toString(16)}).join("_").replace(h,"");var c=b("FBEmojiAliases")[a];return c?c.replace(h,""):a},getClassSizeMap:function(){var a,c=b("EmojiLikeConstants").size;return a={},a[c.XSMALL]="_2560",a[c.SMALL]="_1ifu",a[c.MEDIUM]="_19_r",a[c.LARGE]="_19_s",a},getEmojiMatchObj:function(a){a=this.parse(a,1);if(a.length!==1)return null;var c=a[0].emoji,d=a[0].emoji.map(function(a){return b("Utf16").decode(a)});b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE")&&(b("MessengerEmojiTransitionMapping.bs").hasGender(d)&&!b("MessengerEmojiTransitionMapping.bs").getGender(d)&&(d=b("MessengerEmojiTransitionMapping.bs").makeFemale(d)));d=d.map(function(a){return a.toString(16)}).join("_").replace(h,"");return{emoji_key:d,emoji_str:c.join(""),is_supported:this.isSupportedEmojiKey(d),offset:a[0].offset,length:a[0].length}},getNewEmojiData:function(a,c){__p&&__p();if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[c];c=b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE")&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getFBEmojiURL(a,c):b("EmojiImageURL").getMessengerURL(a,c);return{emoji:b("React").createElement(b("Image.react"),{className:d,src:c}),emoji_key:a,url:c}},getHotLikeEmojiData:function(a,c){__p&&__p();if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE"),e=this.getClassSizeMap();c=this.transferSize(c);var f=d&&c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);e=b("joinClasses")(e[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[f];f=d&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getFBEmojiURL(a,c):b("EmojiImageURL").getMessengerURL(a,c);return{emoji:b("React").createElement(b("Image.react"),{className:e,src:f}),emoji_key:a,url:f}},getEmojiOnlyContents:function(a){__p&&__p();a=a||"";var c=[];while(a.length>0&&a.trim().length>0){var d=i.exec(a),e="";while(d&&d.length&&d.index===0)e+=d[0],a=a.replace(i,""),d=i.exec(a);e.length>0&&c.push({text:e});d=b("EmoticonEmojiList").noncapturingRegexp.exec(a);if(d&&d.index===0){e=b("EmoticonEmojiList").names[d[1]];e=b("EmoticonEmojiList").emote2emojis[e];c.push({emojiKey:e,text:d[1]});a=a.replace(d[1],"")}else{d=this.getEmojiMatchObj(a);if(d&&d.is_supported)c.push({emojiKey:d.emoji_key,text:d.emoji_str}),a=a.replace(d.emoji_str,"");else return null}}return c},getUrl:function(a,c){a=a.replace(h,"");c=this.transferSize(c);if(b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE")&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var d=b("FBEmojiAliases")[a];d&&(a=d.replace(h,""));return!this.isSupportedEmojiKey(a)?null:b("EmojiImageURL").getFBEmojiURL(a,b("EmojiLikeConstants").sizeMap[c])}return!b("MessengerSupportedEmoji").emoji[a]?null:b("EmojiImageURL").getMessengerURL(a,b("EmojiLikeConstants").sizeMap[c])},containsEmoji:function(a){return this.parse(a,1).length===1},parse:function(a,c){return b("EmojiRenderer").parse(a,c)},transferSize:function(a){return b("EmojiLikeConstants").sizeMapTransfer[a]||a}};e.exports=a}),null);
__d("P2PTriggersUtils",["P2PGKValues"],(function(a,b,c,d,e,f){var g=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/;a={canSeeTriggers:function(a){return!b("P2PGKValues").P2PEnabled?!1:!0},getMatches:function(a){return a.match(g)}};e.exports=a}),null);
__d("RedditLinkMatcher",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("(^|\\s)(\\/[ru]\\/\\w{1,21})(?:\\b)","i");a=function(a){a=g.exec(a);return a===null?null:{lnk:a[2],idx:a.index+a[1].length}};b=function(a){return g.exec(a)!==null};c={match:a,isMatch:b};e.exports=c}),null);
__d("RedditLinkRanges",["RedditLinkMatcher","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={REDDIT_PREFIX:"https://reddit.com",get:function(a){__p&&__p();var c=arguments.length<=1||arguments[1]===undefined?0:arguments[1],d=a.substr(c),e=b("RedditLinkMatcher").match(d);if(!e)return[];var f=e.lnk,g=e.idx,h=b("UnicodeUtils").strlen(d.substr(0,g));c+=h;var i="";switch(f[1].toLowerCase()){case"r":i=this.REDDIT_PREFIX+f;break;case"u":i=this.REDDIT_PREFIX+f;break;default:return[]}var j=f.length,k=[{offset:c,length:j,entity:{url:i}}];return k.concat(this.get(a,c+j))}};e.exports=a}),null);
__d("TextWithEntitiesMetadataType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,CONCEPT:1,INTENT:2})}),null);
__d("shouldAddMRefParam",["isFacebookURI"],(function(a,b,c,d,e,f){a=function(a){if(!b("isFacebookURI")(a)||a.getFragment())return!1;return/^\/events\//.test(a.getPath())?!0:!1};e.exports=a}),null);
__d("MercuryMessageBody.react",["cx","fbt","BootloadedComponent.react","CurrentUser","DateConsts","EmojiRenderer","EmoticonEmojiList","EmoticonsList","EmployeeLinkMatcher","EmployeeLinkRanges","EventRemindersGating","EventReminderStateStore","JSResource","Link.react","MercuryIDs","MercuryMessageRenderLocations","MessengerContactActions.bs","MessengerFormattingUtils","MessengerMathUtils","MessengerSupportedEmojiUtils","MessengerTextWithEntities.react","P2PTriggersUtils","React","RedditLinkMatcher","RedditLinkRanges","TextWithEntities.react","TextWithEntitiesMetadataType","UnicodeUtils","URI","URLMatcher","emptyFunction","getURLRanges","gkx","ifRequired","requireWeak","shouldAddMRefParam"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerContactActions.bs").actions;c=b("React").PropTypes;var k=function(){k=b("emptyFunction"),b("ifRequired")("ChatAppActions",function(a){a.setInitialDisplayDone()})};d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.interpolator=function(a,c){__p&&__p();var d,e=this;if(c.className)return b("React").createElement("span",{className:c.className},a);if(c.math)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),body:this.$4(a),fallbackBody:a,inline:!0,stripDelimiters:!0,className:"_1e4d _1e4e"});if(c.id){var d=function(){var d={};!b("CurrentUser").isWorkUser()&&!e.props.isFromViewer&&e.props.threadCustomColor&&(d.color=e.props.threadCustomColor);var f=e.props.onContactSelect,g=e.props.threadID?b("MercuryIDs").getThreadFBIDFromThreadID(e.props.threadID)===c.id:!1,h=new(b("URI"))("/ajax/hovercard/user.php").setQueryData({id:c.id}),i=b("gkx")("AT6RjIJVvIfplq-ZeT5_MD81B3OgeLlmewNtJ7hzw811gUcL2KB7zXVo29pTy6tr5BFiWzx-vsgfOHRh3TsCXQ_N");h=b("React").createElement(b("Link.react"),{className:"_ih-"+(b("CurrentUser").isWorkUser()&&c.id===b("CurrentUser").getID()?" _1zle":""),href:g?"#":c.url,"data-hovercard":i?h:null,style:d,onClick:f&&!g?function(a){this.$3(f,c,a)}.bind(e):b("emptyFunction")},a);b("gkx")("AT7Q3RXvU0e0MR7WMB7vpMdOzYsW6m3MXSY9NFLfpMl_9zOHYMydsYAgMgpRAa3rIuTQCnrjzygxZViELyTXnLRu")&&!g&&f&&!i&&(typeof a==="string"&&(c.contactName=a&&a.replace("@","")),h=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerAvatarActions.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:h,avatar:h,contact:c,showSendMessageItem:!0,onAction:e.props.onContactSelect}));return{v:h}}();if(typeof d==="object")return d.v}if(c.formatter)if(c.recursivelyFormat){d=this.renderBody(c.innerText,!0,c.innerOffset);return c.formatter(d)}else return c.formatter(c.innerText);if(c.entity&&c.entity.url){d=new(b("URI"))(c.entity.url.replace(/#+$/,""));b("shouldAddMRefParam")(d)&&d.addQueryData({__mref:"mb"});d=d.toString();if(b("URI").isValidURI(d))return b("React").createElement(b("Link.react"),{href:{url:d,shimhash:c.entity.shimhash},s:c.entity.s,target:"_blank"},a);else return a}if(!c.entity){d=typeof c.type==="number"?c.type:b("TextWithEntitiesMetadataType")[c.type];switch(d){case b("TextWithEntitiesMetadataType").NONE:return b("React").createElement("span",{className:"_2y9",title:JSON.stringify(c.data)},a);case b("TextWithEntitiesMetadataType").CONCEPT:return this.renderConceptMetadata(a,c.data);case b("TextWithEntitiesMetadataType").INTENT:return this.renderIntentMetadata(a,c.data);default:return a}}return a}.bind(this),this.state=this.parseMessageBody(a)}a.prototype.UNSAFE_componentWillReceiveProps=function(a){(this.props.body!==a.body||this.props.metaRanges!==a.metaRanges||this.props.ranges!==a.ranges)&&this.setState(this.parseMessageBody(a))};a.prototype.parseMessageBody=function(a){__p&&__p();var c=(a.body||"").replace(/\s+$/,""),d=this.$1(a.metaRanges||[]);d={normalizedBody:c,isEncrypted:!1,isMathBlock:!1,isRichText:!1,ranges:[],filteredMetaRanges:d};if(c.length===0)return d;if(c.startsWith("?OTR")){d.isEncrypted=!0;return d}if(b("MessengerMathUtils").isMathBlock(c)){d.isMathBlock=!0;return d}var e=a.ranges,f=a.metaRanges;f=e&&e.length||f&&f.length||b("EmoticonsList").noncapturingRegexp.test(c)||b("EmojiRenderer").containsEmoji(c)||b("URLMatcher").match(c)||b("EmployeeLinkMatcher").isMatch(c)||b("RedditLinkMatcher").isMatch(c)||this.$2(c,a)||b("MessengerSupportedEmojiUtils").containsEmoji(c)||b("EmoticonEmojiList").noncapturingRegexp.test(c)||b("MessengerFormattingUtils").hasMatch(c)||b("MessengerMathUtils").hasInlineMath(c);if(!f)return d;d.isRichText=!0;e&&e.length===1&&e[0].className==="__in"&&(e=b("getURLRanges")(c).concat(e));e=e||[];e=e.concat(b("getURLRanges")(c),b("EmployeeLinkRanges").get(c));e=e.concat(b("RedditLinkRanges").get(c));e=e.concat(b("MessengerFormattingUtils").getRanges(c));e=e.concat(b("MessengerMathUtils").getInlineMathRanges(c));d.ranges=e.filter(function(a){return a!=undefined});return d};a.prototype.hasFormatting=function(){return this.state.isRichText||this.state.isMathBlock||this.state.isEncrypted};a.prototype.$3=function(a,c,d){b("gkx")("AT7Q3RXvU0e0MR7WMB7vpMdOzYsW6m3MXSY9NFLfpMl_9zOHYMydsYAgMgpRAa3rIuTQCnrjzygxZViELyTXnLRu")?d.preventDefault():a(j.MESSAGE,c,d)};a.prototype.$4=function(a){if(this.props.isFromViewer)return"\\color{#fff}{"+b("MessengerMathUtils").getMathBlockInner(a)+"}";else return b("MessengerMathUtils").getMathBlockInner(a)};a.prototype.renderConceptMetadata=function(a,b){if(!b)return a;return b.intent_name||b.name?this.renderIntentMetadata(a,b):a};a.prototype.renderIntentMetadata=function(a,c){__p&&__p();if(!c)return a;var d=c.intent_name||c.name;switch(d){case"request_time":return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ServicesVerticalRequestTimeTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});case"timestamp":if(this.$5(c.value)&&b("EventRemindersGating").shouldShowTriggerWords)if(this.props.renderLocation===b("MercuryMessageRenderLocations").CHAT)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});else if(this.props.renderLocation===b("MercuryMessageRenderLocations").MESSENGER)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});return a;default:return a}};a.prototype.renderIntentCTA=function(a){__p&&__p();if(a){var c=a.intent_name||a.name;switch(c){case"request_time":return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ServicesRequestTimeIntentCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,isFromViewer:this.props.isFromViewer,threadID:this.props.threadID});case"create_event":b("requireWeak")("EventReminderActionsLogger",function(a){a.logTriggerOnTriggerCTA()});c=this.props.threadID;var d=c&&this.$5(a.timestamp)&&b("EventReminderStateStore").shouldShowCTA(c,a.confidence);if(!d)return null;if(this.props.renderLocation===b("MercuryMessageRenderLocations").CHAT)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,threadID:c});else if(this.props.renderLocation===b("MercuryMessageRenderLocations").MESSENGER)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,threadID:c})}}return null};a.prototype.renderCTAs=function(a){var c=null;if(a.length>0){a=a[0]||{};var d=typeof a.type==="number"?a.type:b("TextWithEntitiesMetadataType")[a.type];switch(d){case b("TextWithEntitiesMetadataType").CONCEPT:case b("TextWithEntitiesMetadataType").INTENT:c=this.renderIntentCTA(a.data);break}}return c};a.prototype.renderBody=function(a){__p&&__p();var c=arguments.length<=1||arguments[1]===undefined?!1:arguments[1],d=arguments.length<=2||arguments[2]===undefined?0:arguments[2],e=this.state,f=e.isRichText,g=e.ranges,h=e.filteredMetaRanges,i=b("UnicodeUtils").strlen(a);if(!f)return b("React").createElement("span",{className:this.props.className},a);c&&(g=g.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+i}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}),h=h.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+i}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}));var j={className:this.props.className,interpolator:this.interpolator,metaRanges:h,ranges:g,renderEmoji:!0,renderEmoticons:!0,text:a};if(this.$2(a)){var k=b("React").createElement(b("TextWithEntities.react"),j);return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:k,bootloadLoader:b("JSResource")("TextWithEntitiesAndP2P.react").__setRef("MercuryMessageBody.react")},j,{getMessengerEmote:this.$6,isSupportedEmoji:this.$7,threadID:this.props.threadID}))}var l=b("React").createElement(b("MessengerTextWithEntities.react"),j);if(c)return l;var m=this.renderCTAs(this.props.metaRanges||[]);return!m?l:b("React").createElement("span",null,l,m)};a.prototype.render=function(){__p&&__p();var a=this.state,c=a.normalizedBody,d=a.isEncrypted;a=a.isMathBlock;if(c.length===0)return null;k();if(this.props.plainText)return b("React").createElement("span",null,c);else if(d)return b("React").createElement("span",{className:"_89h"},h._("[encrypted message]"));else if(a)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("div",null,c),body:this.$4(c),fallbackBody:c,stripDelimiters:!0,className:"_1e4d"});else return this.renderBody(c)};a.prototype.$7=function(a){return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)};a.prototype.$6=function(a){a=b("EmoticonEmojiList").emote2emojis[a];return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)?a:null};a.prototype.$5=function(a){a=new Date(a*b("DateConsts").MS_PER_SEC);var c=new Date(Date.now()+5*b("DateConsts").MS_PER_MIN),d=new Date(new Date().setFullYear(new Date().getFullYear()+1));return a>c&&a<d};a.prototype.$1=function(a){var b=a.filter(function(a){return a.data&&(a.data.intent_name==="create_event"||a.data.name==="create_event")});return b.length!==0?b:a};a.prototype.$2=function(a){var c=arguments.length<=1||arguments[1]===undefined?this.props:arguments[1];return!!(c.threadID&&b("P2PTriggersUtils").canSeeTriggers(c.threadID)&&b("P2PTriggersUtils").getMatches(a))};a.propTypes={body:c.string,customLike:c.object,isFromViewer:c.bool,metaRanges:c.array,ranges:c.array,threadCustomColor:c.string,threadID:c.string,onContactSelect:c.func,renderLocation:c.oneOf([b("MercuryMessageRenderLocations").CHAT,b("MercuryMessageRenderLocations").MESSENGER,b("MercuryMessageRenderLocations").PAGES])};e.exports=a}),null);
__d("MercuryMessageDeliveryState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1});e.exports=a}),null);
__d("MercuryMessageInfo",["MercuryActionStatus","MercuryIDs","MercuryMessageDeliveryState","MercuryViewer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isOutbound:function(a){return a.author===b("MercuryViewer").getID()},isInbound:function(a){return!g.isOutbound(a)},isSending:function(a){return a.status===b("MercuryActionStatus").UNSENT||a.status===b("MercuryActionStatus").UNCONFIRMED||a.status===b("MercuryActionStatus").UNABLE_TO_CONFIRM||a.status===b("MercuryActionStatus").RESENDING},isSent:function(a){return a.status==null||a.status===b("MercuryActionStatus").SUCCESS},hasError:function(a){return a.status===b("MercuryActionStatus").FAILED_UNKNOWN_REASON||a.status===b("MercuryActionStatus").UNABLE_TO_CONFIRM||a.status===b("MercuryActionStatus").ERROR},getDeliveryState:function(a,c){if(this.hasError(a))return b("MercuryMessageDeliveryState").ERROR;if(this.isSending(a))return b("MercuryMessageDeliveryState").SENDING;return this.isSent(a)?a.timestamp<=c?b("MercuryMessageDeliveryState").DELIVERED:b("MercuryMessageDeliveryState").SENT:b("MercuryMessageDeliveryState").UNKNOWN},getPersona:function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return a&&a.persona_id?{id:b("MercuryIDs").getParticipantIDFromUserID(a.persona_id)}:null}};e.exports=g}),null);
__d("MercuryErrorInfo",["fbt","MercuryErrorType","MercuryMessageInfo"],(function(a,b,c,d,e,f,g){var h={getMessage:function(a){var b="";h.isConnectionError(a)?(b=g._("This message didn't send."),h.isTransient(a)&&(b=g._("{message} Check your internet connection and click to try again.",[g._param("message",b)]))):(a&&a.description?b=a.description:b=g._("This message failed to send."),h.isTransient(a)&&(b=g._("{message} Click to send again.",[g._param("message",b)])));return b},isConnectionError:function(a){return a&&a.type==b("MercuryErrorType").TRANSPORT?a.code===1001||a.code===1004||a.code===1006:!1},isTransient:function(a){return a&&a.is_transient},isPermanent:function(a){return a?!this.isTransient(a):!1},hasErrorStatus:function(a){return b("MercuryMessageInfo").hasError(a)}};e.exports=h}),null);
__d("MercuryMessageError.react",["cx","CurrentUser","ImmutableObject","Link.react","MercuryErrorInfo","MercuryMessageActions","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.messageResend=function(a){a.preventDefault();a=this.props.message;a=a.error_data;b("MercuryErrorInfo").isTransient(a)&&b("MercuryMessageActions").getForFBID(this.props.authorFBID).resend(this.props.message)}.bind(this),c}a.prototype.render=function(){var a=this.props.message,c=a.error_data;return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",className:b("joinClasses")(this.props.className,this.$1(a)),tabIndex:b("MercuryErrorInfo").isTransient(c)?0:null,onClick:this.messageResend}),b("React").createElement("i",{className:"_2fs1"}),b("React").createElement("span",{className:"_61ag",dangerouslySetInnerHTML:{__html:this.$2(a)}}))};a.prototype.$1=function(a){if(b("MercuryErrorInfo").hasErrorStatus(a))return"_2fs2 _2fs3"+(b("MercuryErrorInfo").isTransient(a.error_data)?" _2fs4":"")+(b("MercuryErrorInfo").isPermanent(a.error_data)?" _2fs5":"");else return"_2fs6 _2fs2"};a.prototype.$2=function(a){var c="",d=a.error_data;if(b("MercuryErrorInfo").hasErrorStatus(a)){a=b("MercuryErrorInfo").getMessage(d);a&&(c=a.toString())}typeof c==="object"&&c.__html&&(c=c.__html);return c};a.propTypes={authorFBID:c.string,message:c.instanceOf(b("ImmutableObject")).isRequired};a.defaultProps={authorFBID:b("CurrentUser").getID()};e.exports=a}),null);
__d("EventPlanExperiment",["EventRemindersGating","QE2Logger"],(function(a,b,c,d,e,f){"use strict";var g="event_plan_entry_point_nux";a={shouldShowEntryPointNuxWithExposure:function(){b("QE2Logger").logExposureForUser(g);return b("EventRemindersGating").shouldShowEntryPointNux}};e.exports=a}),null);
__d("XEventReminderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/",{event_reminder_id:{type:"Int",required:!0}})}),null);
__d("EventReminderRequestHelper",["AsyncRequest","EventReminderActions","XEventReminderController"],(function(a,b,c,d,e,f){"use strict";a={fetchEventReminder:function(a,c,d){c=b("XEventReminderController").getURIBuilder().setInt("event_reminder_id",c);new(b("AsyncRequest"))(c.getURI()).setHandler(function(c){c.payload&&(b("EventReminderActions").updateEventReminder(a,c.payload),d())}).send()}};e.exports=a}),null);
__d("MessengerMessageActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setContainermodule=function(a){this.$1.containermodule=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setEntryPoint=function(a){this.$1.entry_point=a;return this};a.prototype.setErrorText=function(a){this.$1.error_text=a;return this};a.prototype.setGroupSize=function(a){this.$1.group_size=a;return this};a.prototype.setMessageType=function(a){this.$1.message_type=a;return this};a.prototype.setMid=function(a){this.$1.mid=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setOfflineThreadid=function(a){this.$1.offline_threadid=a;return this};a.prototype.setPreviousReaction=function(a){this.$1.previous_reaction=a;return this};a.prototype.setReaction=function(a){this.$1.reaction=a;return this};a.prototype.setRecipientID=function(a){this.$1.recipient_id=a;return this};a.prototype.setThreadType=function(a){this.$1.thread_type=a;return this};a.prototype.setThreadid=function(a){this.$1.threadid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={action:!0,appid:!0,appversion:!0,clienttime:!0,containermodule:!0,country:!0,entry_point:!0,error_text:!0,group_size:!0,message_type:!0,mid:!0,name:!0,offline_threadid:!0,previous_reaction:!0,reaction:!0,recipient_id:!0,thread_type:!0,threadid:!0,vc:!0};e.exports=a}),null);
__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEmojiGroup=function(a){this.$1.emoji_group=a;return this};a.prototype.setEmojiGroupCount=function(a){this.$1.emoji_group_count=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMid=function(a){this.$1.mid=a;return this};a.prototype.setSenderID=function(a){this.$1.sender_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={emoji_group:!0,emoji_group_count:!0,event:!0,mid:!0,sender_id:!0,vc:!0};e.exports=a}),null);
__d("StickersTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:StickersLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setNumsearchresults=function(a){this.$1.numsearchresults=a;return this};a.prototype.setPackid=function(a){this.$1.packid=a;return this};a.prototype.setPackids=function(a){this.$1.packids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setSearchtoken=function(a){this.$1.searchtoken=a;return this};a.prototype.setStickerid=function(a){this.$1.stickerid=a;return this};a.prototype.setTagid=function(a){this.$1.tagid=a;return this};a.prototype.setTriggeredword=function(a){this.$1.triggeredword=a;return this};a.prototype.setTriggerused=function(a){this.$1.triggerused=a;return this};c={event:!0,numsearchresults:!0,packid:!0,packids:!0,searchtoken:!0,stickerid:!0,tagid:!0,triggeredword:!0,triggerused:!0};e.exports=a}),null);
__d("MessagesViewerSetID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"})}),null);
__d("MessagesViewer",["AsyncRequest","DOM","MessagesViewerSetID","PhotoStore","React","ReactDOM","emptyFunction","ge"],(function(a,b,c,d,e,f){__p&&__p();a={renderSpotlight:function(a,c,d,e){var f=a.setID;f||(f=b("MessagesViewerSetID").MESSAGES);g(b("React").createElement(d,{actorid:a.actorid,dimensions:[a.dimensions],disablepaging:a.disablePaging,disableForward:a.disableForward,forwardDialogComponent:e,open:!0,photoid:a.fbid,reverse:!1,rootClassName:a.rootClassName,setid:f,snapToPhoto:a.snapToPhoto,thumbsrc:a.src}));if(!b("PhotoStore").hasBeenCreated(f)&&a.endpoint){d=new(b("AsyncRequest"))(a.endpoint);c&&d.setRelativeTo(c);d.send()}},renderVideo:function(a){g(a)}};function g(a){var c=b("ge")("messages_viewer");c||(c=b("DOM").create("div",{id:"messages_viewer"}),document.body.appendChild(c));b("ReactDOM").render(a,c,function(){this.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(c)})})}e.exports=a}),null);
__d("MercuryAttachmentViewer",["Bootloader","MessagesViewer","React","Run","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a={renderVideo:function(a){b("Bootloader").loadModules(["MessagingVideoViewer.react","MessagingForwardAttachmentDialog.react"],function(c,d){b("MessagesViewer").renderVideo(b("React").createElement(c,babelHelpers["extends"]({},a,{forwardDialogComponent:d})))},"MercuryAttachmentViewer")},bootstrapWithConfig:function(a,c){b("Bootloader").loadModules(["SpotlightMessagesViewer","MessagingForwardAttachmentDialog.react"],function(d,e){b("MessagesViewer").renderSpotlight(a,c,d,e)},"MercuryAttachmentViewer")},preload:function(){b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessagingForwardAttachmentDialog.react"],b("emptyFunction"),"MercuryAttachmentViewer")})}};e.exports=a}),null);
__d("ChatAnimatedGifs",["URI"],(function(a,b,c,d,e,f){__p&&__p();var g={shouldHideBody:function(a){__p&&__p();if(!a.has_attachment)return!1;for(var b=0;b<a.attachments.length;b++){var c=a.attachments[b];if(c.preview_url){c=g.getRawUrlFromSafeUrl(c.preview_url);if(a.body==c)return!0}}return!1},getRawUrlFromSafeUrl:function(a){return new(b("URI"))(a).getQueryData().url}};e.exports=g}),null);
__d("ChatNotificationConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NORMAL:0,NO_USER_MESSAGE_NOTIFICATION:1})}),null);
__d("ChatBehavior",["Arbiter","AvailableList","AvailableListConstants","ChatNotificationConstants"],(function(a,b,c,d,e,f){__p&&__p();a=!1;var g=b("AvailableList").getWebChatNotification&&b("AvailableList").getWebChatNotification(),h=a,i=!0,j=Object.assign(new(b("Arbiter"))(),{ON_CHANGED:"changed",notifiesUserMessages:function(){return g!==b("ChatNotificationConstants").NO_USER_MESSAGE_NOTIFICATION},ignoresRemoteTabRaise:function(){return h},showsTabUnreadUI:function(){return i}});function k(){j.inform(j.ON_CHANGED)}b("AvailableList").subscribe&&b("AvailableList").subscribe(b("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,function(){var a=g,c=b("AvailableList").getWebChatNotification();g=c;a!=c&&k()});b("Arbiter").subscribe("chat/set_does_page_occlude_tabs",function(a,b){h=!!b,k()});b("Arbiter").subscribe("chat/set_show_tab_unread_ui",function(a,b){i=!!b,k()});e.exports=j}),null);
__d("EmojiOnlyMessage.react",["cx","EmojiImageURL","EmojiLikeConstants","Image.react","MessengerHotlikeEmoji.bs","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a="_1ift _1ifu",c=0,d=this.props.contents.map(function(d){c++;var e=d.emojiKey;if(e){e=b("gkx")("AT7ffoM8gf91Fer7cUMkwGH62Vum20vkKo_AIqUOx27bu9y21PoFYcSzgDJj_KAeh5RgHmHKzv6c5n2RlIxDAfXE")&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(e)?b("EmojiImageURL").getFBEmojiURL(e,b("EmojiLikeConstants").sizeMap.dp32):b("EmojiImageURL").getMessengerURL(e,b("EmojiLikeConstants").sizeMap.dp32);return b("React").createElement(b("Image.react"),{alt:d.text,className:a,key:c,src:e})}else return b("React").createElement("span",{key:c},d.text)});return b("React").createElement("div",{tabIndex:"0"},d)};function a(){h.apply(this,arguments)}a.propTypes={contents:c.arrayOf(c.shape({emojiKey:c.string,text:c.string.isRequired})).isRequired};e.exports=a}),null);
__d("MessagingGiftWrap.react",["cx","MessengerEnvironment","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={unwrapped:!1},this.$1=function(a){a.stopPropagation(),this.setState({unwrapped:!0}),this.props.onUnwrap&&this.props.onUnwrap()}.bind(this),b}a.prototype.render=function(){var a=b("MessengerEnvironment").messengerui;return b("React").createElement("div",{className:"_4p0m"+(this.state.unwrapped?" _4p0o":"")+(a?" _mxz":"")+(a?" _4br2":"")+(a?"":" _3_om")+(this.props.isSticker?" _52vq":""),onClick:this.$1,role:"presentation"},b("React").createElement("div",{className:"_4p0r"}),b("React").createElement("div",{className:"_4p0s _4p0t"}),b("React").createElement("div",{className:"_4p0s _4p0u"}))};a.propTypes={isSticker:c.bool,onUnwrap:c.func};a.defaultProps={onUnwrap:b("emptyFunction")};e.exports=a}),null);
__d("messengerCustomColorUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c||{};b("gkx")("AT4vZBWyiZL1KZrir2lJt4vVNMIYu8sDbA3PtNwJWZh5seJSYZeYdmCgqH3wgiUS4PfslnEPm3wz9jSsjDINBCSy")||(c.backgroundColor=a);return c}e.exports={customBubbleStyle:a}}),null);
__d("ChatBubble.react",["cx","DOMDimensions","EmojiOnlyMessage.react","MercuryMessageBody.react","MercuryMessageRenderLocations","MessagingGiftWrap.react","MessengerMathUtils","MessengerSupportedEmojiUtils","React","ReactDOM","joinClasses","messengerCustomColorUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=2;c=b("React").createClass({displayName:"ChatBubble",_boxWidth:0,propTypes:{insideDecorators:a.arrayOf(a.object),attachments:a.node,body:a.string,className:a.string,customColor:a.string,customLike:a.object,isEmojiLike:a.bool,isFromViewer:a.bool,isGiftWrapped:a.bool,maxWidth:a.number.isRequired,message:a.object,metaRanges:a.array,onUnwrap:a.func,ranges:a.array,threadCustomColor:a.string,threadID:a.string},getInitialState:function(){return{emojis:undefined,bubbleWidth:null}},componentDidMount:function(){if(this.props.attachments&&!this.props.isEmojiLike)return;if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}this._restyleBubble(this.props)},componentDidUpdate:function(a){(a.maxWidth!==this.props.maxWidth||a.body!==this.props.body||!a.attachments&&this.props.attachments)&&this._restyleBubble(a)},render:function(){__p&&__p();var a=this.props,c=a.attachments,d=a.body;d=d===undefined?"":d;var e=a.className,f=a.insideDecorators,g=a.maxWidth;a=babelHelpers.objectWithoutProperties(a,["attachments","body","className","insideDecorators","maxWidth"]);a=Object.assign({},a);delete a.customColor;delete a.customLike;delete a.isEmojiLike;delete a.isFromViewer;delete a.message;delete a.metaRanges;delete a.ranges;delete a.threadCustomColor;delete a.threadID;return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")("_5w1r"+(this.state.emojis?"":" _3_om")+(this.state.emojis?" _31xx":""),e),ref:"bubble",style:{maxWidth:g,width:this.state.emojis?null:this.state.bubbleWidth,wordWrap:d.length>=15?"break-word":"inherit"}}),b("React").createElement("div",{className:"_4gx_",ref:"inner"},this._renderContent(),c),f,this.props.isGiftWrapped?b("React").createElement(b("MessagingGiftWrap.react"),{onUnwrap:this.props.onUnwrap}):null)},_renderContent:function(){if(!this.props.body||this.props.isEmojiLike)return null;var a={},c=null;this.state.emojis?c=b("React").createElement(b("EmojiOnlyMessage.react"),{contents:this.state.emojis}):(c=b("React").createElement(b("MercuryMessageBody.react"),{body:this.props.body,ranges:this.props.ranges,metaRanges:this.props.metaRanges,threadID:this.props.threadID,customLike:this.props.customLike,threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,renderLocation:b("MercuryMessageRenderLocations").CHAT}),this.props.customColor&&(a=b("messengerCustomColorUtils").customBubbleStyle(this.props.customColor,a)));return b("React").createElement("div",{className:"_d97"+(this.state.emojis?" _31xy":""),ref:"contentWrapper",style:a},b("React").createElement("span",{className:"_5yl5",ref:"content"},c))},_restyleBubble:function(a){__p&&__p();if(this.props.attachments||this.props.body!=null&&b("MessengerMathUtils").isMathBlock(this.props.body.trim())){this.setState({bubbleWidth:null});return}var c=b("ReactDOM").findDOMNode(this.refs.bubble);if(a.maxWidth!==this.props.maxWidth||b("DOMDimensions").getElementDimensions(c).width>this.props.maxWidth){a=this.props.maxWidth;this.setState({bubbleWidth:a},this._shrinkBubble);return}this._shrinkBubble()},_shrinkBubble:function(){var a=b("ReactDOM").findDOMNode(this.refs.bubble);a=b("DOMDimensions").getElementDimensions(a).width;var c=b("ReactDOM").findDOMNode(this.refs.content);c=c?b("DOMDimensions").getElementDimensions(c).width+b("DOMDimensions").measureElementBox(b("ReactDOM").findDOMNode(this.refs.contentWrapper),"width",!0,!1,!1):0;var d=c+h;c>0&&d<this.props.maxWidth&&a-d-this.getBoxWidth()>0&&this.setState({bubbleWidth:d})},contentWraps:function(){var a=b("ReactDOM").findDOMNode(this.refs.content);if(!a)return!1;var c=a.getClientRects();a=b("DOMDimensions").getElementDimensions(a).height;return c&&c.length>1&&c[0].height<a},getBoxWidth:function(){this._boxWidth||(this._boxWidth=b("DOMDimensions").measureElementBox(b("ReactDOM").findDOMNode(this.refs.bubble),"width",!0,!0,!1));return this._boxWidth}});e.exports=c}),null);
__d("ChatCodePasteUtils",["cx","BanzaiODS","ChatBubble.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/`{3,}/;function a(a){return!!(a&&h.test(a)&&a.split("\n").length>1)}function c(a,c,d,e,f){__p&&__p();a=a.split(h);var g=[];for(var i=0;i<a.length;i+=2){var j=a[i].trim();j&&g.push(b("React").createElement("div",{key:i,className:"_5wde _n4o"},b("React").createElement(b("ChatBubble.react"),{body:j,customColor:f||undefined,className:"clearfix _5wdf",maxWidth:c,ranges:d||undefined,threadID:e||undefined})));if(i+1<a.length&&a[i+1]){j=a[i+1].split("\n");var k=j[0].replace(/[^a-zA-Z]+/g,"");j=j.slice(1).join("\n");b("BanzaiODS").bumpEntityKey("chat_code_paste","render_bubble");g.push(b("React").createElement("div",{key:i+1,className:"_5wde _n4o"},b("React").createElement("div",{ref:"bubble",className:"_3_om _4yng _5wdf"},b("React").createElement("div",{style:{maxWidth:c},ref:"syntaxTarget"+i,className:"language-"+k},j))))}}return g}e.exports={containsCodeBlock:a,getCodeAndMessageBubbles:c}}),null);
__d("ChatTabBlinking",["cx","CSS","clearInterval","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=600,i="highlightTitle";a={_blinkMap:{},_interval:null,_isHighlighting:!1,blinkTab:function(a,b){this._blinkMap[a]||(this._blinkMap[a]={view:b,elem:b.getTabElem()}),this.checkInterval()},unblinkTab:function(a){if(this._blinkMap[a]){var c=this._blinkMap[a].elem;c&&b("CSS").removeClass(c,i);delete this._blinkMap[a]}this.checkInterval()},checkInterval:function(){var a=Object.keys(this._blinkMap).length;a>0?this._interval||(this._interval=b("setIntervalAcrossTransitions")(this._toggleBlinkHighlight.bind(this),h)):this._interval&&(b("clearInterval")(this._interval),this._interval=null)},_toggleBlinkHighlight:function(){this._isHighlighting=!this._isHighlighting;for(var a in this._blinkMap)if(Object.prototype.hasOwnProperty.call(this._blinkMap,a)){var c=this._blinkMap[a],d=c.elem;c=c.view;d&&d.parentNode&&!c.isFocused()&&!c.isHovered()?b("CSS").conditionClass(d,i,this._isHighlighting):this.unblinkTab(a)}}};e.exports=a}),null);
__d("ChatCloseButton.react",["cx","fbt","Link.react","React","TrackingNodes","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.CLOSE_BUTTON),c=h._("Press Esc to close"),d=h._("Close tab"),e="_4vu4";return b("React").createElement(b("Link.react"),{"aria-label":this.props.active?c:d,className:b("joinClasses")(this.props.className,"close","button",e),"data-ft":a,"data-hover":"tooltip","data-tooltip-content":this.props.active?c:d,"data-tooltip-position":"above",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onMouseDown:this.props.onMouseDown})};function a(){i.apply(this,arguments)}a.propTypes={onClick:c.func,onKeyUp:c.func,onMouseDown:c.func,active:c.bool};a.defaultProps={active:!1};e.exports=a}),null);
__d("ChatCollapsedLogMessageGroup.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={collapsed:!0},b}a.prototype.render=function(){var a=h._("See Latest Activity"),c=h._("See Less Activity");return b("React").createElement("div",{className:"_5w0o"},b("React").createElement(b("Link.react"),{className:"_4ea1",onClick:function(){return this.setState({collapsed:!this.state.collapsed})}.bind(this)},this.state.collapsed?a:c),this.state.collapsed?null:b("React").createElement("div",null,b("React").createElement("div",{className:"_2zsu"}),this.props.children,b("React").createElement("div",{className:"_2zsu"})))};e.exports=a}),null);
__d("AutoFocusableLink.react",["Link.react","ReactDOM"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("Link.react"));g&&g.prototype;a.prototype.componentDidMount=function(){this.props.autoFocus&&b("ReactDOM").findDOMNode(this).focus()};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ChatComposerFlyoutButtonBootLoader.react",["MercuryBootloadOnInteraction.react","JSResource","LazyComponent.react","AutoFocusableLink.react","React"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),babelHelpers["extends"]({},a,{className:a.iconClassName})),loader:b("JSResource")("MessengerComposerFlyoutButton.react").__setRef("ChatComposerFlyoutButtonBootLoader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName})});return a.excludeTag?c:b("React").createElement("li",{className:a.interactionClassName}," ",c," ")};e.exports=a}),null);
__d("ChatDateBreak.react",["cx","React","formatDate","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a){"use strict";return this.props.date.getTime()!==a.date.getTime()};a.prototype.render=function(){"use strict";var a=b("formatDate")(this.props.date,{today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").createElement("time",{className:b("joinClasses")(this.props.className,"_5w-5")},b("React").createElement("span",{className:"_5w-6"},a))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={date:c.instanceOf(Date).isRequired};e.exports=a}),null);
__d("MessageBorderType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FLOWERS:"flowers"})}),null);
__d("MessageCustomizationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BORDER:"border"})}),null);
__d("MessagingFlowerCornerArrangements",["invariant","ix","Random","randomShuffle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=Object.freeze({TOP_LEFT:"topLeft",BOTTOM_RIGHT:"bottomRight"}),j=Object.freeze({PINK:"pink",PURPLE:"purple",YELLOW:"yellow"}),k=Object.freeze({ROUND:"round",POINTY:"pointy"}),l=-10;function m(a,c){__p&&__p();this.$1=a;this.$4=c;this.$2=b("Random").random()<.5;this.$3=[];a=[j.PINK,j.PURPLE,j.YELLOW];c=[k.ROUND,k.POINTY,b("Random").random()>=.5?k.ROUND:k.POINTY];b("randomShuffle")(a);b("randomShuffle")(c);for(var d=0;d<3;d++)this.$3.push(this.$5(a[d],c[d]))}m.prototype.$6=function(a){switch(a){case j.PINK:return h("86995");case j.PURPLE:return h("86997");case j.YELLOW:default:return h("86999")}};m.prototype.$7=function(a){switch(a){case j.PINK:return h("86996");case j.PURPLE:return h("86998");case j.YELLOW:default:return h("87000")}};m.prototype.$5=function(a,b){return b===k.POINTY?this.$6(a):this.$7(a)};m.prototype.$8=function(){return this.$3.pop()};m.prototype.flower=function(a){var c=b("Random").random()*360;return this.$9(this.$8(),{pivot:.5,rotationStart:c+a.rotationStartOffset,rotationEnd:c,scale:a.scale,x:a.x,y:a.y})};m.prototype.leaf=function(a){return this.$9(h("86994"),{pivot:1,rotationStart:0,rotationEnd:a.rotationEnd,scale:a.scale,x:a.x,y:a.y})};m.prototype.$9=function(a,b){__p&&__p();var c=b.pivot*100+"%",d=b.x+l,e=b.y+l,f=-b.pivot*100,h=b.scale;b=b.rotationEnd;var j=void 0,k=void 0,m=void 0,n=void 0;if(this.$2){var o=d;d=e;e=o;b=-b}this.$1===i.BOTTOM_RIGHT?(n=this.$4+d+"px",k=this.$4+e+"px",f=100+f,b+=180):this.$1===i.TOP_LEFT?(m=this.$4+d+"px",j=this.$4+e+"px"):g(0);o=[];f!==0&&o.push("translate("+f+"%, "+f+"%)");o.push("scale("+h+")");b!==0&&o.push("rotate("+b+"deg)");return{style:{bottom:k,left:m,position:"absolute",right:n,top:j,transform:o.join(" "),transformOrigin:c+" "+c},image:a}};function n(a){return[a.leaf({x:20.5,y:38,scale:.225,rotationEnd:-80}),a.leaf({x:29,y:22.5,scale:.35,rotationEnd:35}),a.flower({x:31.5,y:22,scale:.6,rotationStartOffset:-70}),a.flower({x:21,y:35,scale:.65,rotationStartOffset:-70}),a.flower({x:21.75,y:24.75,scale:1,rotationStartOffset:50})]}function o(a){return[a.leaf({x:22.25,y:35.25,scale:.225,rotationEnd:-115}),a.leaf({x:35,y:24,scale:.35,rotationEnd:110}),a.flower({x:21.5,y:32.5,scale:.68,rotationStartOffset:-60}),a.flower({x:21.5,y:23.5,scale:.67,rotationStartOffset:-70}),a.flower({x:31,y:21,scale:.95,rotationStartOffset:50})]}function a(a,c){a=new m(a,c);return b("Random").random()<.5?n(a):o(a)}e.exports={createFlowers:a,corners:i}}),null);
__d("MessagingFlowerBorder.react",["Image.react","MessagingFlowerCornerArrangements","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){return b("MessagingFlowerCornerArrangements").createFlowers(b("MessagingFlowerCornerArrangements").corners.TOP_LEFT,this.props.offset).concat(b("MessagingFlowerCornerArrangements").createFlowers(b("MessagingFlowerCornerArrangements").corners.BOTTOM_RIGHT,this.props.offset))}.bind(this),this.state={elements:this.$1()},c}a.prototype.render=function(){return b("React").createElement("div",null,this.state.elements.map(function(a,c){return b("React").createElement(b("Image.react"),{key:c,style:a.style,src:a.image})}))};a.propTypes={ChildClass:c.number};a.defaultProps={offset:0};e.exports=a}),null);
__d("MessengerDecoratorP2PUtil",["MercuryAttachment","MercuryAttachmentType","StoryAttachmentStyle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return a===Object(a)};a={isP2PAttachment:function(a){a=b("MercuryAttachment").get(a).filter(function(a){return g(a)&&this.isP2P(a)}.bind(this));return!!a.length},isP2P:function(a){return!!(this._isStoryBased(a)&&(a.share.style_list.indexOf(b("StoryAttachmentStyle").ORION)>-1||a.share.style_list.indexOf(b("StoryAttachmentStyle").ORION_REQUEST)>-1))},_isStoryBased:function(a){return!!(a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.style_list)}};e.exports=a}),null);
__d("MessageReactionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1491398900900362"};c.getQueryID=function(){"use strict";return"254517288326467"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("ContextualLayerAutoFlipHorizontal",["ContextualLayerAutoFlip"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("ContextualLayerAutoFlip"));g&&g.prototype;a.prototype.getValidPositions=function(a){"use strict";return[a.getPosition()]};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("ContextualLayerUpdateOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attachScrollListener.bind(this)),this._layer.subscribe("hide",this._removeScrollListener.bind(this))]};a.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};a.prototype._attachScrollListener=function(){"use strict";if(this._listener)return;var a=this._layer.getContextScrollParent();this._listener=b("Event").listen(a,"scroll",this._layer.updatePosition.bind(this._layer))};a.prototype._removeScrollListener=function(){"use strict";this._listener&&this._listener.remove(),this._listener=null};Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("MessengerReactionsContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerHideOnScrollOut"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerReactionsContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_4owc"}}));e.exports=a}),null);
__d("MessengerReactionsUtil",["EmojiFormat"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=[[128525],[128518],[128558],[128546],[128544],[128077],[128078]];var g={};a.forEach(function(a,c){g[b("EmojiFormat").codeArrayToUnicode(a)]=c+1});e.exports={sortFunction:function(a,b){if(!g[a]&&!g[b])return 0;else if(!g[a])return 1;else if(!g[b])return-1;return g[a]-g[b]},defaultReactions:a.map(b("EmojiFormat").codeArrayToUnicode)}}),null);
__d("getThreadTypeNameFromThreadType",["MessagingThreadType"],(function(a,b,c,d,e,f){"use strict";function a(a){for(var c in b("MessagingThreadType"))if(b("MessagingThreadType")[c]===a)return c;return""}e.exports=a}),null);
__d("MessengerReactionsMenu.react",["cx","Promise","Bootloader","CSS","CurrentUser","DOMContainer.react","MercuryIDs","MercuryMessages","MercuryThreads","MessageReactionMutationWebGraphQLMutation","MessengerMessageActionsTypedLogger","MessengerReactionsContextualDialog.react","MessengerReactionsUtil","MessengerReactionsWebConfig","MessengerSupportedEmojiUtils","MessengerTextWithEmoticons.react","React","XAsyncRequest","createCancelableFunction","getThreadTypeNameFromThreadType","gkx","idx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={animations:{},reactions:b("MessengerReactionsUtil").defaultReactions.slice()},this.$5=function(a){a||this.props.onHide()}.bind(this),c}a.prototype.componentDidMount=function(){b("gkx")("AT7dFvDvstgBLQPTzIVQ-K_BRNJQyn38FQ8LsrhoWHNPhYTHpIiylBssyGU3E_0HnxERJO-whPUbuICbRNRkf3gv")&&(this.$1=b("createCancelableFunction")(function(a){return this.setState({animations:a})}.bind(this)),b("promiseDone")(this.loadAnimations(),this.$1)),this.$2()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.cancel()};a.prototype.$2=function(){if(this.props.useChatEmojiReact){var a=b("MessengerReactionsUtil").defaultReactions.slice(),c=b("MercuryThreads").get().getThreadMetaNow(this.props.message.thread_id);c=(c=c)!=null?(c=c.custom_like_icon)!=null?c.emoji:c:c;c!=null&&!a.includes(c)&&a.push(c);this.setState({reactions:a})}};a.prototype.$3=function(){return new(b("Promise"))(function(a){return b("Bootloader").loadModules(["Keyframes"],function(b){return a(b)},"MessengerReactionsMenu.react")})};a.prototype.$4=function(){return this.$3().then(function(a){return b("Promise").all(["love","haha","wow","sad","angry","thumbsup","thumbsdown"].map(function(c){return a.requestRenderer(b("MessengerReactionsWebConfig").paths[c],{projectName:"messaging_reactions",assetName:c})}))}).then(function(a){return a.map(function(a){a=a.setWidth(45).setHeight(45).repeatForever().play().redrawIfNeeded().getElement();b("CSS").addClass(a,"_37pj");return a}).reduce(function(a,c,d){a[b("MessengerReactionsUtil").defaultReactions[d]]=c;return a},{})})};a.prototype.loadAnimations=function(){var a=Date.now(),c=this.$4();b("promiseDone")(c,function(c){b("Bootloader").loadModules(["MessengerRestReactionTypedLogger"],function(b){new b().setLoadedTime(Date.now()-a).log()},"MessengerReactionsMenu.react")});return c};a.prototype.render=function(){var a=b("CurrentUser").getID(),c=this.props.message.reactions&&this.props.message.reactions[a];return b("React").createElement(b("MessengerReactionsContextualDialog.react"),{alignment:"center",contextRef:this.props.refProp,shown:!0,onBlur:this.props.onHide,onToggle:this.$5},b("React").createElement("div",{role:"listbox","aria-orientation":"horizontal",className:"_1z8q _fy2"},this.state.reactions.map(function(a){return b("React").createElement("span",{className:"_1z8r"+(a===c?" _5-2b":""),id:a,key:a,onClick:function(){return this.$6(a)}.bind(this),role:"option","aria-selected":a===c,tabIndex:"0"},this.state.animations[a]?b("React").createElement(b("DOMContainer.react"),null,this.state.animations[a]):b("React").createElement(b("MessengerTextWithEmoticons.react"),{customSize:!0,forceMessengerEmoji:!0,renderEmoticons:!0,renderEmoji:!0,text:a}))}.bind(this))))};a.prototype.$7=function(a){return!b("MessengerReactionsUtil").defaultReactions.includes(a)?b("MessengerSupportedEmojiUtils").getSupportedEmojiKey(a):a};a.prototype.$6=function(a){__p&&__p();var c=this.props,d=c.message,e=c.entryPoint;c=b("CurrentUser").getID();var f=d.reactions&&d.reactions[c],g=b("MercuryMessages").get().getServerMessageID(d.message_id);c=b("MessageReactionMutationWebGraphQLMutation").getURI({action:a===f?"REMOVE_REACTION":"ADD_REACTION",message_id:g,actor_id:c,reaction:a});var h=function(c){var h=d.other_user_fbid||d.thread_fbid,i=b("MercuryThreads").get().getThreadMetaNow(d.thread_id),j=i&&i.participants?i.participants.length:0;i=b("getThreadTypeNameFromThreadType")(i&&i.thread_type);var k=d.attachments[0];j=new(b("MessengerMessageActionsTypedLogger"))().setAction("reaction").setOfflineThreadid(d.offline_threading_id).setMid(g).setRecipientID(b("MercuryIDs").getUserIDFromParticipantID(d.author)).setEntryPoint(e).setReaction(this.$7(a)).setPreviousReaction(this.$7(f)).setGroupSize(j).setThreadType(i).setThreadid(h);c.errorSummary&&(j=j.setErrorText(c.errorSummary.toString()));k&&(j=j.setMessageType(k.attach_type));j.log()}.bind(this);new(b("XAsyncRequest"))(c).setMethod("POST").setHandler(h).send();this.props.onHide()};e.exports=a}),null);
__d("MessengerReactionsPrompt.react",["cx","ix","Image.react","MessengerReactionsMenu.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={open:!1},this.$1=function(){this.setState({open:!0},function(){return this.props.onShowMenu&&this.props.onShowMenu(this.state.open)}.bind(this)),this.props.setReactionsPromptShown&&this.props.setReactionsPromptShown(!0)}.bind(this),this.$2=function(){this.setState({open:!1},function(){return this.props.onShowMenu&&this.props.onShowMenu(this.state.open)}.bind(this)),this.props.setReactionsPromptShown&&this.props.setReactionsPromptShown(!1)}.bind(this),b}a.prototype.render=function(){return!this.props.messageIsSelected&&!this.state.open?null:b("React").createElement("span",{className:(this.props.isQuickAdd?"":"_5zvq")+(this.props.isQuickAdd?" _yav":""),onClick:this.state.open?null:this.$1,ref:"button"},b("React").createElement(b("Image.react"),{src:this.props.isQuickAdd?h("278123"):this.state.open?h("277597"):h("277596")}),this.renderMenu())};a.prototype.renderMenu=function(){return!this.state.open?null:b("React").createElement(b("MessengerReactionsMenu.react"),{entryPoint:"awareness_plus",message:this.props.message,onHide:this.$2,refProp:function(){return this.refs.button}.bind(this),useChatEmojiReact:this.props.useChatEmojiReact})};e.exports=a}),null);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryAttachmentType","MercuryConfig","MercuryIDs","MercuryParticipants","MessengerEnvironment","MessengerReactionsPrompt.react","MessengerReactionsUtil","MessengerTextWithEmoticons.react","MessengerWebViewReactionsTypedLogger","React","ShimButton.react","StoryAttachmentStyle","TooltipData","idx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="ALL",k=b("CurrentUser").getID(),l=3,m=9;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={reactionsPromptShown:!1},this.$1=function(a){this.setState({reactionsPromptShown:a})}.bind(this),this.$3=function(){var a=b("MessengerEnvironment").messengerui,c=this.props,d=c.isFromViewer,e=c.message,f=c.participants;c=e.reactions;new(b("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(e.message_id).setSenderID(e.author).setEmojiGroup(j).setEmojiGroupCount(Object.values(c).length).log();a?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerReactionsDialogReact.bs"],function(a,c){var g=c.jsComponent;a.showDialog(function(){return b("React").createElement(g,{isFromViewer:d,participants:f,message:e})})},"MessengerReactions.react"):b("Bootloader").loadModules(["ChatReactionsDialog"],function(a){a.show(e,f,d)},"MessengerReactions.react")}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.message,d=a.participants,e=a.renderQuickAdd;a=a.hovered;var f=c.reactions,g=c.attachments,h=g&&g.length===1&&b("MercuryConfig").MNFWD&&f&&Object.keys(f).length===0;if(h&&g[0].attach_type===b("MercuryAttachmentType").STICKER)return null;if(!this.state.reactionsPromptShown&&!a&&h&&g[0].attach_type===b("MercuryAttachmentType").SHARE)return null;if(((a=g[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a)===b("StoryAttachmentStyle").MONTAGE_DIRECT)return null;if((!f||!d)&&!e)return null;var i={},j=0;h=!1;Object.entries(f||{}).forEach(function(a){var b=a[0];a=a[1];typeof a==="string"&&(b===k&&(h=!0),i[a]||(i[a]=0),i[a]++,j++)});g=Object.keys(i).sort(b("MessengerReactionsUtil").sortFunction).slice(0,l).map(function(c,d,a){return b("React").createElement("span",{className:"_4kf5",style:{zIndex:a.length-d,marginLeft:d===0?0:"-4px"},key:c},b("React").createElement(b("MessengerTextWithEmoticons.react"),{customSize:!0,renderEmoticons:!0,renderEmoji:!0,forceMessengerEmoji:!0,text:c}))});a=j>0?b("React").createElement("span",{className:"_4kf5 _4kf6"+(h?" _fy2":"")},j):null;d=e&&!h?b("React").createElement("div",{className:"_aou _aov"},b("React").createElement("span",{className:"_aow"},b("React").createElement(b("MessengerReactionsPrompt.react"),{message:c,messageIsSelected:!0,isQuickAdd:!0,useChatEmojiReact:b("MercuryConfig").MCER,setReactionsPromptShown:this.$1}))):null;f=b("TooltipData").propsFor(this.$2());return b("React").createElement("div",babelHelpers["extends"]({},f,{className:"_4kf7 preview"}),b("React").createElement(b("ShimButton.react"),{className:"_aou",onClick:this.$3},g,a),d)};a.prototype.$2=function(){__p&&__p();var a=this.props.message.reactions,c=this.props.participants;if(!a||!c)return"";a=Object.keys(a);var d=a.reduce(function(a,d){if(a.length>=m)return a;d=b("MercuryIDs").getParticipantIDFromUserID(d);d=c.get(d)||b("MercuryParticipants").getNow(d);d=d&&d.name;d&&a.push(d);return a},[]),e=d.length;d=d.join("\n");if(a.length>e){a=h._("and {count} other(s)",[h._param("count",a.length-e)]);d+="\n"+a.toString()}return d};a.propTypes={isFromViewer:c.bool.isRequired,message:c.object.isRequired,participants:c.object,renderQuickAdd:c.bool,hovered:c.bool};e.exports=a}),null);
__d("MessengerDecorator",["cssVar","cx","invariant","BootloadedComponent.react","CurrentUser","JSResource","MercuryAttachment","MercuryAttachmentType","MercuryConfig","MercuryMessageActions","MercuryMessageCustomizations","MercuryTagHelper","MessageBorderType","MessageCustomizationType","MessagingFlowerBorder.react","MessagingGiftWrap.react","MessagingGiftWrapConstants","MessagingTag","MessengerDecoratorP2PUtil","MessengerEnvironment","MessengerReactions.react","React","StoryAttachmentStyle","gkx","idx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(a){a=a.attachments&&a.attachments.length===1&&a.attachments[0]&&a.attachments[0].attach_type!==b("MercuryAttachmentType").STICKER&&!b("MessengerDecoratorP2PUtil").isP2PAttachment(a);return!!a},k=function(a){return j(a)&&b("MercuryAttachment").isLightweightActionAttachment(a.attachments[0])},l=function(a){if(n(a))return!1;var c=a.attachments&&a.attachments.length===1&&a.attachments[0];a||i(0);if(!c)return!1;if(b("MercuryAttachment").isPhotoGroupAttachment(c))return!0;return b("MercuryAttachment").isFileAttachment(c)&&(b("MercuryConfig").MessengerForwardButtonForSharedFilesGK&&c.message_file_fbid)?!0:!1},m=function(a){if(b("MessengerEnvironment").messengerui)return!1;a=(a=a.reactions)!=null?a[b("CurrentUser").getID()]:a;return!!a&&typeof a==="string"},n=function(a){return b("gkx")("AT5MAotH6BG7mXo4DyZnW3seA7_jf32c8tGX1llmkbXJ5ui_oKs0jpz-iYum9Gkv1o7pv5ZMvW9WlaNx_vA1ZSmAhi0Rjb62jJA5vu2Oz81AxQ")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)===b("StoryAttachmentStyle").MONTAGE_DIRECT},o=function(a){var c=[],d=[];a.attachments.forEach(function(a){a.metadata&&a.metadata.fbid&&(c.push(a.metadata.fbid.toString()),d.push(a.attach_type.toString())),b("MercuryAttachment").isFileAttachment(a)&&a.message_file_fbid&&(b("MercuryConfig").MessengerForwardButtonForSharedFilesGK&&(c.push(a.message_file_fbid),d.push(a.attach_type)))});return{ids:c,types:d}},p=[{name:"GiftWrap",check:function(a){var c=function(a){return b("MercuryTagHelper").get(a,b("MessagingGiftWrapConstants").TAG_PREFIX)===b("MessagingGiftWrapConstants").VALENTINES_GIFT},d=function(a){return!!b("MercuryTagHelper").get(a,b("MessagingGiftWrapConstants").UNWRAPPED_TAG)};return!!(a.tags&&c(a.tags)&&!d(a.tags))},render:function(a,c){return b("React").createElement(b("MessagingGiftWrap.react"),{key:"giftwrap",onUnwrap:function(){var c="2500ms";c=parseInt(c.substring(0,c.length-2),10);setTimeout(function(){return b("MercuryMessageActions").get().unwrap(a)},c)}})},getAdditionalClassNames:function(){return null}},{name:"FlowerBorder",check:function(a){return b("gkx")("AT7rTubr3N_DsfglfGkvVFG3tMrhGme9-eELltAXoSOKkQuD-9JepjOeFPMl1e8XndLLgVmcw1EaaNThD3K6r4QJpohV9bITGr6_ur1k_X_RGQ")&&b("MercuryMessageCustomizations").getCustomizationValue(a,b("MessageCustomizationType").BORDER)===b("MessageBorderType").FLOWERS},render:function(a,c){return b("MessengerEnvironment").messengerui?b("React").createElement(b("MessagingFlowerBorder.react"),{offset:-10,key:"giftwrap:"+a.message_id}):b("React").createElement(b("MessagingFlowerBorder.react"),{key:"giftwrap:"+a.message_id})},getAdditionalClassNames:function(){return!b("MessengerEnvironment").messengerui?"_337n":null}},{name:"Reactions",check:function(a,c){if(n(a))return!1;var d=!!(a.reactions&&Object.keys(a.reactions).length>0);c=!!(!c&&(l(a)||j(a)&&b("MercuryConfig").MNFWD));return(d||c)&&!k(a)},render:function(a,c,d,e){var f=l(a)||j(a)&&b("MercuryConfig").MNFWD;return b("React").createElement(b("MessengerReactions.react"),{isFromViewer:c,key:a.message_id+"-reactions",message:a,renderQuickAdd:f&&!c,hovered:e,participants:d&&d.participants})},getAdditionalClassNames:function(){return"_5z-5"}}],q=[],r=[],s=[{name:"MontageReply",check:function(a){if(!b("MercuryConfig").MontageThreadViewer)return!1;a=a.montage_reply_data&&a.montage_reply_data.message_id;return!!a},render:function(a,c){var d=a.montage_reply_data&&a.montage_reply_data.message_id,e=a.montage_reply_data&&a.montage_reply_data.reply_action;return b("React").createElement(b("BootloadedComponent.react"),{key:"montagereply:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,messageID:d,replyAction:e,replyAuthorID:a.author,threadID:a.thread_id})},getAdditionalClassNames:function(){return null}},{name:"MessageReply",check:function(a){return!a.replied_to_message?!1:b("gkx")("AT4CzFQpJfvFelj2165PMRpSmjl0KkqVpD7kcMn3m4229dpMBBNhzyATOEkUEFXxBLU6M-O8cZ7ZedDaOvs3WNr-i5u563hgB6TbE_VE4wwFnQ")},render:function(a,c){return b("React").createElement(b("BootloadedComponent.react"),{key:"messagereply:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,repliedToMessage:a.replied_to_message,threadID:a.thread_id})},getAdditionalClassNames:function(){return null}}],t=[{name:"ForwardImages",check:function(a){return l(a)},render:function(a,c){var d=o(a),e=d.ids;d=d.types;return b("React").createElement(b("BootloadedComponent.react"),{key:"forwardimages:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("MessengerEnvironment").messengerui?b("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):b("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:e,attachmentTypes:d,isFromViewer:c})},getAdditionalClassNames:function(){return"_ylc"}},{name:"MontageDirectKeep",check:function(a){return n(a)},render:function(a,c,d){return b("React").createElement(b("BootloadedComponent.react"),{key:"montagedirectkeep:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MontageDirectKeep.react").__setRef("MessengerDecorator"),message:a})},getAdditionalClassNames:function(){return null}},{name:"ReactionPrompt",check:function(a){return n(a)?!1:m(a)||!l(a)&&!k(a)},render:function(a,c,d){c=b("MercuryConfig").MNFWD&&j(a);return b("React").createElement(b("BootloadedComponent.react"),{key:"reactionprompt:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:a,messageIsSelected:d&&d.messageIsSelected&&!c&&(!a.folder||a.folder===b("MessagingTag").INBOX),useChatEmojiReact:b("MercuryConfig").MCER,onShowMenu:d&&d.onShowMenu})},getAdditionalClassNames:function(){return null}},{name:"MessageActions",check:function(a){return n(a)?!1:b("MessengerEnvironment").messengerui},render:function(a,c,d){c=n(a)?!1:(l(a)||j(a)&&b("MercuryConfig").MNFWD)&&!k(a);return b("React").createElement(b("BootloadedComponent.react"),{key:"messageactions:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onShowMenu:d&&d.onShowMenu,includeReactions:c,isShowingOriginal:d&&d.isShowingOriginal,hasFormatting:d&&d.hasFormatting,onToggleOriginal:d&&d.handleToggleOriginal,onReplyToMessage:d&&d.onReplyToMessage})},getAdditionalClassNames:function(){return null}}];a={getBeforeDecorators:function(){return s},getAfterDecorators:function(){return p},getInnerDecorators:function(){return t},getAfterExternalDecorators:function(){return q},getInsideDecorators:function(){return r}};e.exports=a}),null);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","React","joinClasses","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={shown:!1},this.$1=function(a){this.setState({shown:a})}.bind(this),b}a.prototype.render=function(){var a=b("MessengerDecorator").getInnerDecorators().map(function(a){return a.check(this.props.message)?a.render(this.props.message,this.props.isFromViewer,babelHelpers["extends"]({},this.props.messageProps,{messageIsSelected:this.props.hovered||this.state.shown,onShowMenu:this.$1})):null}.bind(this)).filter(Boolean);return b("React").createElement("span",{className:"_40fu"+(b("gkx")("AT70rONwKRIflAfK7-b4vyJ1_mxpZCDSr6xln8L8WEV8pNQI_XsW4Dd8Eel-gRLLo1OcnJGbyGR6AUa0wFCxwPsr")&&b("Locale").isRTL()?" _64wc":"")},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_2u_d")},a))};e.exports=a}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g="messenger_video",h=b("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null});a={Types:h,Namespace:g,onScroll:function(a,c,d,e){b("MessengerFluxReduceDispatcher").dispatch({type:h.SCROLL,namespace:g,threadID:a,messageIDs:c,messageRectMap:d,viewportRect:e})},updateStore:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:h.UPDATE,namespace:g,threadID:a,messageIDs:c})},deleteThread:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY,namespace:g,threadID:a})},deleteAllThreads:function(){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY_ALL,namespace:g})}};e.exports=a}),null);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","immutable","MessengerVideoAutoplayActions","MessengerFluxReduceDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("MessengerVideoAutoplayActions").Types;g=babelHelpers.inherits(j,b("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));g&&g.prototype;function j(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return b("immutable").Map()};a.prototype.reduce=function(a,c){if(c.namespace!==b("MessengerVideoAutoplayActions").Namespace)return a;switch(c.type){case i.SCROLL:c.messageIDs&&(a=this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs));return this.$MessengerVideoAutoplayStore2(a,c.threadID,c.messageRectMap,c.viewportRect);case i.UPDATE:return this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs);case i.DESTROY:return this.$MessengerVideoAutoplayStore3(a,c.threadID);case i.DESTROY_ALL:return a.clear()}return a};a.prototype.$MessengerVideoAutoplayStore1=function(a,b,c){return!c?a["delete"](b):a.set(b,new j({currentVideoMessageID:null,lastVideoMessageID:c.first(),messageIDs:c,videoVisibilityMap:null}))};a.prototype.$MessengerVideoAutoplayStore3=function(a,b){return a["delete"](b)};a.prototype.$MessengerVideoAutoplayStore4=function(a,b,c,d,e){var f=null;c=c.map(function(a){if(f)return[a,!1];else{var b=this.$MessengerVideoAutoplayStore5(a,d,e);b&&(f=a);return[a,b]}}.bind(this)).fromEntrySeq().toOrderedMap();return a.mergeIn([b],{currentVideoMessageID:f,videoVisibilityMap:c})};a.prototype.$MessengerVideoAutoplayStore2=function(a,b,c,d){__p&&__p();var e=a.getIn([b,"messageIDs"]);if(!e||!c||!d)return a;if(!a.getIn([b,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(a,b,e,c,d);else{var f=a.getIn([b,"videoVisibilityMap"]),g=a.getIn([b,"lastVideoMessageID"]),h=a.getIn([b,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(g,c,d)){if(f&&f.first())return a}else if(this.$MessengerVideoAutoplayStore5(h,c,d))return a;a=a.setIn([b,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(a,b,e,c,d)}};a.prototype.$MessengerVideoAutoplayStore6=function(a,b){return!a?!1:a.top>b.top&&a.bottom<b.bottom};a.prototype.$MessengerVideoAutoplayStore5=function(a,b,c){b=b.get(a);return this.$MessengerVideoAutoplayStore6(b,c)};a.prototype.getVideoVisibilityMap=function(a){return this.getState().getIn([a,"videoVisibilityMap"])};a.prototype.getMessageIDs=function(a){return this.getState().getIn([a,"messageIDs"])};a.prototype.isVisible=function(a,b){return!!this.getState().getIn([a,"videoVisibilityMap",b])};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("convertMIGColorToFIGColor",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";var h={"#0077e5":"#4080ff","#44bec7":"#54C7EC","#ffc300":"#f5c33b","#fa3c4c":"#F35369","#d696bb":"#d696bb","#6699cc":"#7596c8","#13cf13":"#42b72a","#ff7e29":"#F7923B","#e68585":"#e68585","#7646ff":"#8C72CB","#20cef5":"#54C7EC","#67b868":"#A3CE71","#d4a88c":"#cfa588","#ff5ca1":"#EC7EBD","#a695c7":"#AF9CDA"};function a(a){return a&&h[a]||a||""}e.exports=a}),null);
__d("ChatMessage.react",["cx","fbt","BootloadedComponent.react","ChatAnimatedGifs","ChatBubble.react","EmojiLikeUtils","FluxContainer","MercuryTimestamp","CSS","immutable","ImmutableObject","Locale","JSResource","MercuryAttachment","MercuryConfig","MercuryErrorInfo","MercuryIDs","MercuryMessageCustomizations","MercuryMessageError.react","MercuryMessageInfo","MessageBorderType","MessageCustomizationType","MessagingGiftWrapChecker","MessengerDecorator","MessengerInnerDecorators.react","MessengerVideoAutoplayStore","ChatCodePasteUtils","MNCommerceMessageType","MercuryDisplayTimeFilterMessageRenderer","React","ReactDOM","TooltipData","XUISpinner.react","convertMIGColorToFIGColor","isRTL","joinClasses","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isVisible:!1},this.$2=function(){return this.setState({hovered:!0})}.bind(this),this.$3=function(){return this.setState({hovered:!1})}.bind(this),b}a.getStores=function(){return[b("MessengerVideoAutoplayStore")]};a.calculateState=function(a,c){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(c.message.thread_id,c.message.message_id)}};a.prototype.componentDidMount=function(){b("CSS").conditionClass(b("ReactDOM").findDOMNode(this),"_2cnu",this.isOneLine())};a.prototype.isOneLine=function(){var a=this.props.message;return b("MercuryMessageInfo").isInbound(a)&&!this.refs.attachmentsInside&&this.refs.bubble&&!this.refs.bubble.contentWraps()};a.prototype.shouldComponentUpdate=function(a,b){var c=a.message!==this.props.message,d=!1,e=!1,f=this.props.thread;if(f)d=f.custom_like_icon!==a.thread.custom_like_icon,e=f.custom_color!==a.thread.custom_color;else if(a.thread)return!0;return c||d||e||b.isVisible!==this.state.isVisible};a.prototype.render=function(){var a=this.props.message,c=b("MercuryAttachment").get(a).length>0,d=b("MercuryMessageInfo").isInbound(a),e=b("MercuryIDs").isGroupChat(a.thread_id),f=b("MercuryErrorInfo").hasErrorStatus(a);c="_5wd4"+(d?" _1nc7":"")+(d?"":" _1nc6")+(c?" _2_-t":"")+(d&&e?" _5ysy":"")+(f?" _1zcs":"");var g=this.props.isFromViewer,h=[],i=a;i&&b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(i)&&h.push(a.render(i,g))});d=this.$1("outside");return b("React").createElement("div",{className:b("joinClasses")(this.props.className,c),onMouseEnter:this.$2,onMouseLeave:this.$3},b("React").createElement("div",{className:"_h8t"},h,this.$4(d)),d?b("React").createElement(b("MessengerInnerDecorators.react"),{message:a,isFromViewer:g||!1,hovered:this.state.hovered,messageProps:this.props}):b("React").createElement("div",{className:"_40qi"}),this.$5(i,g),this.$6())};a.prototype.$4=function(a){var c=this.props.message,d={};if(b("MercuryMessageInfo").isOutbound(c)){var e=h._("{time}",[h._param("time",b("MercuryTimestamp").getPreciseTimestamp(c.timestamp))]);Object.assign(d,b("TooltipData").propsFor(e,"right"))}if(c.is_filtered_content)return b("React").createElement("div",babelHelpers["extends"]({className:"_5wd9 _5wdc uiBoxYellow clearfix",ref:"inner"},d),b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(c));e=c.body&&c.body!==""?b("isRTL")(c.body):b("Locale").isRTL();return b("React").createElement("div",babelHelpers["extends"]({className:"_5wd9"+(e?" direction_rtl":"")+(e?"":" direction_ltr"),ref:"inner"},d),this.$7(!a),a)};a.prototype.$5=function(a,c){__p&&__p();var d,e=this;if(a){var d=function(){var d=[],f=[];b("MessengerDecorator").getAfterExternalDecorators().forEach(function(b){a&&b.check(a)&&(d.push(b.render(a,c,this.props)),f.push(b.getAdditionalClassNames()))}.bind(e));if(f.length===0&&d.length===0)return{v:null};var g=f.join(" ");return{v:b("React").createElement("div",{className:b("joinClasses")(g,"_5ijz"+(c?"":" isFromOther"))},d)}}();if(typeof d==="object")return d.v}return null};a.prototype.$6=function(){var a=this.props.message;return a.is_filtered_content||!b("MercuryMessageInfo").hasError(a)?null:b("React").createElement("div",{className:"_3ry4",ref:"undertext"},b("React").createElement(b("MercuryMessageError.react"),{className:"_5wda clearfix",message:a,ref:"status"}),this.$8())};a.prototype.$8=function(){return this.props.message.is_spoof_warning?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("MercurySpoofWarning.react").__setRef("ChatMessage.react"),authorID:this.props.message.author,className:"_5wdb"}):null};a.prototype.$9=function(){return b("React").createElement("div",{style:{padding:"20px",text_align:"center",background:"white"}},b("React").createElement(b("XUISpinner.react"),null))};a.prototype.$1=function(a){if(this.props.message.commerce_message_type===b("MNCommerceMessageType").RIDE_INTENT)return null;var c=this.props.message,d=this.props.thread?this.props.thread.custom_like_icon:null,e=a=="inside"?"attachmentsInside":"attachmentsOutside",f=b("MercuryAttachment").get(c).filter(function(c){c=b("MercuryAttachment").isBubblePreferred(c);return c&&a==="inside"||!c&&a==="outside"}),g=this.props.thread?b("convertMIGColorToFIGColor")(this.props.thread.custom_color):"",h=[],i=[];a==="outside"&&c&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(c,this.props.isFromViewer)&&(h.push(a.render(c,this.props.isFromViewer,this.props,this.state.hovered)),i.push(a.getAdditionalClassNames()))}.bind(this));return f.length>0?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:this.$9(),bootloadLoader:b("JSResource")("MercuryAttachments.react").__setRef("ChatMessage.react"),className:b("joinClasses")((a==="outside"?"_3e7u":"")+(c.body?" _16ys":"")+(g?" _3al":"")+" _n4o"+(h?" _1a6y":""),i),attachments:f,customLike:d,customColor:g,hasFlowerBorder:b("gkx")("AT7rTubr3N_DsfglfGkvVFG3tMrhGme9-eELltAXoSOKkQuD-9JepjOeFPMl1e8XndLLgVmcw1EaaNThD3K6r4QJpohV9bITGr6_ur1k_X_RGQ")&&b("MercuryMessageCustomizations").getCustomizationValue(c,b("MessageCustomizationType").BORDER)===b("MessageBorderType").FLOWERS&&a==="outside",isChat:!0,isGiftWrapped:b("MessagingGiftWrapChecker").shouldRenderWithGiftWrap(c)&&a==="outside",afterDecorators:h,isVisible:this.state.isVisible,maxWidth:this.props.maxBubbleWidth,message:c,onUnwrap:this.$10,onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,ref:e}):null};a.prototype.$7=function(a){__p&&__p();var c=this.props,d=c.isFromViewer,e=c.message;c=c.thread;var f=e.body,g=this.$1("inside"),h=[],i=[],j=[],k=e;k&&(a&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(k,d)&&(h.push(a.render(k,d,this.props)),i.push(a.getAdditionalClassNames()))}.bind(this)),b("MessengerDecorator").getInsideDecorators().forEach(function(a){a.check(k,d)&&(j.push(a.render(k,d,this.props)),i.push(a.getAdditionalClassNames()))}.bind(this)),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(k,d)&&i.push(a.getAdditionalClassNames())}));var l=i.join(" ");b("ChatAnimatedGifs").shouldHideBody(e)&&(f="");var m=e.ranges;e.profile_ranges&&e.profile_ranges.length&&(m=(m||[]).concat(e.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:"/"+a.id})})));var n=b("ChatCodePasteUtils").containsCodeBlock(f);return(f||g)&&!b("EmojiLikeUtils").isEmojiLike(e)?b("React").createElement("div",{className:b("joinClasses")(l,"_5wde _n4o")},n?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",{style:{height:22}}),bootloadLoader:b("JSResource")("ChatCodeBubble.react").__setRef("ChatMessage.react"),body:f,className:"_5wdf",maxWidth:this.props.maxBubbleWidth,ranges:m,threadID:e.thread_id,customColor:c&&d?b("convertMIGColorToFIGColor")(c.custom_color):""}):b("React").createElement(b("ChatBubble.react"),{attachments:g,body:f,className:"_5wdf",insideDecorators:j,isEmojiLike:!1,isFromViewer:this.props.isFromViewer,metaRanges:e.meta_ranges,message:e,maxWidth:this.props.maxBubbleWidth,ranges:m,ref:"bubble",threadID:e.thread_id,customLike:e.customLike,customColor:c&&d?b("convertMIGColorToFIGColor")(c.custom_color):"",threadCustomColor:c&&b("convertMIGColorToFIGColor")(c.custom_color)}),a?b("React").createElement(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:e,isFromViewer:this.props.isFromViewer||!1,hovered:this.state.hovered,messageProps:this.props}):null,h):null};a.propTypes={message:c.instanceOf(b("ImmutableObject")).isRequired,maxBubbleWidth:c.number.isRequired,onAttachmentLoad:c.func,onStickerClick:c.func,participants:c.instanceOf(b("immutable").Map).isRequired,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,thread:c.instanceOf(b("ImmutableObject"))};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ChatMessageGroup.react",["cx","fbt","ChatConfig","ChatDateBreak.react","ChatMessage.react","CurrentUser","Image.react","immutable","ImmutableObject","MercuryConfig","MercuryIDs","MercuryParticipants","MercuryTimestamp","MessengerTextWithEmoticons.react","QE2Logger","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("immutable").OrderedMap;c=b("React").PropTypes;var i=new(b("ImmutableObject"))({name:"",href:"#",image_src:""}),j=b("ChatConfig").get("chattab_rounded_profile",!1);d=b("React").createClass({displayName:"ChatMessageGroup",propTypes:{activeMessageID:c.string,author:c.string,hasDateBreak:c.bool,isCanonical:c.bool,isFromViewer:c.bool,isPageMessage:c.bool,isOnline:c.bool,maxBubbleWidth:c.number,messages:c.instanceOf(b("immutable").List).isRequired,readReceipts:c.instanceOf(a).isRequired,onAttachmentLoad:c.func,onStickerClick:c.func,personaID:c.string,thread:c.instanceOf(b("ImmutableObject")),threadID:c.string},getInitialState:function(){return{participants:{}}},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone"),this._subscription=this._computeParticipants()},shouldComponentUpdate:function(a,c){return this.props.isOnline!==a.isOnline||this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||!b("immutable").is(this.props.messages,a.messages)||this.state.participants!==c.participants||!b("immutable").is(this.props.thread,a.thread)},componentDidUpdate:function(a){a=k(this.props);!this._subscription&&!a.every(function(a){return this.state.participants[a]}.bind(this))&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&this._subscription.remove()},render:function(){return b("React").createElement("div",{className:"_4tdt"+(this.props.isFromViewer?" _ua0":"")+(this.props.isFromViewer?"":" _ua1")+(this._hasSeenHeadsAtBottom()?" _3lil":"")},this._renderProfileColumn(),b("React").createElement("div",{className:"_ua2"},this._renderName(),b("React").createElement("div",{className:"_4tdv"},this._renderMessages())))},_renderProfileColumn:function(){if(this.props.isFromViewer)return null;var a=this.state.participants[this.props.author]||i;this.props.personaID&&(a=this.state.participants[this.props.personaID]||i);var c=h._("{name} {time}",[h._param("name",a.name),h._param("time",b("MercuryTimestamp").getPreciseTimestamp(this.props.messages.last().timestamp))]),d=a.image_src?b("React").createElement(b("Image.react"),{src:a.image_src}):null,e=b("MercuryConfig").GDWC&&this.props.isOnline,f=b("CurrentUser").isWorkUser()&&a.is_coworker===!1;return b("React").createElement("div",{className:"_31o4"+(j?" _3njy":"")},b("React").createElement("a",{"aria-label":c,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":c,"data-tooltip-position":"left",href:a.href,ref:"link"},d),f?b("React").createElement("div",{className:"_4rwx _4rwy"}):e?b("React").createElement("div",{className:"_sce"}):null)},_renderName:function(){__p&&__p();if(this.props.isCanonical&&!this.props.personaID||this.props.isFromViewer)return null;var a=this.props.personaID?this.state.participants[this.props.personaID]:this.state.participants[this.props.messages.first().author];if(!a)return null;if(this.props.messages.first().replied_to_message)return null;var c=a.short_name;if(this.props.thread&&this.props.thread.custom_nickname){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id);this.props.thread.custom_nickname[d]&&(c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.thread.custom_nickname[d]}))}if(this.props.personaID){d=this.state.participants[this.props.messages.first().author];c=d?h._("{persona name} from {page name}",[h._param("persona name",a.name),h._param("page name",d.short_name)]):a.name}return b("React").createElement("div",{className:"_4tdx"},c)},_renderMessages:function(){var a=this.props.messages.size,c=[];this.props.messages.forEach(function(d,e,f){var g=d.message_id===this.props.activeMessageID;g&&!(e===0&&this.props.hasDateBreak)&&c.push(b("React").createElement(b("ChatDateBreak.react"),{date:new Date(d.timestamp),key:"db:"+d.message_id}));c.push(b("React").createElement(b("ChatMessage.react"),{isFromViewer:this.props.isFromViewer,key:d.message_id,maxBubbleWidth:this.props.maxBubbleWidth,message:d,participants:b("immutable").Map(this.state.participants),readReceipts:this.props.readReceipts,ref:d.message_id,nextTimestamp:this._getNextTimestamp(f,a,e),onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,thread:this.props.thread}))}.bind(this));return c},_hasSeenHeadsAtBottom:function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){return a>=d&&a<c&&++e===2?!1:null});return e===2},_getNextTimestamp:function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp},getMessageElement:function(a){return b("ReactDOM").findDOMNode(this.refs[a])},_computeParticipants:function(){__p&&__p();var a=k(this.props),c={},d=[];a.forEach(function(a){var e=b("MercuryParticipants").getNow(a);c[a]=b("MercuryParticipants").getNow(a);e||d.push(a)});this.setState({participants:c});return d.length>0?b("MercuryParticipants").getMulti(d,function(b){var a=this.state.participants;d.forEach(function(c){a[c]=b[c]});this._subscription=null;this.setState({participants:a})}.bind(this)):null}});function k(a){var b=a.personaID?a.personaID:a.author,c=[b];a.readReceipts.forEach(function(a,b){c.push(b)});return c}e.exports=d}),null);
__d("MercuryMessageRendererUtils",["cx","invariant","HovercardLink","MercuryViewer","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={getLinkToParticipant:function(a,c){var d=a.fbid,e=b("HovercardLink").constructEndpoint({id:d});c=c&&c.custom_nickname&&c.custom_nickname[d];c&&(c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}));d=c?c:a.name;return a.href?b("React").createElement("a",{className:"_5wzt",href:a.href,"data-hovercard":e},d):d},moveCurrentUserToFront:function(){var a=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];a||h(0);var c=a.indexOf(b("MercuryViewer").getID());if(c>0){var d=a.filter(function(a){return a!==b("MercuryViewer").getID()});return[b("MercuryViewer").getID()].concat(d)}return a}};e.exports=a}),null);
__d("MercuryLogMessageRenderer",["cx","fbt","invariant","ix","Bootloader","CSS","Image.react","MercuryAttachmentViewer","MercuryViewer","MercuryLogMessageType","MessagingSourceEnum","MessengerAdminGroupUtils","MessengerLightweightActionUtils","MessengerTextWithEmoticons.react","MercuryParticipants","React","ReactDOM","MercuryMessageRendererUtils","MercuryThreads","TooltipLink.react","UserAgent","convertMIGColorToFIGColor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("MercuryThreads").get();a={renderText:function(a,c,d,e){__p&&__p();c=c||k.getThreadMetaNow(a.thread_id);if(b("MessengerLightweightActionUtils").isLWAMessage(a)){e(b("MessengerLightweightActionUtils").getCollapsedLWAText(a));return}switch(a.log_message_type){case b("MercuryLogMessageType").SUBSCRIBE:var f=a.author;a.log_message_data||i(0);var g=a.log_message_data.added_participants;g||i(0);f=g.length===1&&f===g[0];f?b("Bootloader").loadModules(["MercuryJoinableMessageRenderer"],function(b){b.renderText(a,c,e)},"MercuryLogMessageRenderer"):n(a,e);break;case b("MercuryLogMessageType").UNSUBSCRIBE:b("MessengerAdminGroupUtils").isJoinableThread(c)?b("MessengerAdminGroupUtils").isGroupChat(c)?B(a,e):t(a,e):s(a,e);break;case b("MercuryLogMessageType").THREAD_NAME:c&&b("MessengerAdminGroupUtils").isWorkGroupSyncedChat(c)&&b("MessengerAdminGroupUtils").isWorkSyncedChatThreadCreationMessage(a)?w(a,e):c&&b("MessengerAdminGroupUtils").isJoinableThread(c)?b("MessengerAdminGroupUtils").isGroupChat(c)?C(a,c,e):u(a,c,e):x(a,c,e);break;case b("MercuryLogMessageType").THREAD_IMAGE:c&&b("MessengerAdminGroupUtils").isJoinableThread(c)?b("MessengerAdminGroupUtils").isGroupChat(c)?D(a,c,e):y(a,c,e):z(a,c,e);break;case b("MercuryLogMessageType").WALLPAPER:A(a,e);break;case b("MercuryLogMessageType").GENERIC_ADMIN_TEXT:var h=b("convertMIGColorToFIGColor")(c&&c.custom_color);b("Bootloader").loadModules(["MercuryXMATRenderer"],function(b){e(b.renderText(h,a,d))},"MercuryLogMessageRenderer");break;default:b("Bootloader").loadModules(["MercurySpecialLogMessageRenderer"],function(b){b.renderText(a,e)},"MercuryLogMessageRenderer");break}},renderIcon:function(a){return b("React").createElement(b("Image.react"),{className:l(a.log_message_type,a.log_message_data),src:j("99239")})},renderLegacy:function(a,c,d,e){l(e.log_message_type,e.log_message_data).split(" ").forEach(function(c){return c&&b("CSS").addClass(a,c)}),this.renderText(e,null,!1,function(a){b("ReactDOM").render(b("React").createElement("span",null,a),c)}),this.renderAttachmentLegacy(d,e)},renderAttachmentLegacy:function(a,c){c.log_message_type===b("MercuryLogMessageType").THREAD_IMAGE&&(function(){c.log_message_data||i(0);var d=c.log_message_data.image;d&&d.preview_url&&(b("ReactDOM").render(b("React").createElement(b("Image.react"),{className:"_z6a",onClick:function(){return m(d)},src:d.preview_url}),a),b("CSS").show(a))})()}};e.exports=a;function l(a,c){c=!!(c&&c.answered);return"_5wzu"+(a===b("MercuryLogMessageType").SUBSCRIBE?" _5wzj":"")+(a===b("MercuryLogMessageType").UNSUBSCRIBE?" _5wzk":"")+(a===b("MercuryLogMessageType").THREAD_NAME?" _5wzl":"")+(a===b("MercuryLogMessageType").THREAD_IMAGE?" _5wzm":"")+(a===b("MercuryLogMessageType").VIDEO_CALL&&c?" _5wzn":"")+(a===b("MercuryLogMessageType").VIDEO_CALL&&!c?" _5wzo":"")+(a===b("MercuryLogMessageType").PHONE_CALL&&c?" _5wzp":"")+(a===b("MercuryLogMessageType").PHONE_CALL&&!c?" _5wzq":"")+(a===b("MercuryLogMessageType").SERVER_ERROR?" _5wzr":"")+(a?"":" _2r5l")}function m(a){b("MercuryAttachmentViewer").bootstrapWithConfig({src:a.preview_url,endpoint:a.url,fbid:a.metadata.fbid,dimensions:a.metadata.dimensions,disablePaging:!0},null)}function n(a,c){__p&&__p();a.log_message_data||i(0);var d=b("MercuryMessageRendererUtils").moveCurrentUserToFront(a.log_message_data.added_participants);d||i(0);switch(d.length){case 1:o(a,c,d);break;case 2:p(a,c,d);break;case 3:q(a,c,d);break;default:r(a,c,d);break}}function o(a,c,d){var e=[a.author,d[0]];b("MercuryParticipants").getMulti(e,function(e){a.author===b("MercuryViewer").getID()?c(h._("You added {subscriber1}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]]))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} added you.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author]))])):c(h._("{actor} added {subscriber1}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]]))]))})}function p(a,c,d){var e=[a.author].concat(d);b("MercuryParticipants").getMulti(e,function(e){a.author===b("MercuryViewer").getID()?c(h._("You added {subscriber1} and {subscriber2}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]]))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} added you and {subscriber2}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]]))])):c(h._("{actor} added {subscriber1} and {subscriber2}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]]))]))})}function q(a,c,d){var e=[a.author].concat(d);b("MercuryParticipants").getMulti(e,function(e){a.author===b("MercuryViewer").getID()?c(h._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]])),h._param("subscriber3",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[2]]))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} added you, {subscriber2} and {subscriber3}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]])),h._param("subscriber3",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[2]]))])):c(h._("{actor} added {subscriber1}, {subscriber2} and {subscriber3}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]])),h._param("subscriber3",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[2]]))]))})}function r(a,c,d){var e=[a.author].concat(d);b("MercuryParticipants").getMulti(e,function(e){function f(a){var c=b("React").createElement("div",null,a.map(function(a){return b("React").createElement("div",null,a.name)}));return b("React").createElement(b("TooltipLink.react"),{alignH:"center",position:"above",tooltip:c},h._({"*":"{num} more"},[h._param("num",a.length,[0])]))}var g=d.map(function(a){return e[a]});a.author===b("MercuryViewer").getID()?c(h._("You added {subscriber1}, {subscriber2} and {more_people}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(g[0])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(g[1])),h._param("more_people",f(g.slice(2)))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} added you, {subscriber2} and {more_people}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(g[1])),h._param("more_people",f(g.slice(2)))])):c(h._("{actor} added {subscriber1}, {subscriber2} and {more_people}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(g[0])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(g[1])),h._param("more_people",f(g.slice(2)))]))})}function s(a,c){__p&&__p();var d=[a.author];a.log_message_data||i(0);var e=a.log_message_data.removed_participants;e||i(0);var f=void 0;e.length===1&&(f=e[0],d.push(f));b("MercuryParticipants").getMulti(d,function(d){var e=d[a.author];d=d[f];a.author===b("MercuryViewer").getID()?!f||f===a.author?c(h._("You left the conversation.")):c(h._("You removed {name} from the conversation.",[h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))])):!f||f===a.author?c(h._("{actor} left the conversation.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):f===b("MercuryViewer").getID()?c(h._("{actor} removed you from the conversation.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):c(h._("{actor} removed {name} from the conversation.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e)),h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))]))})}function t(a,c){__p&&__p();var d=[a.author];a.log_message_data||i(0);var e=a.log_message_data.removed_participants;e||i(0);var f=void 0;e.length===1&&(f=e[0],d.push(f));b("MercuryParticipants").getMulti(d,function(d){var e=d[a.author];d=d[f];a.author===b("MercuryViewer").getID()?!f||f===a.author?c(h._("You left the room.")):c(h._("You removed {name} from the room.",[h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))])):!f||f===a.author?c(h._("{actor} left the room.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):f===b("MercuryViewer").getID()?c(h._("{actor} removed you from the room.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):c(h._("{actor} removed {name} from the room.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e)),h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))]))})}function u(a,c,d){__p&&__p();a.log_message_data||i(0);var e=a.log_message_data.name,f="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(a.author===b("MercuryViewer").getID())if(e){var g=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("You named the room: {name}.",[h._param("name",b("React").createElement("span",{className:f},g))]))}else d(h._("You removed the room name."));else b("MercuryParticipants").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);if(e){var g=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("{actor} named the room: {name}.",[h._param("actor",a),h._param("name",b("React").createElement("span",{className:f},g))]))}else d(h._("{actor} removed the room name.",[h._param("actor",a)]))})}function v(a,c,d,e,f){a.author===b("MercuryViewer").getID()?f(h._("You named the group {thread_name}. Your group is also on Facebook.",[h._param("thread_name",b("React").createElement("span",{className:e},b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:d})))])):b("MercuryParticipants").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);f(h._("{actor} named the group {thread_name}. Your group is also on Facebook.",[h._param("actor",a),h._param("thread_name",b("React").createElement("span",{className:e},b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:d})))]))})}function w(a,c){a.log_message_data||i(0);a=a.log_message_data.name;var d="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(a){c(h._("You can now chat to {name} on Workplace Chat.",[h._param("name",b("React").createElement("span",{className:d},b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a})))]));return}}function x(a,c,d){__p&&__p();a.log_message_data||i(0);var e=a.log_message_data.name,f="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(e&&a.tags&&a.tags.indexOf(b("MessagingSourceEnum").EVENT_UPCOMING_BUMP)!==-1)d(h._("The group has been named {name}.",[h._param("name",b("React").createElement("span",{className:f},b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e})))]));else if(e&&a.tags&&a.tags.indexOf(b("MessagingSourceEnum").GROUPSYNC_NAMING)!==-1)v(a,c,e,f,d);else if(a.author===b("MercuryViewer").getID())if(e){var g=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("You named the conversation: {name}.",[h._param("name",b("React").createElement("span",{className:f},g))]))}else d(h._("You removed the conversation name."));else b("MercuryParticipants").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);if(e){var g=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("{actor} named the conversation: {name}.",[h._param("actor",a),h._param("name",b("React").createElement("span",{className:f},g))]))}else d(h._("{actor} removed the conversation name.",[h._param("actor",a)]))})}function y(a,c,d){a.author===b("MercuryViewer").getID()?(a.log_message_data||i(0),a.log_message_data.image?d(h._("You changed the room picture.")):d(h._("You removed the room picture."))):b("MercuryParticipants").get(a.author,function(e){e=b("MercuryMessageRendererUtils").getLinkToParticipant(e,c);a.log_message_data||i(0);a.log_message_data.image?d(h._("{actor} changed the room picture.",[h._param("actor",e)])):d(h._("{actor} removed the room picture.",[h._param("actor",e)]))})}function z(a,c,d){a.tags!==undefined&&a.tags.indexOf(b("MessagingSourceEnum").EVENT_UPCOMING_BUMP)!==-1?d(h._("The conversation picture has been set.")):a.author===b("MercuryViewer").getID()?(a.log_message_data||i(0),a.log_message_data.image?d(h._("You changed the conversation picture.")):d(h._("You removed the conversation picture."))):b("MercuryParticipants").get(a.author,function(e){e=b("MercuryMessageRendererUtils").getLinkToParticipant(e,c);a.log_message_data||i(0);a.log_message_data.image?d(h._("{actor} changed the conversation picture.",[h._param("actor",e)])):d(h._("{actor} removed the conversation picture.",[h._param("actor",e)]))})}function A(a,c){a.author===b("MercuryViewer").getID()?c(h._("You changed the wallpaper.")):b("MercuryParticipants").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a);c(h._("{actor} changed the wallpaper.",[h._param("actor",a)]))})}function B(a,c){__p&&__p();var d=[a.author];a.log_message_data||i(0);var e=a.log_message_data.removed_participants;e||i(0);var f=void 0;e.length===1&&(f=e[0],d.push(f));b("MercuryParticipants").getMulti(d,function(d){var e=d[a.author];d=d[f];a.author===b("MercuryViewer").getID()?!f||f===a.author?c(h._("You left the chat.")):c(h._("You removed {name} from the chat.",[h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))])):!f||f===a.author?c(h._("{actor} left the chat.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):f===b("MercuryViewer").getID()?c(h._("{actor} removed you from the chat.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):c(h._("{actor} removed {name} from the chat.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e)),h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))]))})}function C(a,c,d){__p&&__p();a.log_message_data||i(0);var e=a.log_message_data.name,f="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(a.author===b("MercuryViewer").getID())if(e){var g=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("You named the chat: {name}.",[h._param("name",b("React").createElement("span",{className:f},g))]))}else d(h._("You removed the chat name."));else b("MercuryParticipants").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);if(e){var g=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("{actor} named the chat: {name}.",[h._param("actor",a),h._param("name",b("React").createElement("span",{className:f},g))]))}else d(h._("{actor} removed the chat name.",[h._param("actor",a)]))})}function D(a,c,d){a.author===b("MercuryViewer").getID()?(a.log_message_data||i(0),a.log_message_data.image?d(h._("You changed the chat picture.")):d(h._("You removed the chat picture."))):b("MercuryParticipants").get(a.author,function(e){e=b("MercuryMessageRendererUtils").getLinkToParticipant(e,c);a.log_message_data||i(0);a.log_message_data.image?d(h._("{actor} changed the chat picture.",[h._param("actor",e)])):d(h._("{actor} removed the chat picture.",[h._param("actor",e)]))})}}),null);
__d("MercuryLogMessage.react",["cx","fbt","DOM","DOMDimensions","Event","EventReminderRequestHelper","ImmutableObject","MercuryLogMessageRenderer","MercuryLogMessageType","MessagingGenericAdminTextType","React","ReactDOM","ShimButton.react","cancelAnimationFrame","emptyFunction","formatDate","joinClasses","requestAnimationFrame","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=266;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={messageText:null,showEventReminderFlyout:!1},this.$4=function(){this.$5()}.bind(this),this.$9=function(){!this.state.showEventReminderFlyout?b("EventReminderRequestHelper").fetchEventReminder(this.props.thread.thread_id,this.props.thread.lightweight_event.oid,function(){this.$1&&this.setState({showEventReminderFlyout:!0})}.bind(this)):this.setState({showEventReminderFlyout:!1})}.bind(this),this.$11=function(a){a!==this.state.showEventReminderFlyout&&this.setState({showEventReminderFlyout:a})}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,this.UNSAFE_componentWillReceiveProps(this.props)};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$2&&b("cancelAnimationFrame")(this.$2)};a.prototype.$3=function(){return b("React").createElement(b("ShimButton.react"),{form:"link",onClick:this.$4},h._("Show previous messages."))};a.prototype.$5=function(){var a=this.props.loadMoreMessages&&this.props.loadMoreMessages();if(!this.$1)return;if(a)this.setState({messageText:this.$3()});else{a=h._("Couldn't find previous messages.");this.setState({messageText:a})}};a.prototype.UNSAFE_componentWillReceiveProps=function(a){if(a.message.log_message_type===b("MercuryLogMessageType").SERVER_ERROR)return;b("MercuryLogMessageRenderer").renderText(a.message,a.thread,a.isLastOfType,function(a){this.$1&&this.setState({messageText:a})}.bind(this))};a.prototype.shouldComponentUpdate=function(a,b){return this.state.messageText!=b.messageText||a.maxWidth!==this.props.maxWidth||this.state.showEventReminderFlyout!==b.showEventReminderFlyout};a.prototype.componentDidUpdate=function(){this.$6();if(!this.refs.attachment)return;b("MercuryLogMessageRenderer").renderAttachmentLegacy(this.refs.attachment,this.props.message);b("DOM").scry(this.refs.wrap,"img").forEach(function(a){var c=b("Event").listen(a,"load",function(){this.$6(),c.remove()}.bind(this))}.bind(this))};a.prototype.render=function(){return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5ye6"),ref:"wrap",style:babelHelpers["extends"]({},this.props.style,this.$7()),title:b("formatDate")(new Date(this.props.message.timestamp),"g:ia")}),b("React").createElement("div",{className:"_5ye7"},b("MercuryLogMessageRenderer").renderIcon(this.props.message),this.state.messageText),b("React").createElement("div",{className:"_5ye8",ref:"attachment"},this.$8()))};a.prototype.$8=function(){__p&&__p();if(this.props.thread&&!this.props.thread.lightweight_event||!this.props.message.log_message_data)return null;var a=void 0;b("requireWeak")("EventReminderStateStore",function(b){a=b.getEvent(this.props.thread.thread_id)}.bind(this));if(!a||!a.exists)return null;var c;b("requireWeak")("Link.react",function(a){c=a});var d=void 0;switch(this.props.message.log_message_data.message_type){case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:d=h._("Change");break;default:d=null}d=b("React").createElement(c,{href:"#",onClick:this.$9,title:h._("Edit Event"),ref:"event_rem_link"},d);this.props.displayItems&&(d=null);return b("React").createElement("span",null,d,this.$10())};a.prototype.$10=function(){__p&&__p();if(!this.state.showEventReminderFlyout)return null;var a="right",c=b("ReactDOM").findDOMNode(this.refs.wrap);c&&c instanceof Element&&c.getBoundingClientRect().left<j&&(a="left");c={alignment:a,position:"above",contextRef:function(){return this.refs.event_rem_link}.bind(this),shown:this.state.showEventReminderFlyout,onToggle:this.$11};a=void 0;b("requireWeak")("EventsActionsLogger",function(b){a=b});var d={action_history:[{surface:a.Surface.MESSENGER_CHAT_TAB,mechanism:a.Mechanism.REMINDER_ADMIN_TEXT}]};c={threadID:this.props.thread.thread_id,dialogProps:c,flyoutNoSheet:!0,isEditing:!0,actionContext:d};var e;b("requireWeak")("ChatEventReminderContainer.react",function(a){e=a});return b("React").createElement(e,c)};a.prototype.$7=function(){return this.props.maxWidth?{maxWidth:this.props.maxWidth}:null};a.prototype.$6=function(){this.$2&&b("cancelAnimationFrame")(this.$2),this.$2=b("requestAnimationFrame")(function(){this.props.onImageLoad&&this.props.onImageLoad(b("DOMDimensions").getElementDimensions(this.refs.wrap).height),delete this.$2}.bind(this))};a.propTypes={loadMoreMessages:c.func,maxWidth:c.number,message:c.instanceOf(b("ImmutableObject")).isRequired,onImageLoad:c.func,thread:c.object};a.defaultProps={onImageLoad:b("emptyFunction")};e.exports=a}),null);
__d("MercuryMessageGroup",["MercuryActionType","MercuryAttachmentType","MercuryMessageInfo","MercuryShareAttachmentRenderLocations","MercuryThreadlistConstants","MessengerLightweightActionUtils","enumerate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={calculateMessageGroups:function(a,c){__p&&__p();var d=[],e=null,f={value:null};a=b("enumerate")(a);var h=void 0;while(!(h=a.next()).done){var i=g.canAppendMessageToLastGroup(f.value,h.value,c);i||(e=[],d.push(e));e.push(h.value);f=h}return d},canAppendMessageToLastGroup:function(a,c,d){var e=b("MercuryThreadlistConstants").GROUPING_THRESHOLD;if(!a||h(a,d)||h(c,d)||a.author!=c.author||a.timestamp<c.timestamp-e||a.is_spoof_warning!==c.is_spoof_warning||a.page_admin_notes||c.replied_to_message)return!1;d=b("MercuryMessageInfo").getPersona(a);e=b("MercuryMessageInfo").getPersona(c);return!d&&!e?!0:d===null||e===null?!1:d.id===e.id}};function h(a,c){var d=a.has_attachment;d&&(c===b("MercuryShareAttachmentRenderLocations").MESSENGER||c===b("MercuryShareAttachmentRenderLocations").CHAT)&&(d=i(a));return!!(b("MessengerLightweightActionUtils").isLWAMessage(a)||a.action_type==b("MercuryActionType").LOG_MESSAGE||d||a.html_body||a.body&&a.body.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK)}function i(a){a=a.attachments[0];return!a||a.attach_type===b("MercuryAttachmentType").STICKER||a.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE}e.exports=g}),null);
__d("MessengerDomIDs.bs",["uniqueID"],(function(a,b,c,d,e,f){"use strict";a={COMPOSER_INPUT_DESCRIPTION:b("uniqueID")(),CONVERSATION:b("uniqueID")(),MAIN_LABEL:b("uniqueID")(),MUTE_DIALOG_TITLE:b("uniqueID")(),THREAD_INFO_PANEL:b("uniqueID")(),THREAD_TITLE:b("uniqueID")()};f.ids=a}),null);
__d("PagesMessagingMercuryChatTabActionKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({REQUEST_GREETING_CONFIG:null,NOTIFY_GREETING_CONFIG_RECEIVED:null});e.exports=a}),null);
__d("PagesMessagingMercuryChatTabDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("PagesMessagingMercuryChatTabActions",["PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabDispatcher"],(function(a,b,c,d,e,f){"use strict";a={requestGreetingConfig:function(a){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG,threadID:a})},notifyGreetingConfigReceived:function(a,c){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED,threadID:a,payload:c})}};e.exports=a}),null);
__d("PagesMessagingMercuryChatTabState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("immutable").Record({pagesGreetingShouldShow:!1,pagesGreetingContent:null,pageResponsiveness:null,coverPhotoData:null,connectionContext:null,pageOnlineMessage:null,icebreakers:null}));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XMercuryChatTabPagesNullStateConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/mercury/greeting/",{})}),null);
__d("PagesMessagingMercuryChatTabStore",["invariant","PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabActions","AsyncRequest","PagesMessagingMercuryChatTabDispatcher","FluxStore","MercuryIDs","PagesMessagingMercuryChatTabState","XMercuryChatTabPagesNullStateConfigController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("PagesMessagingMercuryChatTabDispatcher")),this.$PagesMessagingMercuryChatTabStore1=new Map()}a.prototype.getStateByThread=function(a){this.$PagesMessagingMercuryChatTabStore1.has(a)||this.$PagesMessagingMercuryChatTabStore1.set(a,new(b("PagesMessagingMercuryChatTabState"))());a=this.$PagesMessagingMercuryChatTabStore1.get(a);a||g(0);return a};a.prototype.__onDispatch=function(a){var c=a.actionType,d=a.payload;a=a.threadID;var e=this.getStateByThread(a);e||g(0);switch(c){case b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG:this.$PagesMessagingMercuryChatTabStore2(a);break;case b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED:this.$PagesMessagingMercuryChatTabStore3(a,this.$PagesMessagingMercuryChatTabStore4(d,e));break}};a.prototype.$PagesMessagingMercuryChatTabStore2=function(a){var c=b("XMercuryChatTabPagesNullStateConfigController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({page_id:b("MercuryIDs").getUserIDFromThreadID(a)}).setHandler(function(c){return b("PagesMessagingMercuryChatTabActions").notifyGreetingConfigReceived(a,c.payload)}).send()};a.prototype.$PagesMessagingMercuryChatTabStore3=function(a,b){this.$PagesMessagingMercuryChatTabStore1.set(a,b),this.__emitChange()};a.prototype.$PagesMessagingMercuryChatTabStore4=function(a,b){var c=b.set("pagesGreetingShouldShow",a.pagesGreetingShouldShow).set("pagesGreetingContent",a.pagesGreetingContent).set("pageResponsiveness",a.pageResponsiveness).set("coverPhotoData",a.coverPhotoData).set("connectionContext",a.connectionContext).set("pageOnlineMessage",a.pageOnlineMessage);(b.icebreakers===null||b.icebreakers===undefined||Object.keys(b.icebreakers).length===0)&&(c=c.set("icebreakers",a.icebreakers));return c};a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesMessageListGreeting.react",["cx","FluxContainer","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(){return[b("PagesMessagingMercuryChatTabStore")]};a.calculateState=function(a,c){if(c.messageCount>0)return{shouldShowGreeting:!1};a=b("PagesMessagingMercuryChatTabStore").getStateByThread(c.threadID);return{greetingContent:a.pagesGreetingContent,shouldShowGreeting:a.pagesGreetingShouldShow}};a.prototype.componentDidMount=function(){b("PagesMessagingMercuryChatTabActions").requestGreetingConfig(this.props.threadID)};a.prototype.render=function(){return!this.state.shouldShowGreeting||!this.state.greetingContent||this.state.greetingContent.trim().length===0?null:b("React").createElement("div",{className:"_4fsh _3-8z"},this.state.greetingContent)};function a(){h.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessageList.react",["cx","immutable","ImmutableObject","MercuryActionType","MercuryIDs","MercuryLogMessageType","MercuryMessageGroup","MercuryMessageInfo","MercuryShareAttachmentRenderLocations","MessagingGenericAdminTextType","MessengerAdminGroupUtils","MessengerDomIDs.bs","MessengerLightweightActionUtils","PagesMessageListGreeting.react","React","ReactDOM","idx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerDomIDs.bs").ids;c=b("React").PropTypes;var j=1e3*60*60,k=function(a){var c;c=(c=a)!=null?(c=c.log_message_data)!=null?c.message_type:c:c;switch(c){case b("MessagingGenericAdminTextType").GROUP_POLL:return(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.question_id:c:c:c;case b("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE:return(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.game_id:c:c:c;default:return null}},l=function(a){return b("MessengerLightweightActionUtils").isLWAMessage(a)?"lwa":null};d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={activeMessageID:null,messageGroups:b("MercuryMessageGroup").calculateMessageGroups(this.props.messages,this.props.location)},this.$4=function(a){this.setState(function(b){return{activeMessageID:b.activeMessageID===a?null:b.activeMessageID}})}.bind(this),this.$5=function(a){this.setState({activeMessageID:a})}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.messages!==this.props.messages&&this.setState({messageGroups:b("MercuryMessageGroup").calculateMessageGroups(a.messages,a.location)})};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.DateBreak,d=a.location,e=a.MessageGroup;a=a.CollapsedLogMessageGroup;var f=[],g=[],h=void 0,r=this.props.thread&&this.props.thread.custom_color;r=r?{backgroundColor:r}:null;var s=this.state.activeMessageID,t=this.state.messageGroups,u=t.length,v=this.props.readReceipts,w=v.last();w=w?w.watermark:0;var x=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);b("MessengerAdminGroupUtils").isJoinableThread(this.props.thread);var y={};for(var z=this.props.messages.size-1;z>=0;z--){var A=this.props.messages.get(z),B=k(A)||l(A);B&&!y[B]&&(y[B]=A.message_id)}for(var B=0;B<u;B++){A=B>0?t[B-1]:null;z=A&&A.length>0?A[A.length-1]:null;A=t[B];var C=A[0],D=A[A.length-1],E=!1;if(!z||C.timestamp-z.timestamp>j){E=!0;z=b("React").createElement(c,{date:new Date(C.timestamp),key:"db:"+C.message_id,ref:"db:"+C.message_id});g.length===0&&f.push(z)}if(b("MessengerLightweightActionUtils").isLWAMessage(C)&&y[l(C)]!==C.message_id){z=this.$1(C,y);f.push(z);continue}if(C.action_type==b("MercuryActionType").LOG_MESSAGE){z=(z=C)!=null?(z=z.log_message_data)!=null?z.message_type:z:z;var F=z===b("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE;z=z===b("MessagingGenericAdminTextType").GROUP_POLL;if((d===b("MercuryShareAttachmentRenderLocations").CHAT||d===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(C.log_message_type===b("MercuryLogMessageType").VIDEO_CALL||C.log_message_type===b("MercuryLogMessageType").PHONE_CALL)){var G=this.$2(C,x,t,u,B,v,w,D,y);f.push(G)}else{G=this.$3(C,y);h=C.message_id;!F&&!z?g.push(G):(g.length!==0&&(g.length>1?f.push(b("React").createElement(a,{key:"mg:"+h,style:r},g)):f.push(b("React").createElement("div",{key:"mg:"+h},g)),g=[]),f.push(G))}continue}g.length!==0&&(g.length>1?f.push(b("React").createElement(a,{key:"mg:"+h,style:r},g)):f.push(b("React").createElement("div",{key:"mg:"+h},g)),g=[]);A=b("immutable").List(A);F=n(t,u,B,y);z=!p(v,A,F);G=o(w,D);var H=q(this.props.deliveryTimestamp,D),I=this.props.onlineUsers!==undefined&&this.props.onlineUsers.includes(b("MercuryIDs").getUserIDFromParticipantID(A.first().author));D=b("MercuryMessageInfo").getPersona(D);f.push(b("React").createElement(e,{activeMessageID:m(s,A),author:A.first().author,deliveryTimestamp:H,hasDateBreak:E,isCanonical:this.props.isCanonical,isFromViewer:x===C.author,isPageMessage:this.props.isPageMessage,isOnline:I,key:"mg:"+C.message_id,lastReadTimestamp:G,maxBubbleWidth:this.props.maxBubbleWidth,messages:A,nextTimestamp:F,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this.$4,onMessageSelect:this.$5,onStickerClick:this.props.onStickerClick,onReplyToMessage:this.props.onReplyToMessage,pageID:this.props.isPageMessage?this.props.viewer:null,personaID:D?D.id:null,readReceipts:z?v:b("immutable").OrderedMap(),ref:"mg:"+C.message_id,thread:this.props.thread,threadID:this.props.threadID}))}g.length!==0&&(g.length>1?f.push(b("React").createElement(a,{key:"mg:"+h,style:r},g)):f.push(b("React").createElement("div",{key:"mg:"+h},g)),g=[]);H=this.props.threadID||this.props.thread&&this.props.thread.thread_id||this.props.thread&&this.props.thread.thread_fbid;E=null;d===b("MercuryShareAttachmentRenderLocations").MESSENGER&&H&&this.props.isPageMessage&&(E=b("React").createElement(b("PagesMessageListGreeting.react"),{messageCount:g.length+u,threadID:H}));return b("React").createElement("div",{id:d===b("MercuryShareAttachmentRenderLocations").MESSENGER?i.CONVERSATION:null},E,f)};a.prototype.getMessageElement=function(a,c){__p&&__p();if(c){var d=this.refs["db:"+a];if(d)return b("ReactDOM").findDOMNode(d)}d=this.state.messageGroups.find(function(b){return b.some(function(b){return b.message_id===a})});if(!d)return null;d=d[0].message_id;var e=this.refs["mg:"+d];if(!e)return null;return c&&d===a?b("ReactDOM").findDOMNode(e):e.getMessageElement(a)};a.prototype.$2=function(a,c,d,e,f,g,h,i,j){var k=this.props.MessageGroup,l={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:a.log_message_body,log_message_data:a.log_message_data,log_message_type:a.log_message_type,timestamp:a.timestamp}};l=b("ImmutableObject").setProperty(a,"attachments",[l]);l=b("ImmutableObject").setProperty(l,"body","");l=b("immutable").List([l]);d=n(d,e,f,j);e=!p(g,l,d);f=o(h,i);j=q(this.props.deliveryTimestamp,i);return b("React").createElement(k,{author:l.first().author,deliveryTimestamp:j,isFromViewer:c===a.author,isPageMessage:this.props.isPageMessage,key:a.message_id,lastReadTimestamp:f,maxBubbleWidth:this.props.maxBubbleWidth,messages:l,nextTimestamp:d,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this.$4,onMessageSelect:this.$5,onStickerClick:this.props.onStickerClick,readReceipts:e?g:b("immutable").OrderedMap(),thread:this.props.thread,threadID:this.props.threadID})};a.prototype.$3=function(a,c){var d=this.props.LogMessage;c=c[k(a)];return a.log_message_type!==b("MercuryLogMessageType").SERVER_ERROR?b("React").createElement(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,key:a.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:c===a.message_id}):null};a.prototype.$1=function(a,c){c=c[l(a)];var d=this.props.LogMessage;return b("React").createElement(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,key:a.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:c===a.message_id})};a.propTypes={CollapsedLogMessageGroup:c.func.isRequired,DateBreak:c.func.isRequired,deliveryTimestamp:c.number.isRequired,isCanonical:c.bool,isPageMessage:c.bool,location:c.string.isRequired,LogMessage:c.func.isRequired,loadMoreMessages:c.func,MessageGroup:c.func.isRequired,messages:c.instanceOf(b("immutable").List).isRequired,onAttachmentLoad:c.func,onlineUsers:c.instanceOf(b("immutable").List),onStickerClick:c.func,onReplyToMessage:c.func,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired,viewer:c.string.isRequired,thread:c.object,threadID:c.string};function m(a,b){return b.find(function(b){return b.message_id===a})?a:null}function n(a,c,d,e){if(d>=c-1)return Infinity;var f=a[d+1][0];if(b("MessengerLightweightActionUtils").isLWAMessage(f)&&e[l(f)]!==f.message_id||f.action_type==b("MercuryActionType").LOG_MESSAGE)return n(a,c,d+1,e);else return f.timestamp}function o(a,b){return b.timestamp>a?a:Infinity}function p(a,b,c){return b.isEmpty()||a.last()<b.first().timestamp||a.first()>=c}function q(a,b){return b.timestamp>a?a:Infinity}e.exports=a}),null);
__d("ChatConversation.react",["ChatCollapsedLogMessageGroup.react","ChatDateBreak.react","ChatMessageGroup.react","immutable","MercuryLogMessage.react","MercuryIDs","MessengerReadReceipt.bs","MessageList.react","React","MercuryShareAttachmentRenderLocations","cancelAnimationFrame","requestAnimationFrame"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").OrderedMap;a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatConversation",_raf:undefined,_onMountTimeout:undefined,propTypes:{contextBanner:a.object,isCanonical:a.bool.isRequired,loadMoreMessages:a.func,maxBubbleWidth:a.number.isRequired,messages:a.instanceOf(b("immutable").List).isRequired,onAttachmentLoad:a.func,onMount:a.func,onlineUsers:a.instanceOf(b("immutable").List).isRequired,onStickerClick:a.func,viewer:a.string.isRequired,thread:a.object,threadID:a.string.isRequired},componentDidMount:function(){this._raf=b("requestAnimationFrame")(function(){this._onMountTimeout=setTimeout(function(){this.props.onMount&&this.props.onMount(),delete this._onMountTimeout}.bind(this),0),delete this._raf}.bind(this))},componentWillUnmount:function(){this._raf&&b("cancelAnimationFrame")(this._raf),clearTimeout(this._onMountTimeout)},render:function(){return b("React").createElement("div",null,this.props.contextBanner,b("React").createElement(b("MessageList.react"),{DateBreak:b("ChatDateBreak.react"),LogMessage:b("MercuryLogMessage.react"),MessageGroup:b("ChatMessageGroup.react"),deliveryTimestamp:0,isCanonical:this.props.isCanonical,location:b("MercuryShareAttachmentRenderLocations").CHAT,loadMoreMessages:this.props.loadMoreMessages,maxBubbleWidth:this.props.maxBubbleWidth,CollapsedLogMessageGroup:b("ChatCollapsedLogMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.props.onAttachmentLoad,onlineUsers:this.props.onlineUsers,onStickerClick:this.props.onStickerClick,readReceipts:this._calculateReceipts(this.props),ref:"messageList",viewer:this.props.viewer,thread:this.props.thread,threadID:this.props.threadID}))},_calculateReceipts:function(a){__p&&__p();var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.bs").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);return d.withMutations(function(c){b("immutable").Seq(a.messages).reverse().forEach(function(a){if(e.size===0)return!1;if(!e.has(a.author))return null;c.update(a.author,function(b){return!b||b.watermark<=a.timestamp?{watermark:a.timestamp,action:a.timestamp}:b});e["delete"](a.author);return null})})},getMessageList:function(){return this.refs.messageList}});e.exports=c}),null);
__d("ChatEditParticipantsUtils",["AsyncDialog","AsyncRequest","MercuryIDs","MercuryThreadIDMap","URI"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryThreadIDMap").get();a={showParticipantsModal:function(a){if(!b("MercuryIDs").isGroupChat(a))return;g.getServerIDFromClientID(a,function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(new(b("URI"))("/ajax/browser/dialog/multichat_members/").addQueryData({id:a})))})}};e.exports=a}),null);
__d("ChatFlyoutPlaceholder.react",["React","XUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g={padding:"30px",textAlign:"center"};a=function(){return b("React").createElement("div",{style:g},b("React").createElement(b("XUISpinner.react"),{size:"large"}))};e.exports=a}),null);
__d("MessengerEmojiSpan.react",["cx","EmojiLikeConstants","MessengerSupportedEmojiUtils","React","cssURL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.SMALL);a=a?a:"";return b("React").createElement("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey},b("React").createElement("span",{className:"_21wk"},this.props.children))};function a(){h.apply(this,arguments)}a.propTypes={children:c.arrayOf(c.object),contentState:c.object.isRequired,entityKey:c.string,offsetKey:c.string};e.exports=a}),null);
__d("MessengerEmoticonSpan.react",["cx","EmojiLikeConstants","MessengerSupportedEmojiUtils","EmoticonEmojiList","React","cssURL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("EmoticonEmojiList").emote2emojis[a];a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.XSMALL);a=a?a:"";return b("React").createElement("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey},b("React").createElement("span",{className:"_21wk"},this.props.children))};function a(){h.apply(this,arguments)}a.propTypes={children:c.arrayOf(c.object),contentState:c.object.isRequired,entityKey:c.string,offsetKey:c.string};e.exports=a}),null);
__d("MessengerMentionSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({REPLY:"reply",ATSIGN:"@",TYPEAHEAD:"typeahead"});e.exports=a}),null);
__d("MessengerMentionsEntityDecorator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("span",{className:"_fy2"},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MessengerUploadFilesUtil.bs",["bs_array","bs_curry","FantaTypeFileUploader"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e=(d={},d[b("FantaTypeFileUploader").fileTypes.ANIMATED_IMAGE]="gif_ids",d[b("FantaTypeFileUploader").fileTypes.AUDIO]="audio_ids",d[b("FantaTypeFileUploader").fileTypes.FILE]="file_ids",d[b("FantaTypeFileUploader").fileTypes.GENERIC_ATTACHMENT]="generic_attachment_ids",d[b("FantaTypeFileUploader").fileTypes.IMAGE]="image_ids",d[b("FantaTypeFileUploader").fileTypes.VIDEO]="video_ids",d);function a(a,b){if(a==null)return null;else{a=a.getTypeIDs(b);if(a.length!==0)return a;else return null}}function g(a){__p&&__p();if(a==null)return 0;else{a=a.get("uploadedFiles");var b=[],c=[],d=[];a.forEach(function(a,e,f){__p&&__p();e=a.file;if(e.type.startsWith("image/")){b.push(e);return 0}else if(e.type.startsWith("video/")){c.push(e);return 0}else{d.push(e);return 0}});return[[b,c,d]]}}function h(a,c){if(c.length!==0)return b("bs_curry")._1(a,c);else return 0}function c(a,c){__p&&__p();if(a==null||c==null)return 0;else{a=g(a);if(a){a=a[0];b("bs_array").iter(function(a){return h(c,[a])},a[1]);h(c,a[0]);return h(c,a[2])}else return 0}}f.supportAttachments=e;f.getAttachmentIDs=a;f.getAttachments=g;f.sendAttchment=h;f.sendAttchments=c}),null);
__d("createMessengerMentionDraftEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("MENTION","SEGMENTED",{mid:b.getUniqueID()})}e.exports=a}),null);
__d("getProfileRangesForContentState",["EmojiFormat","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("emptyFunction").thatReturnsTrue;function a(a,c){__p&&__p();var d=[],e=0;a.getBlockMap().forEach(function(f){__p&&__p();var h=0,i=f.getText();f.findEntityRanges(g,function(g,i){__p&&__p();var j=f.getEntityAt(g);if(j){j=a.getEntity(j);if(j.getType()==="EMOTICON")h+=j.getData().originalEmoticon.length-1;else if(j.getType()==="EMOJI"){var k=j.getData().type;k=b("EmojiFormat").codeStringToCodeArray(k);k=String.fromCodePoint.apply(String,k);h+=k.length-1}else if(j.getType()==="MENTION"){k=j.getData().mid;j=g+h+e;var l=k===c;(/^\d+$/.test(k)||l)&&d.push({id:k,offset:j,length:i-g,type:l?"t":"p"})}}});e+=i.length+h+1});return d}e.exports=a}),null);
__d("getVisibleValueForContentStateWithMessengerEmoji",["EmojiFormat","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.getBlockMap().map(function(c){__p&&__p();var d=c.getText(),e="";c.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(f,g){__p&&__p();var h=c.getEntityAt(f);if(!h)e+=d.slice(f,g);else{h=a.getEntity(h);if(h.getType()==="EMOTICON")e+=h.getData().originalEmoticon;else if(h.getType()==="EMOJI"){h=h.getData().type;h=b("EmojiFormat").codeStringToCodeArray(h);e+=String.fromCodePoint.apply(String,h)}else e+=d.slice(f,g)}});return e});return c.join("\n")}e.exports=a}),null);
__d("insertMessengerEmojiIntoContentState",["DraftModifier","EmojiFormat"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=c.createEntity("EMOJI","IMMUTABLE",{type:a});f=f.getLastCreatedEntityKey();return b("DraftModifier").insertText(c,d,b("EmojiFormat").codeStringToUnicode(a),e,f)}e.exports=a}),null);
__d("handleBeforeInputForMessengerEmoji",["EditorState","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c)return a;c=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(c);if(!c||!c.is_supported)return a;c=b("insertMessengerEmojiIntoContentState")(c.emoji_key,a.getCurrentContent(),d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-characters")}e.exports=a}),null);
__d("applyMessengerEmoticonToContentBlock",["CharacterMetadata","EmoticonEmojiList","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h="\u3000";function a(a,c,d,e){if(!b("EmoticonEmojiList").names[d])return c;a=a.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonEmojiList").names[d],originalEmoticon:d});a=a.getLastCreatedEntityKey();var f=c.getText(),i=c.getCharacterList();d=d.length;var j=i.get(e);return c.merge({text:f.slice(0,e)+h+f.slice(e+d),characterList:i.slice(0,e).concat(g.of(b("CharacterMetadata").applyEntity(j,a)),i.slice(e+d))})}e.exports=a}),null);
__d("getTextAfterNearestEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=b;while(c>0&&a.getEntityAt(c-1)===null)c--;return a.getText().slice(c,b)}e.exports=a}),null);
__d("applyMessengerEmoticonToContentState",["EmoticonEmojiList","applyMessengerEmoticonToContentBlock","getTextAfterNearestEntity"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=c.getAnchorKey(),e=c.getAnchorOffset(),f=a.getBlockForKey(d),g=b("getTextAfterNearestEntity")(f,e),h=b("EmoticonEmojiList").regexp.exec(g);if(!h)return a;var i=h[1];if(!i&&e!==g.length)return a;i=h[2];g=e-g.length;g=g+h.index+h[1].length;h=a.getBlockMap().set(d,b("applyMessengerEmoticonToContentBlock")(a,f,i,g));e-=i.length-1;return a.merge({blockMap:h,selectionBefore:c,selectionAfter:c.merge({anchorOffset:e,focusOffset:e})})}e.exports=a}),null);
__d("handleBeforeInputForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp(/[\s\'\".,!?]/);function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c||!g.test(c))return a;var e=a.getCurrentContent();d=b("applyMessengerEmoticonToContentState")(e,d);if(d===e)return a;e=b("DraftModifier").insertText(d,d.getSelectionAfter(),c);return b("EditorState").push(a,e,"insert-characters")}e.exports=a}),null);
__d("handleSoftNewlineForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getCurrentContent(),d=a.getSelection(),e=b("applyMessengerEmoticonToContentState")(c,d);c=b("DraftModifier").splitBlock(e,c===e?d:e.getSelectionAfter());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","EmoticonsList","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h="\u3000";function a(a,c,d,e){if(!b("EmoticonsList").emotes[c])return a;e=e.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonsList").emotes[c],originalEmoticon:c});e=e.getLastCreatedEntityKey();var f=a.getText(),i=a.getCharacterList();c=c.length;var j=i.get(d);return a.merge({text:f.slice(0,d)+h+f.slice(d+c),characterList:i.slice(0,d).concat(g.of(b("CharacterMetadata").applyEntity(j,e)),i.slice(d+c))})}e.exports=a}),null);
__d("insertEmoticonIntoContentState",["DraftModifier","applyEmoticonToContentBlock"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("DraftModifier").replaceText(c,d,a),f=d.getAnchorKey(),g=d.getAnchorOffset(),h=e.getBlockForKey(f);e=e.getBlockMap().set(f,b("applyEmoticonToContentBlock")(h,a,g,c));g++;return c.merge({blockMap:e,selectionBefore:d,selectionAfter:d.merge({anchorOffset:g,focusOffset:g})})}e.exports=a}),null);
__d("insertEmoticonIntoEditorState",["DraftModifier","EditorState","insertEmoticonIntoContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=" ";function a(a,c){var d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartOffset(),h=d.getEndOffset(),i=e.getBlockForKey(d.getStartKey()).getText(),j=e.getBlockForKey(d.getEndKey()).getText(),k="";h<=j.length&&j[h]!==g&&(k=g);f>0&&i[f-1]!==g&&(e=b("DraftModifier").insertText(e,d,g),d=e.getSelectionAfter());j=b("insertEmoticonIntoContentState")(a,e,d);e=b("DraftModifier").insertText(j,j.getSelectionAfter(),k);return b("EditorState").push(c,e,"insert-characters")}e.exports=a}),null);
__d("isSoftNewlineEvent",["Keys"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.which===b("Keys").RETURN&&(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))}e.exports=a}),null);
__d("ChatInput.react",["AbstractMentionsTextEditor.react","BootloadedComponent.react","Bootloader","CompositeDraftDecorator","ContentState","DraftModifier","EditorState","EmojiFormat","JSResource","MercuryThreads","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerUploadFilesUtil.bs","React","ReactDOM","cancelAnimationFrame","clearImmediate","createMessengerMentionDraftEntity","createCancelableFunction","debounce","emptyFunction","ifRequired","getDefaultKeyBinding","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","insertEmoticonIntoEditorState","insertMentionIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","setImmediate","requestAnimationFrame","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=b("emptyFunction").thatReturnsNull;var h=1,i="handled",j=8,k="not-handled";f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$4=b("createCancelableFunction")(function(a,c){var d=a.participants,e=a.viewer;a=a.thread;this.setState({mentionsSource:c(e,d,a,b("gkx")("AT49sw5n0nlIyoqYGYpRJXtOnRzCLqSpsmIoWA7hmyYTaoQcU5JHlDW_AWGZ_laa8hQ933FOWyuLNLlpGxYhTnOb"))})}.bind(this)),this.$6=function(){var a=this.$9(this.state.editorState.getCurrentContent());this.$1=b("setImmediate")(function(){this.$1=null;var c=b("EditorState").set(this.state.editorState,{decorator:a});this.setState({editorState:c})}.bind(this))}.bind(this),this.onChange=function(a){a!==this.state.editorState&&(this.setState({editorState:a}),this.$7(a,this.props.composer))}.bind(this),this.onReturn=function(event,a){__p&&__p();if(b("isSoftNewlineEvent")(event)){var c=b("handleSoftNewlineForMessengerEmoticon");this.setState({editorState:c(a)});return i}event.persist();this.setState({},function(){b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&b("MessengerUploadFilesUtil.bs").sendAttchments(this.props.fileUploader,this.props.uploadPhotoFn),this.props.inputKeyDown(event,this.getValue()),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.KEYBOARD_SEND).setVC(this.props.viewer).log()}.bind(this),"ChatInput.react")}.bind(this));return i}.bind(this),this.getValue=function(){return this.getValueFromEditorState(this.state.editorState)}.bind(this),this.$10=function(a,b){this.props.onBeforeInput&&this.props.onBeforeInput();var c=this.$11(a,b);a=this.$12(a,b);return c||a?i:k}.bind(this),this.$14=function(a){return this.$13(a)}.bind(this),this.$15=function(a,b){return this.$13(b)}.bind(this),this.state={editorState:this.$8(this.props.defaultText)},this.$17=function(){var a=(this.state.addedMentionsCount||0)+1;this.setState({addedMentionsCount:a})}.bind(this),this.$19=function(a,c){a=(this.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};this.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===h?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);this.setState(a)}.bind(this),this.$18=function(a){this.refs.input.isShowingMentionables()||this.props.onEscape&&this.props.onEscape(a)}.bind(this),c}a.prototype.componentDidMount=function(){this.$2=b("ReactDOM").findDOMNode(this).getBoundingClientRect().height,this.props.resizeFn(this.$2),this.props.initializeThingsWithInputFn(b("ReactDOM").findDOMNode(this.refs.input),this.getValue),this.setState({triggeredWord:this.props.triggeredWord}),this.$3(),b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],this.$4.bind(this,this.props),"ChatInput.react"),b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatInput.react")};a.prototype.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1),this.$5&&b("cancelAnimationFrame")(this.$5),this.$4.cancel(),this.$5=null};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.state.triggeredWord!==a.triggeredWord&&this.setState({triggeredWord:a.triggeredWord},this.$6),(!this.props.thread||!a.thread||l(a,this.props))&&b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],this.$4.bind(this,a),"ChatInput.react"),a.composer.version!==this.props.composer.version&&this.resetState()};a.prototype.componentDidUpdate=function(){this.$3(),this.$5=b("requestAnimationFrame")(function(){if(!this.$5)return;this.$5=null;var a=b("ReactDOM").findDOMNode(this).getBoundingClientRect();a=a.height;this.$2!==a&&this.props.resizeFn(a);this.$2=a}.bind(this))};a.prototype.$3=function(){var a=this.props.composer,c=this.props.onTextChange;this.$7=c?b("debounce")(function(b){c(this.getValueFromEditorState(b),a,200)}.bind(this),200):b("emptyFunction")};a.prototype.$8=function(a){a=b("ContentState").createFromText(a);return b("EditorState").createWithContent(a,this.$9(a))};a.prototype.resetState=function(){this.state.typeaheadReporter&&(this.state.typeaheadReporter.sessionEnd(),this.state.typeaheadReporter.sessionStart()),this.setState({editorState:b("EditorState").moveFocusToEnd(this.$8("")),triggeredWord:null,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null})};a.prototype.onSend=function(a){var c=this,d=this.getMentions();a&&(d&&d.length||this.state.addedMentionsCount||this.state.mentionsTriggeredCount||this.state.mentionsTriggerSource)&&(function(){var e=c.state,f=e.addedMentionsCount,g=e.mentionsTriggeredCount,h=e.mentionsTriggerSource;e=c.props;var i=e.thread,j=e.participants;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(c,e){new c().setEvent(e.MENTION).setGroupSize(j&&j.length).setNumDelivered(d?d.length:0).setNumSelects(f).setNumTriggers(g).setThreadid(i&&i.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(i&&i.thread_type)).setOfflineThreadid(a.offline_threading_id).updateExtraData({source:h}).log()},"ChatInput.react")})()};a.prototype.$9=function(a){var c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:b("MessengerEmoticonSpan.react")}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};a.prototype.handleSend=function(){this.setState({},function(){b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&b("MessengerUploadFilesUtil.bs").sendAttchments(this.props.fileUploader,this.props.uploadPhotoFn),this.props.handleSend&&this.props.handleSend(this.getValue()),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.CLICK_SEND).setVC(this.props.viewer).log()}.bind(this),"ChatInput.react")}.bind(this))};a.prototype.getValueFromEditorState=function(a){a=a.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};a.prototype.getMentions=function(){var a=this.props.thread;return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a?a.thread_fbid:null)};a.prototype.focus=function(){this.refs.input&&this.refs.input.focus&&this.refs.input.focus()};a.prototype.$11=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};a.prototype.$12=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};a.prototype.$13=function(a){__p&&__p();var c=this,d=/^image\//,e=a.filter(function(a){return d.test(a.type)});a=b("gkx")("AT44gcd7lpH2YiclJ-LHsuuoRRi7VIOizU9LdST-uko3uQzHBXGOu3PdlMr4PkOBovUmJRjA-IeSNbDkk89bQ4wq8b7BDIrax8JSG-E9Uz6KPQ")&&b("MercuryThreads").get().isEmptyLocalThread(this.props.threadID);if(e.length&&!a){a=function(){var a=c.props.composer;b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")?b("ifRequired")("FantaMessageActions",function(b){b.prepareFilesForSend(this.props.threadID,e,a)}.bind(c),function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){b.prepareFilesForSend(this.props.threadID,e,a)}.bind(this),"ChatInput.react")}.bind(c)):c.props.uploadPhotoFn(e[0]);return{v:!0}}();if(typeof a==="object")return a.v}return!1};a.prototype.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.setState({editorState:a})};a.prototype.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.setState({editorState:b("EditorState").forceSelection(c,a.getSelectionAfter())})};a.prototype.appendText=function(a){var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent();e=b("DraftModifier").insertText(e,d,a);c=b("EditorState").push(c,e,"insert-characters");this.setState({editorState:c})};a.prototype.render=function(){var a=babelHelpers["extends"]({},this.props,this.$16());return b("React").createElement(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({ref:"input"},a,{editorState:this.state.editorState,onChange:this.onChange,handleBeforeInput:this.$10,handlePastedFiles:this.$14,handleDroppedFiles:this.$15,handleReturn:this.onReturn,spellCheck:!0,stripPastedStyles:!0,textAlignment:"left"}))};a.prototype.$16=function(){return{autoHighlight:!0,handleContentReturn:this.onReturn,maxResults:j,mentionResultsProps:{typeaheadView:b("BootloadedComponent.react").create(b("JSResource")("ChatMentionsInputTypeaheadView.react").__setRef("ChatInput.react")),typeaheadViewProps:{},position:"above",autoflip:!0},mentionResultsComponent:b("BootloadedComponent.react").create(b("JSResource")("MentionsLayer.react").__setRef("ChatInput.react")),mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:this.state.mentionsSource,onAddMention:this.$17,onEscape:this.$18,onShowMentions:this.$19}};a.prototype.addMention=function(a){a=b("insertMentionIntoEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.onChange(a);this.$17()};a.propTypes={composer:c.object.isRequired,defaultText:c.string,blockStyleFn:c.func,fileUploader:c.object,initializeThingsWithInputFn:c.func,inputKeyDown:c.func,handleSend:c.func,keyBindingFn:c.func,onBeforeInput:c.func,onBlur:c.func,onEscape:c.func,onFocus:c.func,onTab:c.func,resizeFn:c.func,thread:c.object,threadID:c.string,viewer:c.string};a.defaultProps={blockStyleFn:d,keyBindingFn:b("getDefaultKeyBinding")};function l(a,b){a=a.participants;b=b.participants;if(!a||!b)return!0;a=a.filter(Boolean);b=b.filter(Boolean);return a.length!==b.length}e.exports=a}),null);
__d("ChatPhotoUploader.react",["cx","fbt","Promise","Bootloader","FantaTypeComposer","InlineBlock.react","Link.react","MercuryConfig","MessengerEnvironment","React","ReactDOM","SubscriptionsHandler","TooltipData","emptyFunction","gkx","ifRequired","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatPhotoUploader",_uploader:null,_uploaderPromiseIsResolving:!1,_uploaderPromise:null,_subscriptions:null,propTypes:{actionURI:a.string,allowCrossPage:a.bool,composer:a.object,customUI:a.bool,disabled:a.bool,focusInput:a.func,imageClassName:a.string,imagesOnly:a.bool,inputClassname:a.string,linkClassName:a.string,onAllUploadsComplete:a.func,onLastUploadCancel:a.func,onLastUploadFail:a.func,onMount:a.func,onSubmit:a.func,onUploadError:a.func,threadID:a.string},getDefaultProps:function(){return{actionURI:b("MercuryConfig").upload_url,allowCrossPage:!0,costomUI:!1,disabled:!1,imageClassName:"_509w",imagesOnly:!0,linkClassName:"",onSubmit:b("emptyFunction"),onAllUploadsComplete:b("emptyFunction"),onLastUploadFail:b("emptyFunction"),onLastUploadCancel:b("emptyFunction")}},shouldComponentUpdate:function(a){return a.actionURI!=this.props.actionURI||a.disabled!==this.props.disabled||a.threadID!==this.props.threadID},componentDidMount:function(){this.props.onMount&&this.props.onMount(this),b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"ChatPhotoUploader.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatPhotoUploader.react")},componentDidUpdate:function(a){this._uploader&&this._uploader.setAllowCrossPage(this.props.allowCrossPage)},componentWillUnmount:function(){(!this.isUploading()||!this.props.allowCrossPage)&&this._cleanup()},render:function(){var a=b("gkx")("AT74KMJ8RYhvB1tMU93uHQ5gZqTAUi_w-rBy6KswPeaIPbVgyCy23kvmxPapx5bD4puY3bmrQeh4Z7ALUGarUq4kATHuSQM2CsFm5KKmhgZoYA")&&!b("MessengerEnvironment").messengerui?h._("Add files"):"",c=this.props.imagesOnly?h._("Add photos"):h._("Add files"),d=b("joinClasses")("_4q61"+(this.props.customUI?"":" _5f0v")+(this.props.customUI?"":" _509v"),this.props.linkClassName),e=b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw"),f=this.props.threadID;return b("React").createElement("form",babelHelpers["extends"]({action:this.props.actionURI,className:"_vzk",title:c},b("TooltipData").propsFor(a),{method:"post",onClick:function(a){a.stopPropagation(),this.props.disabled&&a.preventDefault()}.bind(this),ref:"form"}),b("React").createElement("input",{type:"hidden",name:"attach_id",ref:"attachID"}),b("React").createElement("input",{type:"hidden",name:"images_only",value:this.props.imagesOnly}),b("React").createElement(b("InlineBlock.react"),{onClick:e?b("emptyFunction"):this._bootloadChatAutoSendPhotoUploader,className:b("joinClasses")(this.props.className,"_m _4q60 _3rzn")},b("React").createElement("input",{disabled:this.props.disabled,type:"file",className:b("joinClasses")(this.props.inputClassname,"_n _2__f _4e5e"),name:"attachment[]",multiple:"true",accept:this.props.imagesOnly?"image/*":"*",ref:"input",title:c,onChange:e?function(event){this._handleInputOnChange(event,f)}.bind(this):b("emptyFunction")}),b("React").createElement(b("Link.react"),{className:d,tabIndex:-1},b("React").createElement("i",{className:this.props.imageClassName,alt:h._("Camera")}))))},_handleInputOnChange:function(event,a){__p&&__p();var c=event.target.files,d=function(){this.refs.input&&(this.refs.input.value=null)}.bind(this);b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){b.prepareFilesForSend(a,c,"ComposerIcons"),d()},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){b.prepareFilesForSend(a,c,"ComposerIcons"),d()},"ChatPhotoUploader.react")}):b("ifRequired")("FantaMessageActions",function(b){this.props.composer&&b.prepareFilesForSend(a,c,this.props.composer,d)}.bind(this),function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){this.props.composer&&b.prepareFilesForSend(a,c,this.props.composer,d)}.bind(this),"ChatPhotoUploader.react")}.bind(this));this.props.focusInput&&this.props.focusInput()},_handleSubmit:function(a,b){this.props.onSubmit&&this.props.onSubmit(a,b)},_handleAllUploadsCompleted:function(a,b){this.props.onAllUploadsComplete&&this.props.onAllUploadsComplete(a,b),this.isMounted()||this._cleanup()},_handleLastUploadFailed:function(a,b){this.props.onLastUploadFail&&this.props.onLastUploadFail(a,b),this.isMounted()||this._cleanup()},_handleLastUploadCanceled:function(a,b){this.props.onLastUploadCancel&&this.props.onLastUploadCancel(a,b),this.isMounted()||this._cleanup()},_handleUploadError:function(a,b){this.props.onUploadError&&this.props.onUploadError(b),this.isMounted()||this._cleanup()},isUploading:function(){return this._uploader&&this._uploader.isUploading()||this._uploaderPromiseIsResolving},_bootloadChatAutoSendPhotoUploader:function(){__p&&__p();this._uploaderPromise||(this._uploaderPromiseIsResolving=!0,this._uploaderPromise=new(b("Promise"))(function(a){b("Bootloader").loadModules(["ChatAutoSendPhotoUploader"],function(c){this._uploaderPromiseIsResolving=!1;c=new c(b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID),b("MercuryConfig").msgr_region);c.setAllowCrossPage(this.props.allowCrossPage);var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(c.subscribe("submit",this._handleSubmit),c.subscribe("all-uploads-completed",this._handleAllUploadsCompleted),c.subscribe("last-upload-failed",this._handleLastUploadFailed),c.subscribe("last-upload-canceled",this._handleLastUploadCanceled),c.subscribe("file-upload-error",this._handleUploadError));this._subscriptions=d;this._uploader=c;a(this._uploader)}.bind(this),"ChatPhotoUploader.react")}.bind(this)));return this._uploaderPromise},uploadFiles:function(a){b("promiseDone")(this._bootloadChatAutoSendPhotoUploader().then(function(b){b.uploadFiles(a)}))},uploadURL:function(a){b("promiseDone")(this._bootloadChatAutoSendPhotoUploader().then(function(b){b.uploadURL(a)}))},_cleanup:function(){this._subscriptions&&this._subscriptions.release(),this._uploader&&this._uploader.destroy()}});e.exports=c}),null);
__d("TransactionsFeedConversionLogger",["Banzai","TransactionsFeedConversionLoggerJSConfig"],(function(a,b,c,d,e,f){e.exports={log:function(a,c,d){a={time:Date.now(),type:a,event_id:c,extra_data:d};b("Banzai").post("transactions_feed_conversion_logging",a)},Type:b("TransactionsFeedConversionLoggerJSConfig").type}}),null);
__d("EventsActionsLogger",["Banzai","EventsActionsLoggerJSConfig","TransactionsFeedConversionLogger","LoggerSlogXConfigs"],(function(a,b,c,d,e,f){e.exports={log:function(a,c,d){var e=babelHelpers["extends"]({time:Date.now(),event_id:a,extra_data:d},c);b("Banzai").post("events_actions_logging",e);c.type===b("EventsActionsLoggerJSConfig").type.CLICK&&c.target===b("EventsActionsLoggerJSConfig").target.BUY_ONSITE_TICKET_BUTTON&&d&&d.transactions_feed_conversion_logging_type===b("TransactionsFeedConversionLogger").Type.EVENT_ONSITE_TICKET_CLICK&&b("TransactionsFeedConversionLogger").log(b("TransactionsFeedConversionLogger").Type.EVENT_ONSITE_TICKET_CLICK,a,{})},Type:b("EventsActionsLoggerJSConfig").type,Target:b("EventsActionsLoggerJSConfig").target,Surface:b("EventsActionsLoggerJSConfig").surface,Mechanism:b("EventsActionsLoggerJSConfig").mechanism}}),null);
__d("ChatEventPlanButton.react",["cx","fbt","Bootloader","BootloadOnRender.react","ChatFlyoutPlaceholder.react","EventsActionsLogger","JSResource","LazyComponent.react","Link.react","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={showFlyout:!1},this.$2=!1,this.$3=function(){b("Bootloader").loadModules(["EventReminderStateStore","EventReminderRequestHelper","EventReminderActionsLogger"],function(a,b,c){c.logClickOnEntryPoint();c=a.getEvent(this.props.threadID);if(!this.$2)return;c&&c.exists?(this.$1=!0,!this.state.showFlyout?b.fetchEventReminder(this.props.threadID,c.eventID,function(){if(!this.$2)return;this.setState({showFlyout:!0})}.bind(this)):this.setState({showFlyout:!1})):(this.$1=!1,this.setState({showFlyout:!this.state.showFlyout}))}.bind(this),"ChatEventPlanButton.react")}.bind(this),this.onToggle=function(a){a!==this.state.showFlyout&&this.setState({showFlyout:a})}.bind(this),c}a.prototype.componentDidMount=function(){this.$2=!0};a.prototype.componentWillUnmount=function(){this.$2=!1};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{className:this.props.className,onClick:this.$3,ref:"event_plan",role:"button",title:h._("Start a plan")},this.$4()))};a.prototype.$4=function(){if(!this.state.showFlyout)return null;var a={alignment:"right",position:"above",contextRef:function(){return this.refs.event_plan}.bind(this),shown:this.state.showFlyout,onToggle:this.onToggle},c={action_history:[{surface:b("EventsActionsLogger").Surface.MESSENGER_CHAT_TAB,mechanism:b("EventsActionsLogger").Mechanism.MESSENGER_COMPOSER}]},d=b("gkx")("AT74KMJ8RYhvB1tMU93uHQ5gZqTAUi_w-rBy6KswPeaIPbVgyCy23kvmxPapx5bD4puY3bmrQeh4Z7ALUGarUq4kATHuSQM2CsFm5KKmhgZoYA")?b("React").createElement("div",null):b("React").createElement(b("ChatFlyoutPlaceholder.react"),null);return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{actionContext:c,dialogProps:a,flyoutNoSheet:!0,isEditing:this.$1,threadID:this.props.threadID,onSuccess:this.props.onSuccess}),loader:b("JSResource")("ChatEventReminderContainer.react").__setRef("ChatEventPlanButton.react"),placeholder:d})};a.defaultProps={className:"_6gb _3k_u"};e.exports=a}),null);
__d("CustomColorHighlighting.react",["cssVar","csx","cx","React","UserAgent","guid","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d="._fy2";f="._43by";g="._mh6";h=b("UserAgent").isEngine("Gecko")?"._mh6 *::-moz-selection":"._mh6 ::selection";i=b("UserAgent").isEngine("Gecko")?"._43by *::-moz-selection":"._43by ::selection";var k=d+d,l=f+f,m=g+h,n=g+g,o=f+i,p="rgba(255, 255, 255, 0.3)";d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.state={id:"cch_"+b("guid")()}}a.prototype.UNSAFE_componentWillMount=function(){this.$1()};a.prototype.componentWillUnmount=function(){this.$2(),this.state.styleTag&&document.head.removeChild(this.state.styleTag)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.props.customColor&&!a.customColor?this.$2():a.customColor!==this.props.customColor&&this.$3(a.customColor)};a.prototype.render=function(){return b("React").createElement("span",{className:b("joinClasses")("_mh6",this.props.className),id:this.state.id},this.props.children)};a.prototype.$1=function(){var a=document.createElement("style");a.appendChild(document.createTextNode(""));document.head.appendChild(a);this.setState({styleSheet:a.sheet,styleTag:a},function(){return this.$3(this.props.customColor)}.bind(this))};a.prototype.$4=function(a,b,c){a.insertRule?a.insertRule(b+"{"+c+"}",0):a.addRule&&a.addRule(b,c,0)};a.prototype.$5=function(a){"removeRule"in a?a.removeRule(0):"deleteRule"in a&&a.deleteRule(0)};a.prototype.$2=function(){if(this.state.styleSheet){if(this.state.styleSheet.rules)while(this.state.styleSheet.rules.length)this.$5(this.state.styleSheet);if(this.state.styleSheet.cssRules)while(this.state.styleSheet.cssRules.length)this.$5(this.state.styleSheet)}};a.prototype.$6=function(a){a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);var b=parseInt(a[1],16),c=parseInt(a[2],16);a=parseInt(a[3],16);return"rgba("+b+","+c+","+a+",0.2)"};a.prototype.$3=function(a){__p&&__p();this.$2();a=a||this.props.customColor;if(a){var b=this.$6(a);b="background: "+b;this.$4(this.state.styleSheet,"#"+this.state.id+m,b);this.$4(this.state.styleSheet,"#"+this.state.id+" "+k,"color: "+a);this.$4(this.state.styleSheet,"#"+this.state.id+" "+l,"background-color: "+a);this.$4(this.state.styleSheet,"#"+this.state.id+n+" "+o,"background-color: "+p)}};a.propTypes={className:c.string,customColor:c.string};e.exports=a}),null);
__d("MessengerHotLikeOutlineSVG.react",["cssVar","fbt","CurrentUser","React","MercuryShareAttachmentRenderLocations","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="transparent",k=h._("Thumbs Up Sign");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={titleId:b("uniqueID")()},c}a.prototype.render=function(){var a=this.props.color||(b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff"),c={height:this.props.height||"85%"};this.props.location!==b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.location!==b("MercuryShareAttachmentRenderLocations").PAGES_INBOX&&(c.width="66%");return b("React").createElement("svg",{"aria-labelledby":this.state.titleId,version:"1.1",viewBox:"0 0 40.16 42.24",preserveAspectRatio:"xMinYMax meet",style:c},b("React").createElement("title",{id:this.state.titleId},k),b("React").createElement("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:j,fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeWidth:"5%"}))};a.propTypes={color:c.string,height:c.string,location:c.string};e.exports=a}),null);
__d("MessengerHotLikePreviewEvents",["mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";a={START:"start",STOP:"stop",STOP_EMOJI:"stop_emoji",POP:"pop",REMOVE:"remove",FINISH_ANIMATION:"finish_animation",FINISH_EMOJI_ANIMATION:"finish_emoji_animation"};b("mixInEventEmitter")(a,{start:!0,stop:!0,stop_emoji:!0,pop:!0,remove:"remove",finish_animation:"finish_animation",finish_emoji_animation:"finish_emoji_animation"});e.exports=a}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerAssetType","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SizeTimes:{small:1e3,medium:2e3,large:3e3},getStickerIDForTime:function(a){var c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:c=b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:c=b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return c},getEmojiSizeForTime:function(a){var c=b("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?c=b("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?c=b("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(c=b("EmojiLikeConstants").size.LARGE);return c},getMetadataForHotLike:function(a){__p&&__p();var c=void 0;switch(a){case b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:c=120;break;case b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:c=84;break;case b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:c=35;break;case b("EmojiLikeConstants").size.LARGE:c=64;break;case b("EmojiLikeConstants").size.MEDIUM:c=64;break;case b("EmojiLikeConstants").size.SMALL:c=32;break}return c?{height:c,width:c}:undefined},getPreviewURI:function(){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString()},getURIWithID:function(a){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString()},getCustomEmojiFromThread:function(a){return a&&a.custom_like_icon}};e.exports=a}),null);
__d("MessengerHotLikeButton.react",["cx","fbt","EmojiLikeConstants","Image.react","ImmutableObject","Keys","KeyStatus","Link.react","MercuryMessageObject","MercuryTriodeSourceUtil","MessengerEnvironment","MessengerHotLikePreviewEvents","MessengerHotLikeOutlineSVG.react","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","StickerConstants","clearInterval","clearTimeout","ifRequired","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryMessageObject").get();c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$6=function(a){(this.props.disabled||this.$3)&&(a.preventDefault(),a.stopPropagation());if(this.props.disabled||a.button!==0)return;this.props.onMouseDown&&this.props.onMouseDown();this.$3=Date.now();this.$9();this.$10()}.bind(this),this.$8=function(){if(!(this.props.threadID&&this.$3))return;this.$3=0;this.$11();this.$12()}.bind(this),this.$14=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").POP,this.props.threadID)}.bind(this),this.$7=function(){this.$3&&(this.$3=0,this.$11(),this.$14())}.bind(this),this.$5=function(a){a.stopPropagation();if(this.props.disabled)return;if(b("KeyStatus").getKeyDownCode()===b("Keys").RETURN||!this.props.threadID){a=this.props.sendCustomLike;this.props.customLike&&a?a(this.props.customLike,b("MessengerHotLikeUtils").getEmojiSizeForTime(1)):this.props.sendSticker(b("MessengerHotLikeUtils").getStickerIDForTime(1))}}.bind(this),c}a.prototype.componentDidMount=function(){this.$4=b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(a,c,d){a===this.props.threadID&&(d&&this.props.customLike&&this.props.sendCustomLike?this.props.sendCustomLike(this.props.customLike,d,b("EmojiLikeConstants").source.HOT_LIKE):this.props.sendSticker(c))}.bind(this))};a.prototype.componentWillUnmount=function(){this.$4&&this.$4.remove()};a.prototype.render=function(){__p&&__p();var a=null,c={};if(this.props.customLike&&this.props.customLike.emoji){var d=this.props.customLike.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);var e=this.props.renderSize?this.props.renderSize:16;c.background="none";a=b("React").createElement(b("Image.react"),{src:d&&d.url,style:{padding:e==16?0:3,display:"block",height:e,width:e}})}else if(this.props.CustomRenderer){d=this.props.CustomRenderer;a=b("React").createElement(d,{color:this.props.customColor,location:this.props.location,renderSize:this.props.renderSize})}else this.props.customColor&&(a=b("React").createElement(b("MessengerHotLikeOutlineSVG.react"),{color:this.props.customColor,location:this.props.location}));e=h._("Send a Like");return b("React").createElement(b("Link.react"),{"aria-label":e,className:b("joinClasses")(this.props.customColor||this.props.CustomRenderer?"_5j_u":"",this.props.className),disabled:this.props.disabled,href:"#",onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,onMouseLeave:this.$7,onMouseUp:this.$8,role:"button",style:c,title:e},a)};a.prototype.$9=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").START,this.$13(),this.props.threadID)};a.prototype.$12=function(){if(!this.props.threadID)return;!b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerHotLikePreview.react",function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)}.bind(this),function(){if(this.$1!==null)return;this.$1=b("setIntervalAcrossTransitions")(function(){b("ifRequired")("MessengerHotLikePreview.react",function(){this.$1!==null&&(b("clearInterval")(this.$1),this.$1=null),b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)}.bind(this))}.bind(this),100)}.bind(this)):b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)};a.prototype.$13=function(){__p&&__p();var a=this.props.threadID;if(!a)return null;a=j.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),a);j.normalizeNewMessage(a);a.is_like_preview=!0;a.like_preview_since=this.$3;a.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;a.body="";return new(b("ImmutableObject"))(a)};a.prototype.$10=function(){this.$11(),this.$2=b("setTimeoutAcrossTransitions")(this.$14,b("MessengerHotLikeUtils").SizeTimes.large)};a.prototype.$11=function(){b("clearTimeout")(this.$2)};a.propTypes={CustomRenderer:c.func,onMouseDown:c.func,customLike:c.object,customColor:c.string,location:c.string,sendSticker:c.func.isRequired,sendCustomLike:c.func,threadID:c.string,disabled:c.bool,renderSize:c.number};e.exports=a}),null);
__d("MessengerHotLikeChatSVGIcon.react",["cssVar","fbt","CurrentUser","React","gkx","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("gkx")("AT5ZvVwuqKWcfrio0AdnNomF7UAfIh6xykST_qUQlvhzlEwa0D-O1yjSaPSHOODgL1U");c=b("React").PropTypes;var k="transparent",l=h._("Thumbs Up Sign");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={titleId:b("uniqueID")()},c}a.prototype.render=function(){var a=this.props.color||(b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff"),c=this.props.renderSize;c=c?{height:c.toString(),width:c.toString()}:undefined;var d=j?{fill:k,stroke:a,opacity:.2}:{fill:a,opacity:.2},e="bounds_"+this.state.titleId;return j?b("React").createElement("svg",babelHelpers["extends"]({width:"32px",height:"31px","aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},l),b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("rect",{id:e,fill:k,width:"32",height:"32"}),b("React").createElement("g",{style:d},b("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),b("React").createElement("g",{transform:"translate(1.000000, 0.000000)"},b("React").createElement("path",{d:"M7.195,29.2559 L0.804,29.2559 C0.362,29.2559 0,28.8939 0,28.4509 L0,13.0609 C0,12.6179 0.362,12.2559 0.804,12.2559 L7.195,12.2559 C7.637,12.2559 8,12.6179 8,13.0609 L8,28.4509 C8,28.8939 7.637,29.2559 7.195,29.2559 Z",id:"Stroke-172",stroke:a,strokeWidth:"2"}),b("React").createElement("path",{d:"M15.9694,0 L15.9694,0 C14.6414,0 13.5214,0.568 13.0414,1.097 L12.4654,1.732 L12.5184,2.63 L12.8154,6.635 C12.8204,6.692 12.8074,6.749 12.7804,6.8 L9.5534,12.791 L8.1544,13.443 L6.9994,13.982 L6.9994,15.256 L6.9994,25.256 L6.9994,27.256 L8.5914,27.256 C8.7024,27.35 8.8354,27.47 8.9364,27.562 C9.1404,27.747 9.3424,27.928 9.5324,28.078 C10.4784,28.825 11.8634,29.174 12.8444,29.25 L12.9214,29.256 L12.9994,29.256 L23.3374,29.256 C25.3594,29.256 26.7824,28.521 27.5704,27.072 C28.0124,26.258 28.1384,25.438 28.0904,24.695 C28.9084,24.168 29.5624,23.33 29.7984,22.148 C29.9184,21.549 29.8984,20.985 29.7854,20.474 C30.4514,19.814 30.9374,18.865 30.9374,17.581 C30.9374,16.549 30.6654,15.739 30.2574,15.123 C30.4314,14.637 30.5364,14.081 30.5364,13.459 C30.5364,10.906 28.4954,9.256 25.3374,9.256 L21.0124,9.256 C21.1474,8.379 21.2494,7.521 21.2494,6.931 C21.2494,4.646 20.4484,1.775 18.2014,0.569 C17.4974,0.191 16.7464,0 15.9694,0 M15.9694,2 C16.3574,2 16.7974,2.085 17.2564,2.332 C18.6054,3.056 19.2494,5.021 19.2494,6.931 C19.2494,7.863 18.8974,9.829 18.7254,10.731 C18.6784,10.978 18.8684,11.256 19.1184,11.256 L25.3374,11.256 C26.2704,11.256 28.5364,11.456 28.5364,13.459 C28.5364,14.979 27.5584,15.534 27.5584,15.534 C27.5584,15.534 28.9374,15.673 28.9374,17.581 C28.9374,19.489 27.0854,19.682 27.0854,19.682 C27.0854,19.682 28.0924,20.481 27.8374,21.756 C27.5284,23.3 26.0264,23.391 25.6764,23.391 C25.6294,23.391 25.6044,23.389 25.6044,23.389 C25.6044,23.389 26.5714,24.723 25.8124,26.118 C25.5674,26.57 25.0414,27.256 23.3374,27.256 L12.9994,27.256 C12.2824,27.2 11.3154,26.937 10.7734,26.51 C10.1994,26.056 9.5134,25.256 8.9994,25.256 L8.9994,15.256 L10.6304,14.494 C10.8704,14.383 11.0674,14.197 11.1934,13.965 L14.5404,7.748 C14.7494,7.362 14.8424,6.924 14.8104,6.486 L14.5124,2.482 C14.5114,2.465 14.5114,2.453 14.5234,2.44 C14.5964,2.359 15.1744,2 15.9694,2",id:"Fill-174",fill:a})))):b("React").createElement("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},c),b("React").createElement("title",{id:this.state.titleId},l),b("React").createElement("g",null,b("React").createElement("rect",{id:e,fill:k,width:"32",height:"32"}),b("React").createElement("g",{style:d},b("React").createElement("path",{d:"M670.93,460a0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.17,467,668,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41c1.34-1,3.07-.23,4,2.6a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66c1.77,0,6.77,0,6.77,0,2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2A2,2,0,0,1,670.93,460Zm-20.13-7h-5.6a0.2,0.2,0,0,0-.2.2v15.6a0.2,0.2,0,0,0,.2.2h5.6a0.2,0.2,0,0,0,.2-0.2V453.2A0.2,0.2,0,0,0,650.8,453Z",transform:"translate(-643 -439)"})),b("React").createElement("g",{style:d},b("React").createElement("rect",{x:"2",y:"14",width:"6",height:"16",rx:"0.2",ry:"0.2"})),b("React").createElement("path",{fill:a,d:"M650.8,453a0.2,0.2,0,0,1,.2.2v15.6a0.2,0.2,0,0,1-.2.2h-5.6a0.2,0.2,0,0,1-.2-0.2V453.2a0.2,0.2,0,0,1,.2-0.2h5.6m0-2h-5.6a2.2,2.2,0,0,0-2.2,2.2v15.6a2.2,2.2,0,0,0,2.2,2.2h5.6a2.2,2.2,0,0,0,2.2-2.2V453.2a2.2,2.2,0,0,0-2.2-2.2h0Z",transform:"translate(-643 -439)"}),b("React").createElement("path",{fill:a,"data-name":"stroke",d:"M658.83,441c1.06,0,2.16,1,2.83,3a12.83,12.83,0,0,1,0,6.33,0.55,0.55,0,0,0,.54.66h1.18l5.59,0c2,0,3.31.62,3.54,2.5a2.39,2.39,0,0,1-1.23,2.4,0.08,0.08,0,0,0,0,.14,1.87,1.87,0,0,1,1.71,2,2,2,0,0,1-2.07,1.91,0.08,0.08,0,0,0,0,.15,1.75,1.75,0,0,1,1.29,1.66c0,1.45-1.2,1.66-2,1.75a0.06,0.06,0,0,0,0,.12,1.54,1.54,0,0,1,.88,1.68C671,467,669.24,467,668.07,467H658a5.63,5.63,0,0,1-5-2.5V455l2.19-1.59a4.39,4.39,0,0,0,1.21-1.75l1.48-5.59v-0.43l-0.41-3.81a0.45,0.45,0,0,1,.16-0.41,2,2,0,0,1,1.17-.41m0-2h0a4,4,0,0,0-2.36.8,2.45,2.45,0,0,0-1,2.23l0.39,3.67h0v0.05l-1.41,5.32a3.64,3.64,0,0,1-.47.69l-2.19,1.59L651,454v11.15l0.36,0.52A7.58,7.58,0,0,0,658,469h10.07c3.25,0,4.95-1.21,5-3.59a4.54,4.54,0,0,0-.05-0.93,3.59,3.59,0,0,0,1.14-2.71,3.77,3.77,0,0,0-.18-1.15,3.85,3.85,0,0,0,1-2.57,4,4,0,0,0-.82-2.55,4.38,4.38,0,0,0,.31-2.25c-0.2-1.59-1.18-4.25-5.53-4.25l-5,0a12.65,12.65,0,0,0-.35-5.63c-0.91-2.75-2.67-4.38-4.73-4.38h0Z",transform:"translate(-643 -439)"})))};a.propTypes={color:c.string,location:c.string,renderSize:c.number};e.exports=a}),null);
__d("XMessagingQuickCamController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/quick-cam/",{thread_id:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("MessengerQuickCamButton.react",["fbt","AsyncRequest","BootloadOnRender.react","ChatConfig","JSResource","LazyComponent.react","Link.react","React","XMessagingQuickCamController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i="seen_cam_button_nux";d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={nuxOpen:!1,nuxShown:!!b("ChatConfig").get(i)},this.$2=function(){this.setState({nuxShown:!0,nuxOpen:!1},function(){return this.$3()}.bind(this))}.bind(this),this.$1=function(){!this.state.nuxShown?this.setState({nuxOpen:!0}):this.$3()}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{className:this.props.className,onClick:this.$1,ref:"photoButton",role:"button",title:g._("Take a picture using quick cam")}),b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessagingShowNUX.react").__setRef("MessengerQuickCamButton.react"),component:b("React").createElement(b("LazyComponent.react"),{contextRef:function(){return this.refs.photoButton}.bind(this),settingName:i,shown:this.state.nuxOpen,onHidden:this.$2,ref:"camNUX"},g._("Send photos from your computer's camera.")),placeholder:b("React").createElement("span",null)}))};a.prototype.$3=function(){var a=b("XMessagingQuickCamController").getURIBuilder().setString("thread_id",this.props.threadID).getURI();new(b("AsyncRequest"))().setMethod("GET").setURI(a).setRelativeTo(this).setReadOnly(!0).send()};a.propTypes={className:c.string.isRequired,threadID:c.string.isRequired};e.exports=a}),null);
__d("MessengerQuickCamOrigins",[],(function(a,b,c,d,e,f){"use strict";var g={CHAT_TAB:"chat tab",MESSENGER:"messenger",getValues:function(){return[g.CHAT_TAB,g.MESSENGER]}};e.exports=g}),null);
__d("P2PPaymentSupportedCurrency",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USD:"USD",PEN:"PEN",PHP:"PHP",EUR:"EUR",GBP:"GBP",THB:"THB",VND:"VND"})}),null);
__d("P2PAbstractSendMoneyButton.react",["cx","fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.$3=function(){this.props.onMouseDown&&this.props.onMouseDown(),this.$1=this.props.isActive}.bind(this),this.$2=function(a){a.stopPropagation();if(this.$1){this.$1=!1;return}this.props.onClick()}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("TooltipLink.react"),{alignH:"center",className:b("joinClasses")(this.props.className,(this.props.isActive?"open":"")+(this.props.isDisabled?" disabled":"")+(this.props.isActive?" _10gz":"")+(this.props.isDisabled?" _10g-":"")+(!this.props.isMessenger&&!this.props.className?" _5uqy":"")+(this.props.isMessenger?" _3ggc":"")),href:"#",onClick:this.$2,onMouseDown:this.$3,onMouseOver:this.props.onMouseOver,position:"above",role:"button",title:this.$4()},this.getButton())};a.prototype.getButton=function(){return this.props.button?this.props.button:b("React").createElement("i",{className:"_5s8l"})};a.prototype.$4=function(){return this.props.isDisabled?null:h._("Send Money")};e.exports=a}),null);
__d("P2PActions",["ChatOpenTab","ChatOpenTabEventLogger","FantaTabActions","P2PActionConstants","P2PDispatcher","MercuryShareAttachmentRenderLocations","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={updateCreditCards:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARDS_UPDATED,data:a})},updateCreditCardsError:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARDS_UPDATED_ERROR})},updatePaymentMethods:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHODS_UPDATED,data:a})},updatePaymentMethodsError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHODS_UPDATED_ERROR,data:a})},ignoreCreditCardChannelEvents:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHANNEL_EVENTS_IGNORED})},allowCreditCardChannelEvents:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHANNEL_EVENTS_ALLOWED})},creditCardSaving:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_SAVING})},addCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_ADDED,data:a})},addCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_ADDED_ERROR,data:a})},addCreditCardErrorCleared:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_ADDED_ERROR_CLEARED})},updatePresetCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PRESET_CREDIT_CARD_UPDATED,data:a})},updatePresetCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PRESET_CREDIT_CARD_UPDATED_ERROR,data:a})},updateCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_UPDATED,data:a})},updateCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_UPDATED_ERROR,data:a})},deleteCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_DELETED,data:a})},deleteCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_DELETED_ERROR,data:a})},verifyCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_VERIFIED,data:a})},verifyCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_VERIFIED_ERROR,data:a})},updateTransfers:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFERS_UPDATED,data:a})},updateTransfersError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFERS_UPDATED_ERROR,data:a})},updateNUXTransfers:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").NUX_TRANSFERS_UPDATED,data:a})},transferAdded:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ADDED,data:a})},transferAddedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ADDED_ERROR,data:a})},transferUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_UPDATED,data:a})},transferUpdatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_UPDATED_ERROR,data:a})},transferAccepted:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ACCEPTED})},transferDeclined:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_DECLINED,data:a})},chatSendViewOpened:function(a){function c(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHAT_SEND_VIEW_OPENED,data:a})}b("ChatOpenTab").canOpenTab()&&!a.fromChatTab?(a.fromChatTab||(b("FantaTabActions").openTab(a.threadID),b("ChatOpenTabEventLogger").logAutoOpen("p2pAction",a.threadID)),c()):(b("ifRequired")("MessengerActions",function(b){return b.selectThread(a.threadID)}),c())},chatSendViewClosed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHAT_SEND_VIEW_CLOSED,data:a})},binNumberValidated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BIN_NUMBER_VALIDATED,data:a})},binNumberValidatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BIN_NUMBER_VALIDATED_ERROR,data:a})},friendsListUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").FRIENDS_LIST_UPDATED,data:a})},userEligibilityUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").USER_ELIGIBILITY_UDPATED,data:a})},showDialog:function(a,c){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").DIALOG_SHOWN,data:{dialogClass:a,dialogProps:c}})},hideDialog:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").DIALOG_CLOSED})},bannerStatesUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_STATES_UPDATED,data:a})},bannerDismissed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_DISMISSED,data:a})},bannerCompleted:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_COMPLETED,data:a})},moneypennyTransferCreated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").MONEYPENNY_TRANSFER_CREATED,data:a})},moneypennyTransferCreatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").MONEYPENNY_TRANSFER_CREATED_ERROR,data:a})},addPlatformContext:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_ADDED,data:a})},addPlatformContextError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_ADDED_ERROR,data:a})},clearPlatformContextSaveErrors:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED,data:a})},platformContextBannerDismissed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED,data:a})},platformContextProductItemSold:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD,data:a})},platformContextChanged:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_CHANGED,data:a})},extensiveTransferDetailsLoaded:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").EXTENSIVE_TRANSFER_DETAILS_UPDATED,data:a})},updateAddresses:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").ADDRESSES_UPDATED,data:a})},addressSaving:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").ADDRESS_SAVING})},addAddress:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").ADDRESS_ADDED,data:a})},addAddressError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").ADDRESS_ADDED_ERROR,data:a})},addAddressErrorCleared:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").ADDRESS_ADDED_ERROR_CLEARED})},checkoutCartInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_CART_INITIATED})},checkoutCartCreated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_CART_CREATED,data:a})},checkoutShippingOptionSelected:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_SHIPPING_OPTION_SELECTED,data:a})},checkoutAddressSelected:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_ADDRESS_SELECTED,data:a})},checkoutCreditCardSelected:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_CREDIT_CARD_SELECTED,data:a})},checkoutAddressFormToggled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_ADDRESS_FORM_TOGGLED,data:a})},checkoutCreditCardFormToggled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_CREDIT_CARD_FORM_TOGGLED,data:a})},checkoutAddressEditOptionsToggled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_ADDRESS_EDIT_OPTIONS_TOGGLED,data:a})},checkoutCreditCardEditOptionsToggled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_CREDIT_CARD_EDIT_OPTIONS_TOGGLED,data:a})},checkoutPaymentMethodEditOptionsToggled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_EDIT_OPTIONS_TOGGLED,data:a})},checkoutPaymentMethodSelected:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_SELECTED,data:a})},checkoutPaymentMethodConfigured:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_CONFIGURED,data:a})},checkoutPaymentMethodConfirmed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_PAYMENT_METHOD_CONFIRMED,data:a})},checkoutCreditCardFormValidated:function(a,c){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_CREDIT_CARD_FORM_VALIDATED,data:{isValid:a,formData:c}})},checkoutAddressFormValidated:function(a,c){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_ADDRESS_FORM_VALIDATED,data:{isValid:a,formData:c}})},checkoutEditCompleted:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_EDIT_COMPLETED})},checkoutProcessing:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_PROCESSING,data:a})},checkoutBuyerProfileUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_BUYER_PROFILE_UPDATED,data:a})},checkoutManualPaymentReceiptUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHECKOUT_MANUAL_PAYMENT_RECEIPT_UPDATED,data:a})},paymentRequestInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_INITIATED})},paymentRequestInitiatedComplete:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_INITIATED_COMPLETE})},paymentRequestCreated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CREATED,data:a})},paymentRequestCreatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CREATED_ERROR,data:a})},paymentRequestUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_UPDATED,data:a})},paymentRequestDeclineInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINE_INITIATED})},paymentRequestDeclined:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINED,data:a})},paymentRequestDeclineError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINE_ERROR,data:a})},paymentRequestCancelInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCEL_INITIATED})},paymentRequestCanceled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCELED,data:a})},paymentRequestCancelError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCEL_ERROR,data:a})},paymentRequestsFetched:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUESTS_FETCHED,data:a})}};e.exports=a}),null);
__d("P2PLoadingMask.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return!this.props.visible?null:b("React").createElement("div",{className:"_3de"},b("React").createElement(b("XUISpinner.react"),{background:"dark",size:"large",className:"_3df"}),b("React").createElement("div",{className:"_3dg"}))};function a(){h.apply(this,arguments)}a.propTypes={visible:c.bool};a.defaultProps={visible:!1};e.exports=a}),null);
__d("P2PLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){"use strict";var g="P2PPaymentLoggerConfig";a={log:function(a,c){c=babelHelpers["extends"]({event:a},c),b("BanzaiLogger").log(g,c)}};e.exports=a}),null);
__d("P2PPaymentLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTN_ADD_CREDIT_CARD:"Actn_AddCreditCard",ACTN_UPDATE_CREDIT_CARD:"Actn_UpdateCreditCard",ACTN_REMOVE_CREDIT_CARD:"Actn_RemoveCreditCard",ACTN_UNLOCK_CREDIT_CARD:"Actn_UnlockCreditCard",ACTN_VALIDATE_CARD:"Actn_ValidateCard",ACTN_ADD_PAYPAL:"Actn_AddPayPal",ACTN_GET_TRANSFERS_ERROR:"Actn_GetTransfersError",ACTN_TRANSFER_MONEY:"Actn_TransferMoney",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN:"Actn_TransferMoneyWithCampaign",ACTN_REQUEST_MONEY_WITH_CAMPAIGN_NOT_QUALIFIED:"Actn_RequestMoneyWithCampaignNotQualified",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_NOT_QUALIFIED:"Actn_TransferMoneyWithCampaignNotQualified",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_PARENT_CALL:"Actn_TransferMoneyWithCampaignParentCall",ACTN_TRANSFER_MONEY_WITH_CAMPAIGN_POST_SUCCESS:"Actn_TransferMoneyWithCampaignPostSuccess",ACTN_TRANSFER_MONEY_CHECK_NEEDS_REVERT:"Actn_TransferMoneyCheckNeedsRevert",ACTN_TRANSFER_MONEY_REVERT:"Actn_TransferMoneyRevert",ACTN_TRANSFER_MONEY_CREATE_CONTEXT:"Actn_TransferMoneyCreateContext",ACTN_TRANSFER_MONEY_CREATE_PLATFORM_ITEM:"Actn_TransferMoneyCreatePlatformItem",ACTN_ACCEPT_MONEY:"Actn_AcceptMoney",ACTN_DECLINE_MONEY:"Actn_DeclineMoney",ACTN_SET_PRIMARY:"Actn_SetPrimary",ACTN_WITHDRAW_MONEY:"Actn_WithdrawMoney",ACTN_CANCEL_TRANSFER:"Actn_CancelTransfer",ACTN_SET_PHYSICAL_ADDRESS:"Actn_SetPhysicalAddress",ACTN_CREATE_MSGR_COMMERCE_CART:"Actn_CreateMsgrCommerceCart",ACTN_PLACE_MSGR_COMMERCE_ORDER:"Actn_PlaceMsgrCommerceOrder",ACTN_PLATFORM_SET_SHIPPING_ADDRESS:"Actn_PlatformSetShippingAddress",ACTN_PLATFORM_BANNER_IMPRESSION:"Actn_PlatformBannerImpression",ACTN_PLATFORM_BANNER_DISMISSAL:"Actn_PlatformBannerDismissal",ACTN_PLATFORM_CARD_IMPRESSION:"Actn_PlatformCardImpression",ACTN_PLATFORM_CARD_DISMISSAL:"Actn_PlatformCardDismissal",ACTN_SEND_TRANSFER_MESSAGE:"Actn_SendTransferMessage",ACTN_POST_TRANSFER_STEPS:"Actn_PostTransferSteps",ACTN_SEND_SENDER_EMAIL:"Actn_SendSenderEmail",ACTN_SEND_EXPIRE_NOTIFICATIONS:"Actn_SendExpireNotifications",ACTN_SEND_PUSH_FAIL_NOTIFS:"Actn_SendPushFailNotis",ACTN_UNCATEGORIZED_EXCEPTION:"Actn_Uncategorized_Exception",ACTN_INCREASE_CAMPAIGN_COUNTER:"Actn_Increase_Campaign_Counter",ACTN_CREATE_PAYMENT_REQUEST:"Actn_CreatePaymentRequest",ACTN_CREATE_GROUP_PAYMENT_REQUEST:"Actn_CreateGroupPaymentRequest",ACTN_REMIND_PAYMENT_REQUEST:"Actn_RemindPaymentRequest",ACTN_PAY_PAYMENT_REQUEST:"Actn_PayPaymentRequest",ACTN_DECLINE_PAYMENT_REQUEST:"Actn_DeclinePaymentRequest",ACTN_CANCEL_PAYMENT_REQUEST:"Actn_CancelPaymentRequest",ACTN_EXPIRE_PAYMENT_REQUEST:"Actn_ExpirePaymentRequest",ACTN_SEND_PAYMENT_REQUEST_MESSAGE:"Actn_SendPaymentRequestMessage",ACTN_AUTH_FOR_SENDER_REVIEW:"Actn_AuthForSenderReview",ACTN_FINISH_HUMAN_REVIEW:"Actn_FinishHumanReview",ACTN_COMPLETE_SENDER_REVIEW:"Actn_CompleteSenderReview",ACTN_COMPLETE_RECEIVER_REVIEW:"Actn_CompleteReceiverReview",ACTN_SUBMIT_VERIFICATION_STEP:"Actn_SubmitVerificationStep",ACTN_COMPLETE_SENDER_VERIFICATION:"Actn_CompleteSenderVerification",ACTN_COMPLETE_RECEIVER_VERIFICATION:"Actn_CompleteReceiverVerification",ACTN_CANCEL_SENDER_VERIFICATION:"Actn_CancelSenderVerification",ACTN_CANCEL_RECEIVER_VERIFICATION:"Actn_CancelReceiverVerification",ACTN_CANCEL_SENDER_RISK:"Actn_CancelSenderRisk",ACTN_CANCEL_EXPIRE:"Actn_CancelExpire",ACTN_CANCEL_FOR_SAME_CARD:"Actn_CancelForSameCard",ACTN_CANCEL_BY_CUSTOMER_SERVICE:"Actn_CancelByCustomerService",ACTN_CANCEL_RECEIVER_REVIEW:"Actn_CancelReceiverReview",ACTN_CANCEL_SENDER_REVIEW:"Actn_CancelSenderReview",ACTN_CANCEL_ALL_PENDING_TRANSFERS:"Actn_CancelAllPendingTransfers",ACTN_FILTER_LOGMESSAGE:"Actn_FilterLogMessage",ACTN_FILTER_NOTIFICATION:"Actn_FilterNotification",ACTN_SEND_NOTIFICATION:"Actn_SendNotification",ACTN_ADD_PIN:"Actn_AddPIN",ACTN_UPDATE_PIN:"Actn_UpdatePIN",ACTN_REMOVE_PIN:"Actn_RemovePIN",ACTN_RESET_PIN:"Actn_ResetPIN",ACTN_VALIDATE_PIN:"Actn_ValidatePIN",ACTN_UPDATE_PASSWORD_SETTINGS:"Actn_UpdatePasswordSettings",ACTN_ENABLE_TOUCH_ID:"Actn_EnableTouchID",ACTN_VERIFY_TOUCH_ID:"Actn_VerifyTouchID",ACTN_DISABLE_TOUCH_ID:"Actn_DisableTouchID",ACTN_CHANNEL_NOTIF_CARD_EVENT:"Actn_ChannelNotifCardEvent",ACTN_CHANNEL_NOTIF_TRANSFER_STATUS_EVENT:"Actn_ChannelNotifTransferStatusEvent",ACTN_CHANNEL_NOTIF_PLATFORM_EVENT:"Actn_ChannelNotifPlatformEvent",ACTN_CHANNEL_NOTIF_PAYMENT_REQUEST_STATUS_EVENT:"Actn_ChannelNotifPaymentRequestStatusEvent",ACTN_PLATFORM_BANNER_DISMISSED:"Actn_PlatformBannerDismissed",ACTN_PLATFORM_BANNER_MARK_AS_SOLD:"Actn_PlatformBannerMarkAsSold",ACTN_ADD_ADDRESS:"Actn_AddAddress",ACTN_GET_ADDRESSES:"Actn_GetAddresses",ACTN_ADD_EMAIL:"Actn_AddEmail",ACTN_UPDATE_EMAIL:"Actn_UpdateEmail",ACTN_SET_PRIMARY_EMAIL:"Actn_SetPrimaryEmail",ACTN_REMOVE_EMAIL:"Actn_RemoveEmail",ACTN_ADD_PHONE:"Actn_AddPhone",ACTN_UPDATE_PHONE:"Actn_UpdatePhone",ACTN_SET_PRIMARY_PHONE:"Actn_SetPrimaryPhone",ACTN_REMOVE_PHONE:"Actn_RemovePhone",ACTN_GET_CURRENT_USER_PROFILE_DATA:"Actn_GetCurrentUserProfileData",ACTN_DO_FRAUD_CHECK:"Actn_DoFraudCheck",ACTN_PEOPLE_SEARCH_SEND_MONEY_BUTTON_CLICKED:"Actn_PeopleSearchSendMoneyButtonClicked",ACTN_CAMPAIGN_CHECK_USER_HAS_NEW_ACTIVITY:"Actn_CampaignCheckUserHasNewActivity",ACTN_CAMPAIGN_SAVE_PROMO_NOTIFICATION_TIME:"Actn_CampaignSavePromoNotificationTime",ACTN_CAMPAIGN_SEND_INCENTIVE_ADMIN_MESSAGE:"Actn_CampaignSendIncentiveAdminMessage",ACTN_FETCH_SEND_PHASE_STEPS:"Actn_FetchSendPhaseSteps",ACTN_FETCH_RECEIVE_NOTIFICATION_PHASE_STEPS:"Actn_FetchReceiveNotificationPhaseSteps",ACTN_FETCH_RECEIVE_BUBBLE_PHASE_STEPS:"Actn_FetchReceiveBubblePhaseSteps",ACTN_START_IDV_FLOW:"Actn_StartIDVFlow",ACTN_START_UPLOAD_ADDITIONAL_PHOTO:"Actn_StartUploadAdditionalPhoto",ACTN_GET_PHOTO_ID_GBG_EXCEPTION:"Actn_GetPhotoIDGBGException",ERROR_NON_STANDARD_CHAR:"ErrorNonStandardChar",UI_ACTN_SEND_MONEY_BUTTON_CLICKED:"UI_Actn_Send_Money_Button_Clicked",UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED:"UI_Actn_Send_Money_Button_Placeholder_Clicked",UI_ACTN_SEND_MONEY_OMNIM_SUGGESTION_CLICKED:"UI_Actn_Send_Money_OmniM_Suggestion_Clicked",UI_ACTN_INITIATE_SEND:"UI_Actn_Initiate_Send",UI_ACTN_P2P_SENDER_DISABLED_SHOWN:"UI_Actn_P2P_Sender_Disabled_Shown",UI_ACTN_P2P_RECIPIENT_INELIGIBLE_SHOWN:"UI_Actn_P2P_Recipient_Ineligible_Shown",UI_ACTN_CANCEL_SEND:"UI_Actn_Cancel_Send",UI_ACTN_INITIATE_ADD_CARD:"UI_Actn_Initiate_Add_Card",UI_ACTN_INITIATE_CHOOSE_CARD:"UI_Actn_Initiate_Choose_Card",UI_ACTN_CANCEL_ADD_CARD:"UI_Actn_Cancel_Add_Card",UI_ACTN_CONFIRM_CARD_DETAILS:"UI_Actn_Confirm_Card_Details",UI_ACTN_ACCEPT_MONEY_CANCEL:"UI_Actn_Accept_Money_Cancel",UI_ACTN_ACCEPT_WITH_CARD:"UI_Actn_Accept_With_Card",UI_ACTN_ADD_CARD_SUCCESS:"UI_Actn_Add_Card_Success",UI_ACTN_ADD_CARD_FAIL:"UI_Actn_Add_Card_Fail",UI_ACTN_CONFIRM_SEND:"UI_Actn_Confirm_Send",UI_ACTN_SEND_SUCCESS:"UI_Actn_Send_Success",UI_ACTN_SEND_MONEY_CANCELLED:"UI_Actn_Send_Money_Cancelled",UI_ACTN_SEND_FAIL:"UI_Actn_Send_Fail",UI_ACTN_INITIATE_EDIT_CARD:"UI_Actn_Initiate_Edit_Card",UI_ACTN_CANCEL_EDIT_CARD:"UI_Actn_Cancel_Edit_Card",UI_ACTN_CONFIRM_EDIT_CARD_DETAILS:"UI_Actn_Confirm_Edit_Card_Details",UI_ACTN_EDIT_CARD_SUCCESS:"UI_Actn_Edit_Card_Success",UI_ACTN_EDIT_CARD_FAIL:"UI_Actn_Edit_Card_Fail",UI_ACTN_INITIATE_REMOVE_CARD:"UI_Actn_Initiate_Remove_Card",UI_ACTN_CONFIRM_REMOVE_CARD:"UI_Actn_Confirm_Remove_Card",UI_ACTN_REMOVE_CARD_SUCCESS:"UI_Actn_Remove_Card_Success",UI_ACTN_REMOVE_CARD_FAIL:"UI_Actn_Remove_Card_Fail",UI_ACTN_INITIATE_PASSWORD_PROTECTION_NUX:"UI_Actn_Initiate_Password_Protection_NUX",UI_ACTN_OPT_IN_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_In_Password_Protection_NUX",UI_ACTN_OPT_OUT_PASSWORD_PROTECTION_NUX:"UI_Actn_Opt_Out_Password_Protection_NUX",UI_ACTN_ENABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Enabled_Password_Protection_Setting",UI_ACTN_DISABLED_PASSWORD_PROTECTION_SETTING:"UI_Actn_Disabled_Password_Protection_Setting",UI_ACTN_SEND_CLICKED:"UI_Actn_Send_Clicked",UI_ACTN_VERIFY_CSC:"UI_Actn_Verify_CSC",UI_ACTN_CONFIRM_AMOUNT:"UI_Actn_Confirm_Amount",UI_ACTN_EDIT_CARD:"UI_Actn_Edit_Card",UI_ACTN_CHANGE_CARD:"UI_Actn_Change_Card",UI_ACTN_INITIATE_SEND_TRIGGER:"UI_Actn_Initiate_Send_Trigger",UI_ACTN_INITIATE_GROUP_SEND:"UI_Actn_Initiate_Group_Send",UI_ACTN_GROUP_SEND_CANCELLED:"UI_Actn_Group_Send_Cancelled",UI_ACTN_INITIATE_GROUP_SEND_TRIGGER:"UI_Actn_Initiate_Group_Send_Trigger",UI_ACTN_GROUP_SEND_RECIPIENT_PICKED:"UI_Actn_Group_Send_Recipient_Picked",UI_ACTN_3RD_PARTY_RECEIPT_SHOWN:"UI_Actn_3rd_Party_Receipt_Shown",UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED:"UI_Actn_3rd_Party_Receipt_Dismissed",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CLICKED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Clicked",UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CANCELLED:"UI_Actn_3rd_Party_Non_Enabled_Log_Message_Cancelled",UI_ACTN_CHAT_THREAD_BANNER_CLICKED:"UI_Actn_Chat_Thread_Banner_Clicked",UI_ACTN_CHAT_THREAD_BANNER_VIEWED:"UI_Actn_Chat_Thread_Banner_Viewed",UI_ACTN_CHAT_THREAD_BANNER_DISMISSED:"UI_Actn_Chat_Thread_Banner_Dismissed",UI_ACTN_INITIATE_MONEYPENNY_ORDER:"UI_Actn_Initiate_Moneypenny_Order",UI_ACTN_CONFIRM_MONEYPENNY_ORDER:"UI_Actn_Confirm_Moneypenny_Order",UI_ACTN_MONEYPENNY_ORDER_FAIL:"UI_Actn_Moneypenny_Order_Fail",UI_ACTN_MONEYPENNY_ORDER_SUCCESS:"UI_Actn_Moneypenny_Order_Success",UI_ACTN_MONEYPENNY_ORDER_CANCEL:"UI_Actn_Moneypenny_Order_Cancel",UI_ACTN_FRIEND_PICKER_SEARCH:"UI_Actn_Friend_Picker_Search",UI_ACTN_FRIEND_PICKER_SELECT:"UI_Actn_Friend_Picker_Select",UI_ACTN_FRIEND_PICKER_SHOWN:"UI_Actn_Friend_Picker_Shown",UI_ACTN_FI_CANCEL:"UI_Actn_FI_Cancel",UI_ACTN_FI_SUCCESS_DIALOG_NEXT:"UI_Action_Success_Dialog_Next",UI_ACTN_FI_BANNER_DISMISSED:"UI_Actn_FI_Banner_Dismissed",UI_ACTN_FI_BANNER_IMPRESSION:"UI_Actn_FI_Banner_Impression",UI_ACTN_INCENTIVE_TRANSFER_SUCCESS:"UI_Actn_Incentive_Transfer_Success",UI_ACTN_INCENTIVE_TRANSFER_FAILURE:"UI_Actn_Incentive_Transfer_Failure",UI_ACTN_PLATFORM_BANNER_SELLER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Seller_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_BUYER_HIDE_CLICKED:"UI_Actn_Platform_Banner_Buyer_Hide_Clicked",UI_ACTN_PLATFORM_BANNER_SOLD_CLICKED:"UI_Actn_Platform_Banner_Sold_Clicked",UI_ACTN_PLATFORM_BANNER_IMAGE_CLICKED:"UI_Actn_Platform_Banner_Image_Clicked",UI_ACTN_PLATFORM_BANNER_TITLE_CLICKED:"UI_Actn_Platform_Banner_Title_Clicked",UI_ACTN_PLATFORM_BANNER_PAY_CLICKED:"UI_Actn_Platform_Banner_Pay_Clicked",UI_ACTN_PLATFORM_BANNER_REQUEST_CLICKED:"UI_Actn_Platform_Banner_Request_Clicked",UI_ACTN_PLATFORM_BANNER_SELLER_VIEWED:"UI_Actn_Platform_Banner_Seller_Viewed",UI_ACTN_PLATFORM_BANNER_BUYER_VIEWED:"UI_Actn_Platform_Banner_Buyer_Viewed",UI_ACTN_PLATFORM_BANNER_PAY_NUX_SHOWN:"UI_Actn_Platform_Banner_Pay_Nux_Shown",UI_ACTN_INITIATE_REQUEST:"UI_Actn_Initiate_Request",UI_ACTN_REQUEST_CLICKED:"UI_Actn_Request_Clicked",UI_ACTN_CONFIRM_REQUEST:"UI_Actn_Confirm_Request",UI_ACTN_REQUEST_SUCCESS:"UI_Actn_Request_Success",UI_ACTN_REQUEST_FAIL:"UI_Actn_Request_Fail",UI_ACTN_INITIATE_DECLINE_REQUEST:"UI_Actn_Initiate_Decline_Request",UI_ACTN_CONFIRM_DECLINE_REQUEST:"UI_Actn_Confirm_Decline_Request",UI_ACTN_DECLINE_REQUEST_FAIL:"UI_Actn_Decline_Request_Fail",UI_ACTN_DECLINE_REQUEST_SUCCESS:"UI_Actn_Decline_Request_Success",UI_ACTN_INITIATE_CANCEL_REQUEST:"UI_Actn_Initiate_Cancel_Request",UI_ACTN_CONFIRM_CANCEL_REQUEST:"UI_Actn_Confirm_Cancel_Request",UI_ACTN_CANCEL_REQUEST_FAIL:"UI_Actn_Cancel_Request_Fail",UI_ACTN_CANCEL_REQUEST_SUCCESS:"UI_Actn_Cancel_Request_Success",UI_ACTN_INITIATE_CHECKOUT:"UI_Actn_Initiate_Checkout",UI_ACTN_CHECKOUT_CONFIRM:"UI_Actn_Checkout_Confirm",UI_ACTN_INITIATE_ADD_ADDRESS:"UI_Actn_Initiate_Add_Address",UI_ACTN_CANCEL_ADD_ADDRESS:"UI_Actn_Cancel_Add_Address",UI_ACTN_INITIATE_CHOOSE_ADDRESS:"UI_Actn_Initiate_Choose_Address",UI_ACTN_CONFIRM_ADDRESS_DETAILS:"UI_Actn_Confirm_Address_Details",UI_ACTN_ADD_ADDRESS_SUCCESS:"UI_Actn_Add_Address_Success",UI_ACTN_ADD_ADDRESS_FAIL:"UI_Actn_Add_Address_Fail",UI_ACTN_CHECKOUT_FAIL:"UI_Actn_Checkout_Fail",UI_ACTN_CHECKOUT_CART_CREATION_FAIL:"UI_Actn_Checkout_Cart_Creation_Fail",UI_ACTN_CHECKOUT_CANCEL:"UI_Actn_Checkout_Cancel",UI_ACTN_CHECKOUT_SUCCESS:"UI_Actn_Checkout_Success",UI_ACTN_CHECKOUT_CART_CREATION_SUCCESS:"UI_Actn_Checkout_Cart_Creation_Success",UI_ACTN_SEND_MONEY_PAGE_VIEWED:"UI_Actn_Send_Money_Page_Viewed",UI_ACTN_ACCEPT_MONEY_NUX_SHOWN:"UI_Actn_Accept_Money_NUX_Shown",UI_ACTN_ACCEPT_MONEY_NUX_NEXT_CLICK:"UI_Actn_Accept_Money_NUX_Next_Click",UI_ACTN_SEND_MONEY_NUX_SHOWN:"UI_Actn_Send_Money_NUX_Shown",UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK:"UI_Actn_Send_Money_NUX_Next_Click",UI_ACTN_GET_CREDIT_CARDS_EXCEPTION:"UI_ACTN_GET_CREDIT_CARDS_EXCEPTION",UI_ACTN_CREATE_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_TRANSFER_EXCEPTION",UI_ACTN_ADD_CARD_EXCEPTION:"UI_ACTN_ADD_CARD_EXCEPTION",UI_ACTN_GET_TRANSFERS_EXCEPTION:"UI_ACTN_GET_TRANSFERS_EXCEPTION",UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION:"UI_ACTN_GET_EXTENSIVE_TRANSFERS_EXCEPTION",UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION:"UI_ACTN_GET_NUX_TRANSFERS_EXCEPTION",UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION:"UI_ACTN_UPDATE_PRESET_CARD_EXCEPTION",UI_ACTN_UPDATE_CARD_EXCEPTION:"UI_ACTN_UPDATE_CARD_EXCEPTION",UI_ACTN_DELETE_CARD_EXCEPTION:"UI_ACTN_DELETE_CARD_EXCEPTION",UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_GET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION:"UI_ACTN_SET_PASSWORD_PROTECTION_EXCEPTION",UI_ACTN_DECLINE_TRANSFER_EXCEPTION:"UI_ACTN_DECLINE_TRANSFER_EXCEPTION",UI_ACTN_CANCEL_TRANSFER_EXCEPTION:"UI_ACTN_CANCEL_TRANSFER_EXCEPTION",UI_ACTN_VERIFY_CARD_EXCEPTION:"UI_ACTN_VERIFY_CARD_EXCEPTION",UI_ACTN_VALIDATE_BIN_EXCEPTION:"UI_ACTN_VALIDATE_BIN_EXCEPTION",UI_ACTN_GET_ELIGIBILITY_EXCEPTION:"UI_ACTN_GET_ELIGIBILITY_EXCEPTION",UI_ACTN_GET_FRIEND_LIST_EXCEPTION:"UI_ACTN_GET_FRIEND_LIST_EXCEPTION",UI_ACTN_GET_BANNER_STATES_EXCEPTION:"UI_ACTN_GET_BANNER_STATES_EXCEPTION",UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_VIEW_EXCEPTION",UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION:"UI_ACTN_INCREMENT_BANNER_DISMISSAL_EXCEPTION",UI_ACTN_CREATE_M_TRANSFER_EXCEPTION:"UI_ACTN_CREATE_M_TRANSFER_EXCEPTION",UI_ACTN_CREATE_FI_TRANSER_EXCEPTION:"UI_ACTN_CREATE_FI_TRANSER_EXCEPTION",UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_GET_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION:"UI_ACTN_DISMISS_PLATFORM_CONTEXT_EXCEPTION",UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION:"UI_ACTN_MARK_SOLD_CONTEXT_EXCEPTION",UI_ACTN_GET_ADDRESSES_EXCEPTION:"UI_ACTN_GET_ADDRESSES_EXCEPTION",UI_ACTN_ADD_ADDRESS_EXCEPTION:"UI_ACTN_ADD_ADDRESS_EXCEPTION",UI_ACTN_CREATE_CART_EXCEPTION:"UI_ACTN_CREATE_CART_EXCEPTION",UI_ACTN_SET_CART_ADDRESS_EXCEPTION:"UI_ACTN_SET_CART_ADDRESS_EXCEPTION",UI_ACTN_GET_PROFILE_EXCEPTION:"UI_ACTN_GET_PROFILE_EXCEPTION",UI_ACTN_CREATE_REQUEST_EXCEPTION:"UI_ACTN_CREATE_REQUEST_EXCEPTION",UI_ACTN_DECLINE_REQUEST_EXCEPTION:"UI_ACTN_DECLINE_REQUEST_EXCEPTION",UI_ACTN_CANCEL_REQUEST_EXCEPTION:"UI_ACTN_CANCEL_REQUEST_EXCEPTION",UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION:"UI_ACTN_GET_PENDING_REQUESTS_EXCEPTION",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_SHOWN",UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_QP_DIALOG_NEXT_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SELLER_CLICK",UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK:"UI_ACTN_GROUP_SELL_INTEREST_MESSAGE_SEND_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_SHOWN",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_CANCEL_CLICK",UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK:"UI_ACTN_MESSAGE_SELLER_CONFIRM_DIALOG_PAY_CLICK",UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK:"UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK",BATCH_PROCESS_PENDING_PAYMENT:"BATCH_PROCESS_PENDING_PAYMENT",USER_TEST_CREATE_PAYMENT_REQUEST:"Test_Actn_CreatePaymentRequest",ALERT_MESSENGER_PAYMENT_METHOD_CACHE_INCONSISTENCY:"Alert_messenger_payment_method_cache_inconsistency",DEEPLINK_PERSONAL_DESKTOP_REQUEST:"p2p_personal_deeplink_request_desktop",DEEPLINK_PERSONAL_MOBILE_REQUEST:"p2p_personal_deeplink_request_mobile"})}),null);
__d("P2PPaymentLoggerEventFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UI_FLOW_P2P_SEND:"UI_Flow_P2P_Send",UI_FLOW_P2P_REQUEST:"UI_Flow_P2P_Request",UI_FLOW_P2P_RECEIVE:"UI_Flow_P2P_Receive",UI_FLOW_P2P_SETTINGS:"UI_Flow_P2P_Settings",UI_FLOW_P2P_GROUP_SEND:"UI_Flow_P2P_Group_Send",UI_FLOW_P2P_GROUP_REQUEST:"UI_Flow_P2P_Group_Request",UI_FLOW_MONEYPENNY_CHECKOUT:"UI_Flow_Moneypenny_Checkout",UI_FLOW_FINANCIAL_INCENTIVES:"UI_Flow_Financial_Incentives",UI_FLOW_FINANCIAL_INCENTIVES_ZERO_INDEX_JEWEL:"UI_Flow_Financial_Incentives_Zero_Index_Jewel",UI_FLOW_PLATFORM_BANNER:"UI_Flow_Platform_Banner",UI_FLOW_CHECKOUT:"UI_Flow_Checkout",UI_FLOW_SEND_MONEY_PAGE:"UI_Flow_Send_Money_Page",UI_FLOW_REQUEST_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Request_Sender_NUX_Chat_Thread_Banner",UI_FLOW_SENDER_NUX_CHAT_THREAD_BANNER:"UI_Flow_Sender_NUX_Chat_Thread_Banner",UI_FLOW_GROUP_SELL_INTEREST_DIALOG:"UI_FLOW_GROUP_SELL_INTEREST_DIALOG",UI_FLOW_SEND_MONEY_BLUEBAR:"UI_FLOW_SEND_MONEY_BLUEBAR",UI_FLOW_PAYMENTS_MENU_BLUEBAR:"UI_FLOW_PAYMENTS_MENU_BLUEBAR",UI_FLOW_BOOKMARK:"UI_FLOW_BOOKMARK",UI_FLOW_P2P_BIRTHDAY_GIFT_SEND_MONEY:"UI_FLOW_P2P_BIRTHDAY_GIFT_SEND_MONEY",UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY:"UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY"})}),null);
__d("P2PSendMoneyContainerBootloader.react",["cx","Bootloader","DeferredComponent.react","MercuryIDs","MessengerEnvironment","P2PAbstractSendMoneyButton.react","P2PActions","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PSendMoneyDialogStore","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","emptyFunction","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("MessengerEnvironment").messengerui,i=h?282:260;c=b("React").createClass({displayName:"P2PSendMoneyContainerBootloader",propTypes:{button:a.node,className:a.string,ContextualDialog:a.func,flyoutAlignment:a.oneOf(["left","center","right"]),fromChatTab:a.bool,onTrigger:a.func,participantIDs:a.array,referrer:a.string,threadID:a.string},getInitialState:function(){return{showPlaceholderDialog:!1,shouldBootloadImmediately:b("P2PSendMoneyDialogStore").isAnyChatSendViewOpen()}},mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_clicked:!1,_onComponentLoad:b("emptyFunction"),_bootloadCalled:!1,_sendMoneyDialogStoreSub:null,log:function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_referrer:this.props.referrer,www_event_flow:b("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_SEND},c))},componentWillUnmount:function(){this.removeDialogStoreSub()},onDialogStoreChange:function(){this._bootloadComponentNow(),this.removeDialogStoreSub()},removeDialogStoreSub:function(){this._sendMoneyDialogStoreSub&&(this._sendMoneyDialogStoreSub.remove(),this._sendMoneyDialogStoreSub=null)},onPlaceholderClick:function(){var a=this.props.threadID?b("MercuryIDs").tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log(b("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_BUTTON_PLACEHOLDER_CLICKED,{object_id:a});this._bootloadComponentNow();this._clicked=!1},_handleDialogVisibility:function(a){!a?b("P2PActions").chatSendViewClosed({threadID:this.props.threadID}):b("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID,fromChatTab:this.props.fromChatTab}),this.setState({showPlaceholderDialog:a})},renderLayers:function(){var a={};if(this.state.showPlaceholderDialog){var c=this.props.ContextualDialog||b("XUIContextualDialog.react");a.placeholderDialog=b("React").createElement(c,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:h?"right":"left",contextRef:function(){return this.refs.placeholderButton}.bind(this),onBlur:function(){this._clicked||this._handleDialogVisibility(!1),this._clicked=!1}.bind(this),ref:"dialog",shown:!0,width:i,position:"above"},b("React").createElement("div",{className:"_c_5"},b("React").createElement(b("P2PLoadingMask.react"),{visible:!0})))}return a},render:function(){return this._isPageChat()?null:b("React").createElement(b("DeferredComponent.react"),babelHelpers["extends"]({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props))},_renderPlaceholder:function(){return b("React").createElement(b("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:!1,isDisabled:!1,isMessenger:h,onClick:this.onPlaceholderClick,onMouseDown:function(){this._clicked=!0}.bind(this),onMouseOver:this._bootloadComponentNow,ref:"placeholderButton"})},_bootloadComponent:function(a){this._onComponentLoad=a.bind(this),this.state.shouldBootloadImmediately?this._bootloadComponentNow():this._sendMoneyDialogStoreSub=b("P2PSendMoneyDialogStore").addListener("change",this.onDialogStoreChange)},_bootloadComponentNow:function(){if(this._bootloadCalled)return;this._bootloadCalled=!0;b("Bootloader").loadModules(["P2PSendMoneyContainer.react"],function(a){this.removeDialogStoreSub(),this._onComponentLoad(a),this.setState({showPlaceholderDialog:!1})}.bind(this),"P2PSendMoneyContainerBootloader.react")},_isPageChat:function(){return!!this._getPageID()},_getPageID:function(){return b("getPageIDFromThreadID")(this.props.threadID)}});e.exports=c}),null);
__d("StickersDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("StickersActions",["StickersDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ADD_RECENT_STICKER:null,HIDE_FLYOUT:null,LOAD_RECENT_STICKERS:null,SELECT_STORE_PACK:null,SELECT_TRAY_PACK:null,SHOW_FLYOUT:null,TRAY_LOADED:null});a={Types:g,addRecentSticker:function(a){b("StickersDispatcher").dispatch({type:g.ADD_RECENT_STICKER,sticker:a})},hideStickerFlyout:function(){b("StickersDispatcher").dispatch({type:g.HIDE_FLYOUT})},loadRecentStickers:function(a){b("StickersDispatcher").dispatch({type:g.LOAD_RECENT_STICKERS,stickers:a})},selectStorePack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_STORE_PACK,packID:a})},selectTrayPack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_TRAY_PACK,packID:a})},showStickerFlyout:function(a){b("StickersDispatcher").dispatch({type:g.SHOW_FLYOUT,threadID:a})},trayLoaded:function(){b("StickersDispatcher").dispatch({type:g.TRAY_LOADED})}};e.exports=a}),null);
__d("isWebGLEnabled",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;function h(){try{var a=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&Boolean(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(a){return!1}}function a(){g===null&&(g=h());return g}e.exports=a}),null);
__d("ChatTabComposer.react",["cssVar","csx","cx","fbt","MercuryBootloadOnInteraction.react","BootloadOnRender.react","Bootloader","CSS","ChatComposerFlyoutButtonBootLoader.react","ChatConfig","ChatEventPlanButton.react","ChatInput.react","ChatPhotoUploader.react","CurrentUser","CustomColorHighlighting.react","EventRemindersGating","FantaMessageActions","FantaTypeComposer","JSResource","Keys","LazyComponent.react","MercuryConfig","MercuryIDs","MercuryThreads","MessengerHotLikeButton.react","MessengerHotLikeChatSVGIcon.react","MessengerHotLikeUtils","MessengerQuickCamButton.react","MessengerQuickCamOrigins","P2PPaymentConfig","P2PPaymentSupportedCurrency","P2PSendMoneyContainerBootloader.react","React","MercuryShareAttachmentRenderLocations","StickersActions","URI","XUISpinner.react","clearImmediate","convertMIGColorToFIGColor","getPageIDFromThreadID","gkx","idx","isWebGLEnabled","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;var l=77,m=9,n=b("ChatConfig").get("chat_basic_input_module")||b("ChatInput.react");d=babelHelpers.inherits(a,b("React").PureComponent);k=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={inputHeight:0,p2pPaymentConfig:b("P2PPaymentConfig").config,stickerFlyoutShown:!1},this.$2=null,this.$3=null,this.$4=null,this.$10=function(a,c){a.keyCode===b("Keys").RETURN&&(this.refs.emojiButton&&this.refs.emojiButton.hideFlyout()),this.props.inputKeyDown&&this.props.inputKeyDown(a,c)}.bind(this),this.$7=function(a){a=a.target;a instanceof Element&&(b("CSS").matchesSelector(a,"._1d4_")||b("CSS").matchesSelector(a,"._552h")||b("CSS").matchesSelector(a,"._552n"))&&(this.$4&&this.$4.focus())}.bind(this),this.$11=function(a){this.state.stickerFlyoutShown&&b("StickersActions").hideStickerFlyout(),this.props.onEscape&&this.props.onEscape(a)}.bind(this),this.$33=function(a,c){a.platformFBID.toString()!==b("MercuryConfig").MessengerAppID?this.uploadURL({attribution_app_id:a.platformFBID,errorDialogParams:{body:j._("There was a problem sending this GIF. Choose another one and try again."),title:j._("Couldn't Send GIF")},external_image_url:a.source.url,preview_url:a.media.preview?a.media.preview.url:a.media.thumbnail.url,source:a.source}):this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect&&this.props.stickerButtonProps.onStickerSelect(a.resultID.toString)}.bind(this),this.$31=function(a){var c=this.$25();if(!c)return;b("Bootloader").loadModules(["BrowserExtensionsDialog"],function(d){d.show(new(b("URI"))(a.getURI()),a.getUniqueID(),c,b("CurrentUser").getID())},"ChatTabComposer.react")}.bind(this),this.$34=function(a){this.$4&&this.$4.insertEmoji&&this.$4.insertEmoji(a)}.bind(this),c}a.prototype.$5=function(){var a=this.props.threadID;return a==null?!0:b("MercuryThreads").getForFBID(this.props.viewer).isEmptyLocalThread(a)&&b("gkx")("AT44gcd7lpH2YiclJ-LHsuuoRRi7VIOizU9LdST-uko3uQzHBXGOu3PdlMr4PkOBovUmJRjA-IeSNbDkk89bQ4wq8b7BDIrax8JSG-E9Uz6KPQ")};a.prototype.render=function(){var a=this.props.disableInput||this.$5()?null:b("React").createElement("ul",{className:"_552n"+(b("gkx")("AT5ZvVwuqKWcfrio0AdnNomF7UAfIh6xykST_qUQlvhzlEwa0D-O1yjSaPSHOODgL1U")?" _22v_":"")},this.$6());return b("React").createElement("div",{className:"_1d4_",onClick:this.$7,role:"presentation"},this.$8(),a)};a.prototype.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};a.prototype.onSend=function(a){this.$4&&this.$4.onSend&&this.$4.onSend(a)};a.prototype.uploadURL=function(a){var b=this.$2||this.$3;if(!b)return;b.uploadURL(a)};a.prototype.isUploading=function(){return!!(this.$2&&this.$2.isUploading()||this.$3&&this.$3.isUploading())};a.prototype.getInput=function(){return this.$4};a.prototype.$8=function(){__p&&__p();var a={};this.state.inputHeight&&(a.minHeight=this.state.inputHeight);var c=null;this.props.showStructuredMenu&&(c=b("React").createElement("div",{className:"_5c6-"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_5c6_"}),loader:b("JSResource")("MessengerBotMenuButton.react").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement("span",{className:"_5c6_"})})));var d="";this.props.disableInput?d=j._("Composer is disabled for this thread."):this.props.thread&&!this.props.thread.is_canonical?d=j._("Type a message, \u0040name..."):d=j._("Type a message...");return b("React").createElement("div",{className:"_552h",style:a},c,b("React").createElement("div",{className:this.props.showStructuredMenu?"_4yzj":""},b("React").createElement(b("CustomColorHighlighting.react"),{customColor:this.props.thread&&this.props.thread.custom_color},b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&this.$9(this.props.threadID),b("React").createElement(n,{composer:this.props.composer,defaultText:this.props.defaultText,fileUploader:this.props.fileUploader,initializeThingsWithInputFn:this.props.initializeThingsWithInputFn,inputKeyDown:this.$10,handleSend:this.props.handleSend,onBeforeInput:function(){return this.refs.emojiButton&&this.refs.emojiButton.hideFlyout()}.bind(this),onBlur:this.props.onBlur,onEscape:this.$11,onFocus:this.props.onFocus,onTab:this.props.onTab,readOnly:this.props.disableInput,ref:function(a){return this.$4=a}.bind(this),resizeFn:function(a){a=Math.min(a,l),this.setState({inputHeight:a}),this.props.resizeFn&&this.props.resizeFn(a)}.bind(this),thread:this.props.thread,threadID:this.props.threadID,onTextChange:this.props.onTextChange,uploadPhotoFn:function(a){this.$3&&this.$3.uploadFiles([].concat(a))}.bind(this),participants:this.props.participants,placeholder:d,viewer:this.props.viewer}))))};a.prototype.$9=function(a){__p&&__p();if(!a)return null;var c=this.props.fileUploader;if(!c)return null;c=c.get("uploadedFiles");if(c.size==0)return null;var d=this.props.thread;d=d&&d.custom_color?d.custom_color:"#0084ff";return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{files:c,small:!0,threadID:a,threadCustomColor:d,onClick:this.$12}),loader:b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement(b("XUISpinner.react"),{className:"_2qf"})})};a.prototype.$12=function(a,c){b("FantaMessageActions").cancelFileUpload(a,c)};a.prototype.$6=function(){__p&&__p();var a=[this.$13(),this.$14(),this.$15(),this.$16(),this.$17(),this.$18(),this.$19(),this.$20(),this.$21(),this.$22()];a=a.filter(Boolean);if(a.length<m){var c=this.$23();c&&a.push(c)}if(a.length<m&&b("EventRemindersGating").shouldShowComposer){c=this.$24();c&&a.push(c)}return a};a.prototype.$13=function(){var a=this.props.photoUploaderProps||{};return b("React").createElement("li",{className:"_13f-",key:"photos"},b("React").createElement(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(a){return this.$3=a}.bind(this),imagesOnly:!0},a)))};a.prototype.$23=function(){var a=b("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.custom_color),c=this.$25();return c&&this.props.thread&&!this.props.thread.is_canonical?this.$26(a,c):null};a.prototype.$26=function(a,c){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"grouppolling",interactionClassName:"_6gd _13f_",flyoutProps:{customColor:a,threadFBID:c},flyoutAlignment:"left",iconClassName:"_6gb _4tjk",flyoutLoader:b("JSResource")("MessengerGroupPollingFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Create a poll")})};a.prototype.$19=function(){var a=b("gkx")("AT4VU3LTU_m0y3MeJeai7hJytsOcRy63JbTrv7QtkGDcMH9aN_sV8sDNC1ebrhVq0RfT0H4FEgW5UVoJHsOiHpnF")&&b("isWebGLEnabled")(),c=this.$27();return a&&c&&!this.$28()?this.$29(c):null};a.prototype.$29=function(a){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"games",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _4cf0",flyoutProps:{threadID:a},flyoutLoader:b("JSResource")("MessengerGamesFlyout.react").__setRef("ChatTabComposer.react"),title:j._("Play a game")})};a.prototype.$20=function(){var a=b("gkx")("AT5e-jzOE8kQAYlz4X7W_Zb0bKf79HKS05PPgD4UiiSz4nCNbUWZdvw-ULBg8jtdi-WKmZ1ZV6ZuTvOSU9q95jG8xYXjo_OKQJqhXpG6z48V8A"),c=this.$25();return a&&b("CurrentUser").isWorkUser()&&c&&!this.$28()?this.$30():null};a.prototype.$30=function(){return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{key:"chatextension",interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _67ew",flyoutProps:{onSelect:this.$31},flyoutLoader:b("JSResource")("MessengerWorkplaceChatExtensionsPickerWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Find an extension")})};a.prototype.$24=function(){var a=this.$27();return a&&!this.$28()?b("React").createElement("li",{className:"_6gd _13gb",key:"eventPlan"},b("React").createElement(b("ChatEventPlanButton.react"),{threadID:a})):null};a.prototype.$18=function(){if(this.props.disableFileUploads)return null;var a=this.props.fileUploaderProps||{};return b("React").createElement("li",{className:"_13gd",key:"files"},b("React").createElement(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(a){return this.$2=a}.bind(this)},a)))};a.prototype.$14=function(){var a=this.props.stickerButtonProps;return!a?null:this.$32()};a.prototype.$32=function(){var a=this.props.stickerButtonProps;if(!a)return null;var c={className:"_5e-r",position:"above"};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:a,dialogProps:c,flyoutAlignment:"right",key:"sticker",interactionClassName:"_6gd _13ge",iconClassName:"_6gb _6gf",flyoutLoader:b("JSResource")("StickersFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Choose a sticker")})};a.prototype.$15=function(){var a={getQuery:function(){return this.$4&&this.$4.getValue()}.bind(this),onSelect:this.$33};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"contentSearch",interactionClassName:"_6gd _13gf",flyoutProps:a,flyoutAlignment:"left",iconClassName:"_6gb _6gs",threadFBID:this.$25(),flyoutLoader:b("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Choose a gif")})};a.prototype.$16=function(){var a={onSelect:this.$34,getInput:function(){return this.$4}.bind(this)};return b("React").createElement(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,key:"emoji",interactionClassName:"_6gd _13gg",flyoutAlignment:"left",iconClassName:"_6gb _3oxr",threadFBID:this.$25(),flyoutLoader:b("JSResource")("ChatEmojiFlyout.react").__setRef("ChatTabComposer.react"),dialogProps:{offsetY:10},flyoutProps:a,title:j._("Choose an emoji")})};a.prototype.$22=function(){var a=this.props.thread,c=b("convertMIGColorToFIGColor")(a&&a.custom_color)||"",d=b("MessengerHotLikeChatSVGIcon.react"),e="_6gb";return b("React").createElement("li",{className:"_6gd _5ep3 _13gi",key:"like"},b("React").createElement(b("MessengerHotLikeButton.react"),{className:e,customColor:c,customLike:b("MessengerHotLikeUtils").getCustomEmojiFromThread(a)||undefined,CustomRenderer:d,location:b("MercuryShareAttachmentRenderLocations").CHAT,renderSize:16,sendSticker:this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID}))};a.prototype.$17=function(){var a;if(!this.props.p2pProps||!this.props.showP2PButton||this.$28())return null;var c=this.props.p2pProps;a=(a=this.state.p2pPaymentConfig)!=null?a.currencyCode:a;a=b("joinClasses")(c.className,(a===b("P2PPaymentSupportedCurrency").GBP?"_33g4":"")+(a===b("P2PPaymentSupportedCurrency").EUR?" _33g5":""));return b("React").createElement("li",{className:"_6gd _13gj",key:"p2p"},b("React").createElement(b("P2PSendMoneyContainerBootloader.react"),babelHelpers["extends"]({},c,{className:a,participantIDs:this.props.participantIDs,p2pPaymentConfig:this.state.p2pPaymentConfig,threadID:this.props.threadID})))};a.prototype.$21=function(){var a=this.props.threadID;if(b("MercuryIDs").isLocalThread(this.props.threadID)||!a)return null;a={className:"_6gb _5yhk",threadID:a,location:undefined,viewer:undefined};var c=b("gkx")("AT44XpsdaaEfcz2GrZ0m8RNEjrTHpQedGRhxmeB3oGdMvETdQ7vdyzqg8MlOqQGInNDXydDTyvvVR5lvi3VlBp7t");c&&(a.location=b("MessengerQuickCamOrigins").CHAT_TAB,a.viewer=this.props.viewer);c=c?b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("ChatTabComposer.react"),placeholder:b("React").createElement("span",{className:a.className})}):b("React").createElement(b("MessengerQuickCamButton.react"),a);return b("React").createElement("li",{className:"_6gd _13gk",key:"quickcam"},c)};a.prototype.$28=function(){return!!this.$35()};a.prototype.$35=function(){return b("getPageIDFromThreadID")(this.props.threadID)};a.prototype.$25=function(){if(this.props.threadID&&!b("MercuryIDs").isLocalThread(this.props.threadID))return b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);return this.props.thread&&this.props.thread.thread_fbid?this.props.thread.thread_fbid:null};a.prototype.$27=function(){var a=this.props,c=a.threadID;a=a.thread;return c&&b("MercuryIDs").isLocalThread(c)&&a&&a.thread_fbid?b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid):c};a.prototype.replyToMention=function(a){this.$4&&this.$4.addMention&&this.$4.addMention(a)};a.propTypes={composer:c.object.isRequired,defaultText:c.string.isRequired,disableInput:c.bool.isRequired,disableFileUploads:c.bool,fileUploaderProps:c.object,initializeThingsWithInputFn:c.func,inputKeyDown:c.func,handleSend:c.func,onBlur:c.func,onCustomLikeSelect:c.func,onEmojiSelect:c.func,onEscape:c.func,onFocus:c.func,onTab:c.func,onTextChange:c.func,p2pProps:c.object,pageID:c.string,participantIDs:c.arrayOf(c.string),photoUploaderProps:c.object,resizeFn:c.func,showP2PButton:c.bool,showStructuredMenu:c.bool.isRequired,stickerButtonProps:c.object,thread:c.object,threadID:c.string,uploadPhotoFn:c.func,viewer:c.string};e.exports=a}),null);
__d("MessengerBotComposerWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1193572474099061"};c.getQueryID=function(){"use strict";return"1132183563559860"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("XMessengerBotsMenuController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/commerce/bots/menu/",{page_id:{type:"String",required:!0}})}),null);
__d("MessengerBotMenuDataFetcher",["AsyncRequest","Cache","MessengerBotComposerWebGraphQLQuery","XMessengerBotsMenuController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new(b("Cache"))(),this.$2=new(b("Cache"))()}a.prototype.getMenuItems=function(a,c,d){__p&&__p();if(this.$1.has(a)){c(this.$1.get(a));return}var e=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",a).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){b=b.payload.menu;this.$1.set(a,b);c(b)}.bind(this)).setErrorHandler(function(a){d()}).send()};a.prototype.getHasPageSetting=function(a,c,d,e){__p&&__p();if(!this.$2.has(a)){var f=b("MessengerBotComposerWebGraphQLQuery").getURI({node_id:a});new(b("AsyncRequest"))().setURI(f).setHandler(function(b){b=b.payload.data.node;b=b&&b.commerce_page_settings||[];this.$2.set(a,b);c(b.indexOf(e)!==-1)}.bind(this)).setErrorHandler(function(b){this.$2.set(a,[]),d()}.bind(this)).send()}f=this.$2.get(a)||[];c(f.indexOf(e)!==-1);return f.indexOf(e)!==-1};e.exports=new a()}),null);
__d("ChatTabComposerContainer.react",["cx","fbt","Bootloader","ChatComposer","FantaMessageActions","FantaTypeComposer","MercuryIDs","MercuryMessageActions","MercuryParticipants","MercuryShareAttachmentRenderLocations","MercuryThreads","MessengerBotMenuDataFetcher","MNCommercePageSetting","P2PGKValues","React","ReactComponentWithPureRenderMixin","SearchableEntry","SimpleXUIDialog","getPageIDFromThreadID","getThreadTypeNameFromThreadType","gkx","nullthrows","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ChatComposer").ChatComposer,j="right";a=b("React").PropTypes;var k=b("gkx")("AT74KMJ8RYhvB1tMU93uHQ5gZqTAUi_w-rBy6KswPeaIPbVgyCy23kvmxPapx5bD4puY3bmrQeh4Z7ALUGarUq4kATHuSQM2CsFm5KKmhgZoYA");c=b("React").createClass({displayName:"ChatTabComposerContainer",_threadSubscription:null,_threadFetchSubscription:null,_participantSubscription:null,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{composer:a.object.isRequired,disableInput:a.bool.isRequired,fileUploader:a.object,inputKeyDown:a.func,onEscape:a.func,onFileUploadFail:a.func,onPhotoUploadFail:a.func,onStickerSelect:a.func,onTab:a.func,onUploadCancel:a.func,onUploadComplete:a.func,onUploadSubmit:a.func,threadID:a.string,handleSend:a.func,viewer:a.string.isRequired},_inputRef:null,_photoUploader:null,_setTextImmediate:null,statics:{getDerivedStateFromProps:function(a,b){b=b.thread;b=b?b.thread_id:null;return a.threadID!==b?{participants:[]}:null}},getInitialState:function(){return{thread:null,participants:[],showP2PButton:this._getShowP2PButton(),pageID:b("getPageIDFromThreadID")(this.props.threadID),showStructuredMenu:this._getShowStructuredMenu()}},componentDidMount:function(){this.props.onMount(this),this.state.pageID&&b("MessengerBotMenuDataFetcher").getHasPageSetting(this.state.pageID,function(a){this.setState({showStructuredMenu:a})}.bind(this),function(){this.setState({showStructuredMenu:!1})}.bind(this),b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED),this._threadSubscription=b("MercuryThreads").addListener("change",function(){this.setState(this._computeState())}.bind(this)),this.setState(this._computeState())},componentDidUpdate:function(){var a=this.state.thread;a=a?a.thread_id:null;if(a===this.props.threadID)return;this.setState(this._computeState())},componentWillUnmount:function(){var a=b("MercuryThreads").getForFBID(this.props.viewer);this._threadSubscription&&this._threadSubscription.remove();this._threadFetchSubscription&&a.unsubscribe(this._threadFetchSubscription);this._participantSubscription&&this._participantSubscription.remove()},_computeState:function(){var a=this.props.threadID;if(!a)return{thread:null,participants:[]};var c=b("MercuryThreads").getForFBID(this.props.viewer),d=c.getThreadMetaNow(a),e=[];!d?(this._threadFetchSubscription&&c.unsubscribe(this._threadFetchSubscription),this._threadFetchSubscription=c.getMultiThreadMeta([a],function(b){b=b[a];this._threadFetchSubscription=null;this.setState({thread:b,participants:this._computeParticipants(b)})}.bind(this))):e=this._computeParticipants(d);return{thread:d,participants:e}},_computeParticipants:function(a){__p&&__p();if(!a)return[];var c=[],d=[];a.participants.forEach(function(a){var e=b("MercuryParticipants").getNow(a);e?d.push(e):c.push(a)});c.length>0&&(this._participantSubscription&&this._participantSubscription.remove(),this._participantSubscription=b("MercuryParticipants").getMulti(c,function(b){this._participantSubscription=null,this.setState({participants:a.participants.map(function(a){return b[a]})})}.bind(this)));return d},_getShowP2PButton:function(){return b("P2PGKValues").P2PVisible&&this.props.viewer!==b("MercuryIDs").getUserIDFromThreadID(this.props.threadID)},_getShowStructuredMenu:function(){var a=b("getPageIDFromThreadID")(this.props.threadID);return a===null||a===undefined?!1:b("MessengerBotMenuDataFetcher").getHasPageSetting(a,function(){},function(){},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)},render:function(){var a=this.props.composer;return k?b("React").createElement(i,{composer:a,fileUploader:this.props.fileUploader,handleSend:this.props.handleSend,handleSendClick:this._handleSendClick,inputRef:function(a){return this._inputRef=a}.bind(this),defaultText:a.text,onEmojiSelect:this._handleEmojiSelect,onEscape:this._handleEscape,onInputKeyDown:this._handleInputKeyDown,onTab:this.props.onTab,onTextChange:this._onTextChange,onUploaderMount:function(a){return this._photoUploader=a}.bind(this),pageID:this.state.pageID,participantIDs:undefined,participants:this.state.participants,disableInput:this.props.disableInput,showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,thread:this.state.thread,threadID:this.props.threadID,uploadPhotoFn:function(a){this._photoUploader&&this._photoUploader.uploadFiles([].concat(a))}.bind(this),viewer:this.props.viewer,focusInput:this.focusInput}):b("React").createElement(i,babelHelpers["extends"]({composer:this.props.composer,defaultText:a.text,fileUploader:this.props.fileUploader,fileUploaderProps:this._getFileUploaderProps(),ref:"composer",thread:this.state.thread},this.props,{disableInput:this.props.disableInput,onTextChange:this._onTextChange,p2pProps:this._getP2PProps(),pageID:this.state.pageID,participantIDs:undefined,participants:this.state.participants,photoUploaderProps:this._getPhotoUploaderProps(),showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,stickerButtonProps:this._getStickerButtonProps()}))},onSend:function(a){var c=this;a&&a.profile_ranges&&a.profile_ranges.length&&(function(){var d=a,e=c.state,f=e.thread,g=e.participants;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(a,c){new a().setEvent(c.MENTION).setGroupSize(g&&g.length).setNumDelivered((d.profile_ranges||[]).length).setThreadid(f&&f.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(f&&f.thread_type)).setOfflineThreadid(d.offline_threading_id).log()},"ChatTabComposerContainer.react")})();k?this._inputRef&&this._inputRef.onSend&&this._inputRef.onSend(a):this.refs.composer&&this.refs.composer.onSend(a)},getInput:function(){return k?this._inputRef:this.refs.composer&&this.refs.composer.getInput()},focusInput:function(){var a=this.getInput();a&&a.focus&&a.focus()},isUploading:function(){return this.refs.composer.isUploading()},_handleSendClick:function(a){a=this.getInput();a&&typeof a.handleSend==="function"&&(a&&a.handleSend())},_getP2PProps:function(){return!this.state.showP2PButton?{}:{button:b("React").createElement("i",{className:"hidden_elem"}),className:"_6ga _6gb",flyoutAlignment:j,referrer:b("MercuryShareAttachmentRenderLocations").CHAT,threadID:this.props.threadID,onTrigger:this.props.onP2PTrigger}},_getStickerButtonProps:function(){var a={className:"_6gb _6gf",flyoutAlignment:j,threadID:this.props.threadID,onStickerSelect:this.props.onStickerSelect};return a},_getPhotoUploaderProps:function(){var a={className:"_6gd",customUI:!0,imageClassName:"hidden_elem",linkClassName:"_6gb _6ge",threadID:this.props.threadID,onLastUploadCancel:this._handleUploadCancel,onAllUploadsComplete:this._handleUploadComplete,onLastUploadFail:this._handlePhotoUploadFail,onUploadError:this._handleUploadError,onSubmit:this._handleUploadSubmit};return a},_getFileUploaderProps:function(){var a=this._getPhotoUploaderProps();a.linkClassName="_6gb _6gg";a.imagesOnly=!1;a.onLastUploadFail=this._handleFileUploadFail;return a},_handleUploadComplete:function(a,c){b("MercuryMessageActions").getForFBID(this.props.viewer).confirmAttachmentPlaceholder(c.upload_id,c),this.props.onUploadComplete&&this.props.onUploadComplete(c)},_handleUploadError:function(a){var b=void 0,c=void 0;switch(a.error){case"size-exceeded":b=h._("The file you have selected is too large");c=h._("The file you have selected is too large. The maximum size is 25MB.");break;default:b=h._("File Upload Failed"),c=h._("There was a problem uploading the file.")}this._showErrorDialog(b,c);this.props.onFileUploadFail&&this.props.onFileUploadFail(a)},_handleUploadCancel:function(a,c){b("MercuryMessageActions").getForFBID(this.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c),this.props.onUploadCancel&&this.props.onUploadCancel(c)},_handleFileUploadFail:function(a,c){b("MercuryMessageActions").getForFBID(this.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c);a=h._("File Upload Failed");var d=h._("There was a problem uploading the file.");c.errorDialogParams&&(a=c.errorDialogParams.title||a,d=c.errorDialogParams.body||d);this._showErrorDialog(a,d);this.props.onFileUploadFail&&this.props.onFileUploadFail(c)},_handlePhotoUploadFail:function(a,c){b("MercuryMessageActions").getForFBID(this.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c);a=h._("Upload Failed");var d=h._("Please try again. Make sure you are uploading a valid file.");c.errorDialogParams&&(a=c.errorDialogParams.title||a,d=c.errorDialogParams.body||d);this._showErrorDialog(a,d);this.props.onPhotoUploadFail&&this.props.onPhotoUploadFail(c)},_handleUploadSubmit:function(a,b){this.props.onUploadSubmit&&this.props.onUploadSubmit(b)},_showErrorDialog:function(a,c){b("SimpleXUIDialog").show(c,a)},_handleReplyToMention:function(a,event){event.threadID===this.props.threadID&&b("MercuryParticipants").get(event.participantID,function(a){if(!a||!this.refs.composer||!a.fbid)return;var c=new(b("SearchableEntry"))({uniqueID:b("nullthrows")(a.fbid),title:"@"+a.name});b("setImmediate")(function(){var a=this.refs.composer.getInput?this.refs.composer.getInput():null;a&&a.focus&&a.focus();this.refs.composer.replyToMention&&this.refs.composer.replyToMention(c)}.bind(this))}.bind(this))},_handleInputKeyDown:function(a,b){this.props.inputKeyDown&&this.props.inputKeyDown(a,b)},_handleEscape:function(a){this.props.onEscape&&this.props.onEscape(a)},_handleEmojiSelect:function(a){this._inputRef&&this._inputRef.insertEmoji&&this._inputRef.insertEmoji(a)},_onTextChange:function(a,c){var d=this.props.threadID;d&&(this._setTextImmediate=b("setImmediate")(function(){this._setTextImmediate=null,b("FantaMessageActions").composerTextUpdate(d,a,c)}.bind(this)))}});e.exports=c}),null);
__d("ChatTitleLink.react",["cx","ChatEditParticipantsUtils","Link.react","MercuryThreads","MercuryThreadTitle.react","MessengerAdminGroupUtils","React","TrackingNodes","UserAgent","goURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreads").get();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTitleLink",propTypes:{href:a.string,thread:a.object,viewer:a.string},getDefaultProps:function(){return{href:null}},getTitle:function(){return this.refs.threadTitle.getTitle()},render:function(){if(!this.props.thread)return null;var a=this.props,c=a.href,d=a.thread,e=a.viewer;a=babelHelpers.objectWithoutProperties(a,["href","thread","viewer"]);return b("React").createElement(i,babelHelpers["extends"]({className:"titlebarText"+(b("UserAgent").isBrowser("Chrome")&&!b("UserAgent").isPlatform("Windows")?" fixemoji":"")+(c===null?" noLink":""),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.TITLE),"data-hover":"tooltip",onClick:function(a){return this._handleClick(a)}.bind(this),href:c},a),b("React").createElement(b("MercuryThreadTitle.react"),{ref:"threadTitle",isNewThread:h.isNewEmptyLocalThread(d.thread_id),thread:d,useAndSeparator:!0,useShortName:!d.is_canonical,viewer:e}))},_handleClick:function(a){var c=this.props,d=c.href;c=c.thread;if(!d)return;c&&c.associated_object?b("goURI")(d):b("MessengerAdminGroupUtils").showParticipantsModal(c.is_canonical,h.isEmptyLocalThread(c.thread_id),c)&&(b("ChatEditParticipantsUtils").showParticipantsModal(c.thread_id),a.preventDefault())}});var i=function(a){return a.href?b("React").createElement(b("Link.react"),a):b("React").createElement("span",a)};e.exports=c}),null);
__d("MercuryTypingAnimation.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a="_4a0v _1x3z";return b("React").createElement("div",{className:b("joinClasses")(this.props.className,a)},b("React").createElement("div",{className:"_4b0g"},b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"})))};function a(){h.apply(this,arguments)}a.propTypes={color:c.oneOf(["light","dark"])};a.defaultProps={color:"dark"};e.exports=a}),null);
__d("ChatTypingIndicator.react",["cx","fbt","ChatConfig","Image.react","MercuryConfig","MercuryParticipants","MercuryTypingAnimation.react","ReactComponentWithPureRenderMixin","React","QE2Logger"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;var i=b("ChatConfig").get("chattab_rounded_profile",!1);c=b("React").createClass({displayName:"ChatTypingIndicator",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{isOnline:a.bool,userID:a.string,showName:a.bool},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function(){var a=void 0;this.props.userID&&(a=b("MercuryParticipants").getNow(this.props.userID));if(!a)return null;var c=b("MercuryConfig").GDWC&&!!this.props.isOnline;return b("React").createElement("div",{className:"_4tdt"},j(a,c),this._renderBubble())},getBubble:function(){return this.refs.bubble},_renderBubble:function(){var a=this.props.showName;return b("React").createElement("div",{className:"_4tdv"},b("React").createElement("div",{className:"_5wd4 _1nc7 _2cnu"+(a?" _5ysy":"")},b("React").createElement("div",{className:"_5wd9 _n4o"},b("React").createElement("div",{className:"_5w1r _5wdf _3_om"},b("React").createElement(b("MercuryTypingAnimation.react"),{className:"_5x7x",ref:"bubble"})))))}});function j(a,c){var d=h._("{name}",[h._param("name",a.name)]);return b("React").createElement("div",{className:"_31o4"+(i?" _3njy":"")},b("React").createElement("a",{"aria-label":d,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":d,"data-tooltip-position":"left",href:a.href||"#",ref:"link"},b("React").createElement(b("Image.react"),{src:a.image_src,ref:"image"})),c?b("React").createElement("div",{className:"_sce"}):null)}e.exports=c}),null);
__d("ChatTypingIndicators.react",["cx","fbt","ChatTypingIndicator.react","CurrentUser","DOM","immutable","MercuryIDs","MercuryThreads","MercuryParticipants","React","ReactDOM","TooltipData","emptyFunction","gkx"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("MercuryThreads").get();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTypingIndicators",propTypes:{indicatorClass:a.func,indicatorsDidShow:a.func,indicatorsDidHide:a.func,onlineUsers:a.instanceOf(b("immutable").List),rootClassName:a.string,threadID:a.string.isRequired,viewer:a.string.isRequired,typingUserIDs:a.arrayOf(a.string.isRequired).isRequired},getDefaultProps:function(){return{indicatorClass:b("ChatTypingIndicator.react"),indicatorsDidShow:b("emptyFunction"),indicatorsDidHide:b("emptyFunction")}},shouldComponentUpdate:function(a){__p&&__p();var b=new Set(a.typingUserIDs),c=new Set(this.props.typingUserIDs);if(b.size!==c.size)return!0;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(!c.has(f))return!0}return a.threadID!==this.props.threadID||a.viewer!==this.props.viewer||a.onlineUsers!==this.props.onlineUsers||a.rootClassName!==this.props.rootClassName},componentDidUpdate:function(){this.props.typingUserIDs.length>0?this.props.indicatorsDidShow():this.props.indicatorsDidHide(),b("MercuryParticipants").getMulti(this.props.typingUserIDs,function(a){this.isMounted()&&this.props.typingUserIDs.forEach(function(c){var d=a[c];c=this.refs[c]&&this.refs[c].getBubble();c&&d&&b("TooltipData").set(b("ReactDOM").findDOMNode(c),this.renderTooltip(d.short_name),"above","left")}.bind(this))}.bind(this))},_renderContent:function(){var a=b("MercuryIDs").isGroupChat(this.props.threadID);return b("React").createElement("div",{className:this.props.rootClassName},Array.from(this.props.typingUserIDs).sort().map(function(b){return this._renderTypingIndicator(b,!!a)}.bind(this)))},render:function(){if(!b("MercuryIDs").isValid(this.props.threadID))return null;var a=i.getThreadMetaNow(this.props.threadID);if(a&&!a.is_subscribed)return null;if(!b("CurrentUser").isWorkUser()&&b("gkx")("AT4vZBWyiZL1KZrir2lJt4vVNMIYu8sDbA3PtNwJWZh5seJSYZeYdmCgqH3wgiUS4PfslnEPm3wz9jSsjDINBCSy"))return b("React").createElement("div",{className:"_4gd0"},this._renderContent());else return this._renderContent()},_renderTypingIndicator:function(a,c){var d=this.props.indicatorClass,e=this.props.onlineUsers!==undefined&&this.props.onlineUsers.includes(b("MercuryIDs").getUserIDFromParticipantID(a));return b("React").createElement(d,{key:a,ref:a,showName:c,userID:a,isOnline:e})},renderTooltip:function(a){var c=b("DOM").create("span");b("ReactDOM").render(b("React").createElement("span",null,h._("{name} is typing...",[h._param("name",a)])),c);return c}});e.exports=c}),null);
__d("ChatTypingIndicatorsWrapper.react",["ChatTypingIndicators.react","immutable","MessengerState.bs","React"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("MessengerState.bs").jsComponent,{fbid:this.props.viewer},function(a){return b("React").createElement(b("ChatTypingIndicators.react"),{indicatorClass:this.props.indicatorClass,indicatorsDidHide:this.props.indicatorsDidHide,indicatorsDidShow:this.props.indicatorsDidShow,onlineUsers:this.props.onlineUsers,rootClassName:this.props.rootClassName,threadID:this.props.threadID,typingUserIDs:Object.keys(b("MessengerState.bs").typing(a)[this.props.threadID]||{}),viewer:this.props.viewer})}.bind(this))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("ChatTabHeader.react",["cx","fbt","AutoFocusableLink.react","Bootloader","MercuryBootloadOnInteraction.react","BootloadOnRender.react","ChatCloseButton.react","ChatTitleLink.react","EventPlanExperiment","EventReminderStateStore","FantaTypeComposer","immutable","JSResource","LayerFadeOnHide","LazyComponent.react","LoadOnRender.react","MercuryThreadInfo","MercuryTypingAnimation.react","MessageRequestUtils","MessagingTag","MessengerAdminGroupUtils","MessengerJoinableModeType","React","SimpleNUXMessage","TooltipData","XUIAmbientNUX.react","requireWeak","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j="118809038721180",k=function(a){b("Bootloader").loadModules(["ArchiveWarningReact.bs"],function(b){b=b.jsComponent;return a(b)},"ChatTabHeader.react")},l=b("gkx")("AT7esXHVKl_rB1r5C-zEkmCVhZJMRd4NQJBo-b1EyRH6vUNk2XZEcNJ3WOEvumLbmsR6a_bwkl5o0d60WUY3jm1v");d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$1=!1,this.$4=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this.props.onClick.apply(null,b)}.bind(this),this.$15=function(){return this.refs.menu}.bind(this),this.$16=function(){b("SimpleNUXMessage").markMessageSeenByUser(j),this.setState({eventPlanNuxSeen:!0})}.bind(this),this.state={eventPlanNuxSeen:b("SimpleNUXMessage").hasUserSeenMessage(j)}}a.prototype.componentDidMount=function(){this.$1=!0,b("requireWeak")("ChatVideoCallButton.react",function(a){this.$1&&this.setState({RTCComponent:a})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.render=function(){var a=this.$3(),c=this.props.isRaised;return b("React").createElement("div",{className:"_15p4"+(this.props.isRaised?"":" _15p5")+(c||!a?" _2pis":""),onMouseUp:this.$4,ref:"root"},b("React").createElement("div",{"aria-level":"2",className:"titlebarTextWrapper _15p6",role:"heading"},b("React").createElement("div",{className:"_61td",role:c?"presentation":"button",tabIndex:c?-1:0},a,this.$5()),this.props.isTyping&&!this.props.isRaised?b("React").createElement(b("MercuryTypingAnimation.react"),{className:"_15p8",color:"dark"}):null),b("React").createElement("ul",{className:"_32ca"+(l?" _2qi8":"")},this.$6(),b("React").createElement("li",{className:"_32cb"},b("React").createElement(b("ChatCloseButton.react"),{active:this.props.isActive,className:"_3olu _3olv",onClick:this.props.onCloseClick}))))};a.prototype.focus=function(){this.refs.root&&this.refs.root.focus()};a.prototype.$7=function(){return this.props.thread?b("MessageRequestUtils").isMessageRequest(this.props.thread):!1};a.prototype.$6=function(){if(!this.props.isRaised)return null;var a=[this.$8(),this.$9(),this.$10(),this.$11(),this.$12(),this.$13()];return a.filter(Boolean)};a.prototype.$12=function(){return this.$14({isAudio:!0})};a.prototype.$11=function(){return this.$14({isAudio:!1})};a.prototype.$14=function(a){__p&&__p();if(this.props.isEmptyChat||this.$7())return null;var c=this.props,d=c.isGroupChat,e=c.onRTCNuxCloseButtonClick,f=c.rtcNuxShown,g=c.thread,h=c.threadID;c=c.viewer;if(d){if(!g||g.participants.length<=1||!b("MercuryThreadInfo").canReply(g))return null;if(g.joinable_mode&&g.joinable_mode.mode===b("MessengerJoinableModeType").JOINABLE)return null}d=babelHelpers["extends"]({isGroupChat:d,onRTCNuxCloseButtonClick:e,rtcCallData:g&&g.rtc_call_data,rtcNuxShown:f&&a.isAudio,threadID:h,thread:g,viewer:c},a);d.className="_3olv"+(d.isAudio?" _2fpc":"")+(d.isAudio?"":" _2fpd");e=this.state.RTCComponent;return b("React").createElement("li",{className:"_3a61"+(d.isAudio?" _461a":"")+(d.isAudio?"":" _461b"),key:"rtc"+(d.isAudio?"audio":"video")},e?b("React").createElement(e,d):b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),d),loader:b("JSResource")("ChatVideoCallButton.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{className:d.className,role:"button"})}))};a.prototype.$13=function(){__p&&__p();var a=this.props.thread;if(this.props.isEmptyChat||!!a&&a.folder===b("MessagingTag").PENDING)return null;a=babelHelpers["extends"]({attachmentsShelf:this.props.attachmentsShelf,composer:this.props.composer,isEmptyChat:this.props.isEmptyChat,isGroupChat:this.props.isGroupChat,isMultiCompany:this.props.isMultiCompany,isMuted:this.props.isMuted,isPageChat:this.props.isPageChat,membershipParticipants:this.props.membershipParticipants,nameConversationFunc:this.props.nameConversationFunc,otherUserID:this.props.otherUserID,participants:this.props.participants,sheetController:this.props.sheetController,showAddFriend:this.props.showAddFriend,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer},this.props.additionalMenuProps);a.className="_3olv _1ll-";var c=h._("Options"),d=!1;if(this.props.threadID){var e=b("EventReminderStateStore").getEvent(this.props.threadID);d=e&&!e.exists&&!this.state.eventPlanNuxSeen&&b("EventPlanExperiment").shouldShowEntryPointNuxWithExposure()}return b("React").createElement("div",{key:"menu"},b("React").createElement("li",{className:"_3a61 _461_",ref:"menu"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:b("JSResource")("ChatTabMenu.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{className:a.className,"aria-label":c,role:"button"})})),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:this.$15,onCloseButtonClick:this.$16,shown:d,width:"auto"},h._("Click here to start a new plan.")))};a.prototype.$10=function(){if(this.props.isPageChat||this.props.isEmptyChat||this.props.isMultiCompany&&!this.props.isGroupChat||this.$7())return null;var a={className:"_3olv _3jyj",isFBAtWork:this.props.isWorkUser,shouldAddToApprovalQueue:b("MessengerAdminGroupUtils").shouldAddToApprovalQueue(this.props.thread,this.props.viewer),shown:!0,onClick:function(){return this.props.sheetController.openAddFriendsSheet()}.bind(this)},c=h._("Add");return b("React").createElement("li",{className:"_3a61 _4620",key:"add"},b("React").createElement(b("MercuryBootloadOnInteraction.react"),{component:b("React").createElement(b("LazyComponent.react"),a),loader:b("JSResource")("ChatAddToThreadButton.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement(b("AutoFocusableLink.react"),{"aria-label":c,className:a.className,role:"button"})}))};a.prototype.$8=function(){if(!this.props.isViewerEmployee)return null;var a=this.props.participants;a=a?a.length>0&&a.every(function(a){return!!(a&&a.employee)}):!1;return!a?null:b("React").createElement("li",{key:"archiveWarning"},b("React").createElement(b("LoadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{shown:!0}),loader:k,placeholder:b("React").createElement("div",null)}))};a.prototype.$9=function(){if(!this.props.isWorkUser||!this.props.isMultiCompany)return null;var a=h._("Multi company chat");return b("React").createElement("li",{key:"multiCompanyBadge"},b("React").createElement("div",{className:"_3olv"},b("React").createElement(b("AutoFocusableLink.react"),babelHelpers["extends"]({className:"_kp6",onClick:this.props.onClick,lable:a,role:"presentation"},b("TooltipData").propsFor(a,"above")))))};a.prototype.$17=function(){return b("React").createElement("span",{className:"_3a61"+(this.props.isRaised?"":" _3-99")},b("React").createElement("span",{className:"_3olv _2nlt"}))};a.prototype.$5=function(){return b("React").createElement(b("ChatTitleLink.react"),babelHelpers["extends"]({href:this.props.isRaised?this.props.href:undefined,thread:this.props.thread,viewer:this.props.viewer},b("TooltipData").propsFor(this.props.tooltip,"above")))};a.prototype.$3=function(){var a=this.props,c=a.isRaised;a=a.thread;return!c&&a&&a.unread_count>0?b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{className:"_3-8_ _3-99",count:a.unread_count,type:"special"}),loader:b("JSResource")("XUIBadge.react").__setRef("ChatTabHeader.react"),placeholder:b("React").createElement("span",null)}):this.$17()};a.propTypes={additionalMenuProps:c.object,attachmentsShelf:c.object.isRequired,composer:c.object,href:c.string,isActive:c.bool.isRequired,isEmptyChat:c.bool,isGroupChat:c.bool,isMuted:c.bool,isPageChat:c.bool,isRaised:c.bool,isTyping:c.bool,isViewerEmployee:c.bool,isWorkUser:c.bool,nameConversationFunc:c.func.isRequired,onClick:c.func.isRequired,onCloseClick:c.func.isRequired,onRTCNuxCloseButtonClick:c.func.isRequired,otherUserID:c.string,participants:c.arrayOf(c.object),rtcNuxShown:c.bool.isRequired,sheetController:c.object.isRequired,showAddFriend:c.func.isRequired,thread:c.object,threadID:c.string,tooltip:c.string,viewer:c.string.isRequired};e.exports=a}),null);
__d("getGroupNameTooltipFromParticipantIDs",["fbt","MercuryParticipants","MercuryViewer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10,i="\n";function a(a,c){__p&&__p();var d=[],e=b("MercuryViewer").getID();a=a&&a.filter(function(a){return a!==e});if(!a||!a.length){c(null);return}var f=a.length,j=f-h;j>1&&(a=a.slice(0,h));b("MercuryParticipants").getMulti(a,function(a){for(var b in a){var e=a[b];d.push(e.name)}if(j>1){e=g._("and {number of hidden chat participants} more.",[g._param("number of hidden chat participants",j)]);d.push(e)}c(d.join(i))})}function c(a){__p&&__p();var c=[],d=b("MercuryViewer").getID();a=a&&a.filter(function(a){return a!==d});if(!a||!a.length)return null;c=a.map(function(a){a=b("MercuryParticipants").getOrFetch(a);return a&&a.name}).filter(function(a){return!!a});a=a.length-(a.length-c.length)-h;if(a>1){c=c.slice(0,h);a=g._("and {number of hidden chat participants} more.",[g._param("number of hidden chat participants",a)]);c.push(a)}return c.join(i)}e.exports={getGroupNameTooltipFromParticipantIDs:c,getGroupNameTooltipFromParticipantIDsAsync:a}}),null);
__d("getTitleHrefFromThreadID",["MercuryIDs","MercuryParticipants","WebMessengerThreadPermalinks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(b("MercuryIDs").isLocalThread(a)){c();return}var d=b("MercuryIDs").getUserIDFromThreadID(a);d?b("MercuryParticipants").get(b("MercuryIDs").getParticipantIDFromUserID(d),function(a){a.href?c(a.href):c(b("WebMessengerThreadPermalinks").getThreadURIFromUserID(d))}):b("WebMessengerThreadPermalinks").getThreadURI(a,c)}e.exports=a}),null);
__d("ChatTabHeaderContainer.react",["ChatTabHeader.react","CurrentUser","FantaTypeComposer","immutable","MercuryIDs","MercuryParticipants","MercuryThreadInfo","MercuryThreads","React","SubscriptionsHandler","WorkModeConfig","getPageIDFromThreadID","getGroupNameTooltipFromParticipantIDs","getTitleHrefFromThreadID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("getGroupNameTooltipFromParticipantIDs").getGroupNameTooltipFromParticipantIDs;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(a){g.constructor.call(this,a),this.$1=new(b("SubscriptionsHandler"))(),this.$2=null,this.state=this.calculateState(a)}a.prototype.calculateState=function(a){__p&&__p();var c=!1,d=!0,e=!1,f=void 0,g=void 0,i=[],j=[],k=void 0,l=void 0;if(a.threadID){var m=b("MercuryThreads").getForFBID(a.viewer);k=m.getOrFetch(a.threadID);c=b("MercuryIDs").isGroupChat(a.threadID);d=m.isNewEmptyLocalThread(a.threadID);e=!!k&&b("MercuryThreadInfo").isMuted(k);f=b("MercuryIDs").getUserIDFromThreadID(a.threadID);g=b("getPageIDFromThreadID")(a.threadID);k&&(k.participants.forEach(function(a){var c=b("MercuryParticipants").getNow(a);i.push(c);c||j.push(a)}),l=h(k.participants))}this.$2&&this.$2.remove();j.length>0&&(this.$2=b("MercuryParticipants").getMulti(j,function(a){this.$2=null,k&&this.setState({participants:k.participants.map(function(a){return b("MercuryParticipants").getNow(a)})})}.bind(this)));m=this.state&&this.state.additionalMenuProps||{};a&&(m=babelHelpers["extends"]({},m,a.additionalMenuProps));return{additionalMenuProps:m,isEmptyChat:d,isGroupChat:c,isMuted:e,otherUserID:f,pageID:g,participants:i,thread:k,tooltip:l}};a.prototype.UNSAFE_componentWillMount=function(){this.$1.addSubscriptions(b("MercuryThreads").addListener("change",function(){this.setState(this.calculateState(this.props))}.bind(this)))};a.prototype.componentDidMount=function(){this.$3(),this.props.onMount&&this.props.onMount(this)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.threadID!==this.props.threadID&&this.$3(),this.setState(this.calculateState(a))};a.prototype.componentWillUnmount=function(){this.$1.release(),this.$2&&this.$2.remove()};a.prototype.render=function(){return b("React").createElement(b("ChatTabHeader.react"),{additionalMenuProps:this.state.additionalMenuProps,attachmentsShelf:this.props.attachmentsShelf,composer:this.props.composer,href:this.state.href,isActive:this.props.isActive,isEmptyChat:this.state.isEmptyChat,isGroupChat:this.state.isGroupChat,isMultiCompany:this.props.isMultiCompany,isMuted:this.state.isMuted,isPageChat:!!this.state.pageID,isRaised:this.props.isRaised,isTyping:this.props.isTyping,isViewerEmployee:b("CurrentUser").isEmployee(),isWorkUser:!!b("WorkModeConfig").is_work_user,membershipParticipants:this.props.membershipParticipants,nameConversationFunc:this.props.nameConversationFunc,onClick:this.props.onClick,onCloseClick:this.props.onCloseClick,onRTCNuxCloseButtonClick:this.props.onRTCNuxCloseButtonClick,otherUserID:this.state.otherUserID,participants:this.state.participants,ref:"header",rtcNuxShown:this.props.rtcNuxShown,sheetController:this.props.sheetController,showAddFriend:this.props.showAddFriend,thread:this.state.thread,threadID:this.props.threadID,tooltip:this.state.tooltip,viewer:this.props.viewer})};a.prototype.focus=function(){this.refs.header.focus()};a.prototype.setAdditionalMenuProps=function(a){a=babelHelpers["extends"]({},this.state.additionalMenuProps,a);this.setState({additionalMenuProps:a})};a.prototype.$3=function(){b("getTitleHrefFromThreadID")(this.props.threadID,function(a){return this.setState({href:a})}.bind(this))};a.propTypes={additionalMenuProps:c.object,attachmentsShelf:c.object.isRequired,composer:c.object,isActive:c.bool.isRequired,isRaised:c.bool,isTyping:c.bool,nameConversationFunc:c.func.isRequired,onClick:c.func.isRequired,onCloseClick:c.func.isRequired,onMount:c.func,onRTCNuxCloseButtonClick:c.func.isRequired,rtcNuxShown:c.bool.isRequired,sheetController:c.object.isRequired,showAddFriend:c.func.isRequired,threadID:c.string,viewer:c.string.isRequired};e.exports=a}),null);
__d("XGroupCallNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groupcall/nux/",{action:{type:"String",required:!0}})}),null);
__d("FantaChatHeaderContainer.react",["cx","AsyncRequest","BootloadOnRender.react","ChatTabHeaderContainer.react","FantaTabActions","FantaTabSheetActions","FantaTypeComposer","JSResource","LazyComponent.react","immutable","MercuryConfig","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryParticipants","MercuryThreadInfo","MercuryThreads","MessageRequestUtils","React","XGroupCallNuxController","gkx","isEmpty"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MercuryThreads").get();c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=!1,this.state={rtcNuxShown:!1},this.$5=function(){var a=this.props.threadID;b("FantaTabSheetActions").openAddMoreFriendsSheet(a)}.bind(this),this.$4=function(){var a=this.props.threadID;b("FantaTabSheetActions").openNameConversationSheet(a)}.bind(this),this.$6=function(){var a=this.props.threadID;b("FantaTabSheetActions").openAddMoreFriendsSheet(a)}.bind(this),this.$8=function(){this.props.onClose&&this.props.onClose()}.bind(this),this.$7=function(event){this.$3();var a=event.target;if(!a)return;(a.getAttribute("role")==="presentation"||a.classList&&(a.classList.contains("_15p6")||a.classList.contains("_2nlt")||a.classList.contains("_14lt")))&&(event.preventDefault(),b("FantaTabActions").minimizeTab(this.props.threadID))}.bind(this),this.$3=function(){if(this.state.rtcNuxShown&&this.$1){this.setState({rtcNuxShown:!1});var a=b("XGroupCallNuxController").getURIBuilder().setString("action","dismiss").getURI();new(b("AsyncRequest"))(a).send()}}.bind(this),c}a.prototype.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return c.viewer!==a.viewer||c.threadID!==a.threadID||c.isLastGroupTab!==a.isLastGroupTab||c.thread!==a.thread||d.rtcNuxShown!==b.rtcNuxShown||c.customColor!==a.customColor||c.blockedIDs!==a.blockedIDs||!c.membershipParticipants&&!!a.membershipParticipants||!!c.membershipParticipants&&!!a.membershipParticipants&&!c.membershipParticipants.equals(a.membershipParticipants)};a.prototype.componentDidMount=function(){this.$1=!0,this.$2()};a.prototype.componentWillUnmount=function(){this.$3(),this.$1=!1};a.prototype.render=function(){var a=this.props,c=a.isFocused,d=a.thread,e=a.threadID,f=a.viewer;a=a.customColor;var g=this.state.rtcNuxShown,h=!!d&&b("MercuryThreadInfo").isMuted(d),j=b("MercuryIDs").getParticipantIDFromFromThreadID(e);j=j?b("MercuryParticipants").getNow(j):null;var k=j&&j.is_business_enabled,l=d&&b("MercuryThreadInfo").showComposer(d)&&!b("isEmpty")(d.participants)&&!b("MessageRequestUtils").isMessageRequest(d)&&!b("MercuryConfig").ViewerIsReadOnly&&!(b("MercuryConfig").ColdOpenBlock&&(b("MercuryThreadInfo").isColdOpen(d)||b("MercuryThreadInfo").isEmptyLocalThread(d))),m=d&&b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(this.props.viewer,this.props.blockedIDs,d),n=i.isNewEmptyLocalThread(e),o=d&&d.message_count===0;m={hasMessageBlocked:m,isBusinessEnabled:k,isEmptyChat:n,isEmptyConversation:o,isMuted:h,show:l};k=a?{color:a}:null;return b("gkx")("AT6A1bnDK2h8UfK21QtwMasCKSCRuJLNl1CkXiFlb4ngyuzOTwnMPylW45yiU1EwI4xsY2mbtMRkoGbbra-xak0V")?b("React").createElement("div",{className:"clearfix titlebar"},b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{isActive:!1,thread:d,viewer:f,viewerParticipant:j}),loader:b("JSResource")("FantaM4HeaderLoader.react").__setRef("FantaChatHeaderContainer.react"),placeholder:b("React").createElement("div",null)})):b("React").createElement("div",{className:"clearfix fbNubFlyoutTitlebar titlebar"+(a?" _1m34":""),style:k},b("React").createElement(b("ChatTabHeaderContainer.react"),{composer:this.props.composer,additionalMenuProps:m,attachmentsShelf:document.createElement("div"),isActive:c,isRaised:!0,isTyping:!1,nameConversationFunc:this.$4,rtcNuxShown:g,sheetController:{openAddFriendsSheet:this.$5},showAddFriend:this.$6,threadID:e,viewer:f,onClick:this.$7,onCloseClick:this.$8,onRTCNuxCloseButtonClick:this.$3,isMultiCompany:this.props.isMultiCompany,membershipParticipants:this.props.membershipParticipants}))};a.prototype.$9=function(a){return a.length>0&&a.every(function(a){a=b("MercuryParticipants").getNow(a);return!!(a&&a.employee)})};a.prototype.$2=function(){if(this.props.isLastGroupTab){var a=b("XGroupCallNuxController").getURIBuilder().setString("action","should_show").getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a=a.payload.shouldShow;this.$1&&this.setState({rtcNuxShown:a})}.bind(this)).send()}};a.propTypes={blockedIDs:c.instanceOf(Set).isRequired,customColor:c.string,isFocused:c.bool.isRequired,isLastGroupTab:c.bool.isRequired,onClose:c.func.isRequired,thread:c.object,threadID:c.string.isRequired,viewer:c.string.isRequired};e.exports=a}),null);
__d("FantaConversation.react",["Bootloader","ChatConversation.react","CurrentUser","EventProfiler","MercuryIDs","MessengerHotLikePreviewEvents","React","StickerInterfaces","StickersTypedLogger","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){g.constructor.call(this,a),this.$4=function(a){this.props.threadID===a&&this.setState({likePreview:null})}.bind(this),this.$5=function(a,c){if(!a)return;new(b("StickersTypedLogger"))().setEvent("click_sticker").setPackid(a).setStickerid(c).log();b("Bootloader").loadModules(["StickersPackInTray","StickersActions","StickersStoreController"],function(c,d,e){c.onIsPackInTray(a,b("StickerInterfaces").MESSAGES,function(b){b.in_sticker_tray?(d.selectTrayPack(a),d.showStickerFlyout(this.props.threadID)):e.showStore(a)}.bind(this))}.bind(this),"FantaConversation.react")}.bind(this),this.state={likePreview:null},this.$1=new(b("SubscriptionsHandler"))()}a.prototype.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return!c.onlineUsers.equals(a.onlineUsers)||!c.messages.equals(a.messages)||c.threadID!==a.threadID||c.thread!==a.thread||d.likePreview!==b.likePreview};a.prototype.componentDidMount=function(){this.$2(),this.$3()};a.prototype.componentDidUpdate=function(){this.$3()};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.$3=function(){b("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],!0,"click")};a.prototype.$2=function(){this.$1.addSubscriptions(b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(a,b){this.props.threadID===b&&this.setState({likePreview:a})}.bind(this)),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,this.$4),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP_EMOJI,this.$4),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").REMOVE,this.$4))};a.prototype.render=function(){var a=this.props.messages,c=this.props,d=c.onLoadMoreMessages,e=c.thread;c=c.threadID;var f=this.state.likePreview,g=b("CurrentUser").getID();f&&(a=a.push(f));return e?b("React").createElement(b("ChatConversation.react"),{isCanonical:b("MercuryIDs").isCanonical(c),loadMoreMessages:d,maxBubbleWidth:181-this.props.scrollbarPadding,messages:a,onAttachmentLoad:function(){return this.props.onAttachmentLoad()}.bind(this),onMount:b("emptyFunction"),onStickerClick:this.$5,onlineUsers:this.props.onlineUsers,readReceipts:this.props.readReceipts,ref:"conversation",thread:e,threadID:c,viewer:g}):b("React").createElement("div",null)};a.prototype.getMessageList=function(){return this.refs.conversation&&this.refs.conversation.getMessageList()};a.propTypes={messages:c.object.isRequired,onLoadMoreMessages:c.func.isRequired,onlineUsers:c.object.isRequired,scrollbarPadding:c.number,thread:c.object,threadID:c.string.isRequired};e.exports=a}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","getPageIDFromThreadID","idx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.thread;a=a.threadID;if(c!=null){c=((c=c)!=null?c.is_canonical_neo_user:c)||!1;if(c)return null}else return null;return b("getPageIDFromThreadID")(a)?b("React").createElement("div",{className:"_av1"},b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MercuryChatTabPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{threadID:a})})):null};e.exports=a}),null);
__d("MercuryCamQuickReply.react",["cx","fbt","BootloadedComponent.react","JSResource","MercuryIDs","MercuryThreads","MessengerQuickCamOrigins","React","XUISpinner.react","convertMIGColorToFIGColor"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryThreads").get();c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.UNSAFE_componentWillUpdate=function(a,b){a&&this.props.lastMessage!==a.lastMessage&&this.props.camQuickReplyWillShow&&this.props.camQuickReplyWillShow()};a.prototype.componentDidUpdate=function(a,b){a&&this.props.lastMessage!==a.lastMessage&&this.props.camQuickReplyDidShow&&this.props.camQuickReplyDidShow()};a.prototype.render=function(){var a=this.props.lastMessage,c=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);if(!(a&&a.message_source&&a.author!==c&&a.message_source==="camera"))return null;c=j.getThreadMetaNow(this.props.threadID);a=c?b("convertMIGColorToFIGColor")(c.custom_color):null;c=b("React").createElement("div",{className:"_zdf",style:a&&{color:a}},h._("Send a photo reply"));return b("React").createElement("div",{className:"_zdg"},b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("MercuryCamQuickReply.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{className:"_5h-9"}),className:"_5yhk _6gb",location:b("MessengerQuickCamOrigins").CHAT_TAB,threadID:this.props.threadID,viewer:this.props.viewer,textChild:c}))};function a(){i.apply(this,arguments)}a.propTypes={camQuickReplyWillShow:c.func,camQuickReplyDidShow:c.func,lastMessage:c.object,threadID:c.string.isRequired,viewer:c.string.isRequired};e.exports=a}),null);
__d("MercuryLastMessageIndicator.react",["cx","fbt","CurrentUser","MercuryIDs","MercuryMessageSourceTags","MercuryParticipants","MercuryThreads","MercuryViewer","MessengerReadReceipt.bs","MessengerTextWithEmoticons.react","React","ReactDOM","immutable","SubscriptionsHandler","TooltipData","WorkModeConfig","emptyFunction","gkx","formatDate","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("MercuryThreads").get(),k=b("immutable").Set;c=b("React").PropTypes;var l=function(a,c,d){a=b("MessengerReadReceipt.bs").getSeenTimestamp(a,d,c[0]);d=a.action*.001;return{seenTimestamp:d,seenByData:null}},m=function(a,c,d){__p&&__p();var e={};for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;e[i]=b("MercuryParticipants").getNow(i)}i=j.getThreadMetaNow(c);h=null;i&&i.custom_nickname&&(h=i.custom_nickname);g={};for(var f=Object.keys(e),c=Array.isArray(f),k=0,f=c?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(c){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;var m=e[l],n;void 0;!m?n=b("MercuryParticipants").getDefaultName():(n=m.short_name,h&&h[m.fbid]&&(n=h[m.fbid]));g[l]=n}m=void 0;l=!1;n=!1;o(a,d,i)?n=!0:a.length==1?m=" "+g[a[0]]:a.length==2?m=" "+g[a[0]]+", "+g[a[1]]:a.length==3?m=" "+g[a[0]]+", "+g[a[1]]+", "+g[a[2]]:a.length>3&&(m=" "+g[a[0]]+", "+g[a[1]]+", ",l=!0);return{seenTimestamp:null,seenByData:{seenByAll:n,text:m,showTooltip:l,seenBy:a}}},n=function(a,c,d){d=b("MessengerReadReceipt.bs").getSeenBy(a,d,!0);if(d.length===0)return{seenTimestamp:null,seenByData:null};var e=b("MercuryIDs").getUserIDFromThreadID(c);if(e)return l(a,d,c);else return m(d,c)},o=function(a,c,d){var e=d?d.participants.length:0;a=a.length;c&&c.author!=b("MercuryViewer").getID()&&(!d||d.participants.indexOf(c.author)>-1)&&a++;return e>2&&a>=e-1};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={seenTimestamp:null,seenByData:null},b}a.getDerivedStateFromProps=function(a,b){"use strict";return n(a.readReceipts,a.threadID,a.lastMessage)};a.prototype.shouldComponentUpdate=function(a,b){"use strict";__p&&__p();if(a.threadID!==this.props.threadID||a.lastMessage!==this.props.lastMessage||a.isTyping!==this.props.isTyping||a.readReceipts!==this.props.readReceipts||b.seenTimestamp!==this.state.seenTimestamp)return!0;a=this.state.seenByData;b=b.seenByData;if(!a&&!b)return!1;if(!a||!b)return!0;if(a.seenByAll!==b.seenByAll||a.showTooltip!==b.showTooltip||a.text!==b.text)return!0;return!k(a.seenBy).equals(k(b.seenBy))?!0:!1};a.prototype.componentDidUpdate=function(){"use strict";if(!this.isVisible())return;this.props.indicatorDidShow&&this.props.indicatorDidShow()};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.release()};a.prototype.$2=function(){"use strict";return!this.props.lastMessage?[]:this.props.lastMessage.source_tags||this.props.lastMessage.tags||[]};a.prototype.$3=function(){"use strict";if(this.props.isTyping)return b("React").createElement("div",{className:this.$4([])},b("React").createElement("div",{className:"_510h"}),b("React").createElement("span",{className:"_510f",ref:"text"},"\xa0"));var a=this.$2(),c=this.state.seenByData,d=this.state.seenTimestamp;if(c)return b("React").createElement("div",{className:this.$4(a)},b("React").createElement("div",{className:"_510h"}),b("React").createElement("span",{className:"_510f"},this.$5(c)));else if(d)return b("React").createElement("div",{className:this.$4(a)},b("React").createElement("div",{className:"_510h"}),b("React").createElement("span",{className:"_510f",ref:"text"},this.$6(d)));else return b("React").createElement("div",{className:this.$4(a)},b("React").createElement("div",{className:"_510h"}),b("React").createElement("span",{className:"_510f",ref:"text"},this.$7(a)))};a.prototype.render=function(){"use strict";if(!b("CurrentUser").isWorkUser()&&b("gkx")("AT4vZBWyiZL1KZrir2lJt4vVNMIYu8sDbA3PtNwJWZh5seJSYZeYdmCgqH3wgiUS4PfslnEPm3wz9jSsjDINBCSy"))return b("React").createElement("div",{className:"_4gd0"},this.$3());else return this.$3()};a.prototype.$6=function(a){"use strict";var c=Date.now()*.001,d=void 0;a<c-518400?d="M j":a<c-86400?d="D g:ia":d="g:ia";return h._("Seen {timestamp}",[h._param("timestamp",b("formatDate")(a,d))])};a.prototype.$7=function(a){"use strict";__p&&__p();if(a.includes(b("MercuryMessageSourceTags").MESSENGER))if(!b("WorkModeConfig").is_work_user)return b("React").createElement("a",{href:"/mobile/messenger",className:"fcg",target:"_blank"},h._("Sent from Messenger"));else return b("React").createElement("a",{href:"https://www.facebook.com/workplace/mobile/",className:"fcg",target:"_blank"},h._("Sent from Workplace Chat"));else if(a.includes(b("MercuryMessageSourceTags").MOBILE)){var c=b("WorkModeConfig").is_work_user?"/workplace/mobile":"/mobile";return b("React").createElement("a",{href:c,className:"fcg",target:"_blank"},h._("Sent from Mobile"))}else if(a.includes(b("MercuryMessageSourceTags").EMAIL))return b("React").createElement("span",null,h._("Sent from email"));return null};a.prototype.$4=function(a){"use strict";var c=this.props.lastMessage&&this.props.lastMessage.author&&b("MercuryViewer").isViewer(this.props.lastMessage.author);c="_510g"+(c?" _510e":"");var d=null;this.props.isTyping?d=null:this.state.seenByData!==null||this.state.seenTimestamp!==null?d="seen":a.includes(b("MercuryMessageSourceTags").MESSENGER)||a.includes(b("MercuryMessageSourceTags").MOBILE)?d="sentFromMobile":a.includes(b("MercuryMessageSourceTags").EMAIL)&&(d="sentFromEmail");return b("joinClasses")(c,d)};a.prototype.isVisible=function(){"use strict";var a=this.$2();return a.includes(b("MercuryMessageSourceTags").MESSENGER)||a.includes(b("MercuryMessageSourceTags").MOBILE)||a.includes(b("MercuryMessageSourceTags").EMAIL)?!0:this.state.seenTimestamp!==null||this.state.seenByData!==null};a.prototype.$5=function(a){"use strict";__p&&__p();var c=a.seenByAll;if(c)return h._("Seen by everyone");c=a.text;if(!c)return null;c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:c});var d=a.showTooltip;if(!d)return h._("Seen by {names}",[h._param("names",c)]);else{d=this.$8(a);return h._("Seen by {names}{=num more link}",[h._param("names",c),h._param("=num more link",d)])}};a.prototype.$8=function(a){"use strict";__p&&__p();if(!a.text||!a.showTooltip)return null;var c={},d=0,e=null;b("MercuryParticipants").getMulti(a.seenBy,function(b){e=a.seenBy.map(function(a){return b[a].name}).join("\r\n"),d=Object.keys(b).length-2});c=Object.assign({"data-tooltip-alignh":"center"},b("TooltipData").propsFor(e,"above"));var f=h._({"*":"{num} more"},[h._param("num",d,[0])]);return b("React").createElement("span",babelHelpers["extends"]({className:"more"},c),f)};a.propTypes={indicatorDidShow:c.func,lastMessage:c.object,readReceipts:c.object,threadID:c.string.isRequired,isTyping:c.bool.isRequired};a.defaultProps={indicatorDidShow:b("emptyFunction")};e.exports=a}),null);
__d("MessengerViewerContactMethodsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1868889766468115"};c.getQueryID=function(){"use strict";return"177554543035925"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MercuryQuickReply.react",["cx","BootloadedComponent.react","JSResource","MercuryIDs","MessengerQuickCamOrigins","MessengerViewerContactMethodsWebGraphQLQuery","React","WebGraphQL","XUISpinner.react","gkx","idx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={viewerEmail:null,viewerPhone:null},b}a.prototype.componentDidMount=function(){this.$1(this.props.lastMessage)!==null&&this.props.quickReplyDidShow()};a.prototype.componentDidUpdate=function(a){this.$1(this.props.lastMessage)!==null&&this.$1(a.lastMessage)===null&&this.props.quickReplyDidShow(),this.$2(this.props.lastMessage)};a.prototype.render=function(){__p&&__p();var a=this.props.lastMessage,c=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);if(!a||a.author===c)return null;c=this.$1(a);if(Array.isArray(c)){var d=c.every(function(a){return a.content_type==="user_email"&&this.state.viewerEmail===null||a.content_type==="user_phone_number"&&this.state.viewerPhone===null}.bind(this));if(!d)return b("React").createElement("div",{className:"_419m"},b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MercuryQuickReply.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{className:"_5h-9"}),isSponsored:a.is_sponsored,messageId:a.message_id,options:c,pageId:b("MercuryIDs").getUserIDFromParticipantID(a.author),threadID:a.thread_id,quickCamOriginLocation:this.props.quickCamOriginLocation,viewer:this.props.viewer,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone}))}return null};a.prototype.$1=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};a.prototype.$2=function(a){__p&&__p();a=this.$1(a);if(!a||a.length===0)return;a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var c=b?b.find(function(a){return a.is_preferred}):null;!c&&b&&(c=b[0]);b=a?a.find(function(a){return a.is_primary}):null;this.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=c)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})}.bind(this))};a.propTypes={quickReplyDidShow:c.func.isRequired,lastMessage:c.object,quickCamOriginLocation:c.oneOf(b("MessengerQuickCamOrigins").getValues()).isRequired,threadID:c.string.isRequired,viewer:c.string.isRequired};e.exports=a}),null);
__d("FantaConversationScroller.react",["cx","fbt","Animation","Arbiter","BootloadedComponent.react","Bootloader","ChatTypingIndicatorsWrapper.react","CurrentUser","Event","FantaConversation.react","FantaPageGreetingLoader.react","FantaTabActions","ChatThread","Grid.react","immutable","JSResource","MercuryLastMessageIndicator.react","MercuryAttachment","MercuryCamQuickReply.react","MercuryConfig","MercuryIDs","MercuryQuickReply.react","MercuryThreads","MessengerHotLikePreviewEvents","MessengerQuickCamOrigins","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","React","ReactDOM","MercuryShareAttachmentRenderLocations","Scroll","ScrollBoundaryContain","Style","SubscriptionsHandler","TimeSlice","XUISpinner.react","clearImmediate","emptyFunction","getElementPosition","getPageIDFromThreadID","gkx","isEventSupported","setImmediate","setTimeoutAcrossTransitions","clearTimeout","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ChatThread").ChatThread,k=b("MercuryThreads").get(),l=b("Grid.react").GridItem;c=b("React").PropTypes;var m=15,n=null,o=20,p=1e3,q=100;function r(a){__p&&__p();if(n===null){var c=a.firstElementChild;if(c){b("Style").set(a,"overflow","scroll");var d=c.clientWidth;b("Style").set(a,"overflow","hidden");c=c.clientWidth;n=Math.max(c-d,0);b("Style").set(a,"overflow","")}else n=0}return n}d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.$9=[],this.state={loadingMessages:!k.isEmptyLocalThread(this.props.threadID),scrollbarPadding:n===null?m:n,hideLastMessageIndicator:!1},this.$21=function(a){a=b("ReactDOM").findDOMNode(this.refs.scrollContainer);a&&(this.$22(),this.$23()&&!this.$24()&&!this.$3&&!this.props.hasFetchedAll&&(this.setState({loadingMessages:!0}),this.props.onLoadMoreMessages()),this.$25(),this.$12())}.bind(this),this.$17=function(){__p&&__p();if(!this.refs||this.state.loadingMessages||!this.props.thread){this.$9=[];return}var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer),c=b("getPageIDFromThreadID")(this.props.threadID);if(!a||!c){this.$9=[];return}var d=10,e=void 0,f=void 0;try{e=a.getBoundingClientRect(),f=this.refs.conversation?this.refs.conversation.getMessageList():null}catch(a){return}if(!f||!e)return;var g=[];this.$8.forEach(function(a){if(!f)return;var h=a.message_id,i=f.getMessageElement(h);if(i){i=i.getBoundingClientRect();i.top>e.top-d&&i.bottom<e.bottom+d&&(g.push(h),this.$9.includes(h)||b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,h,c)},"FantaConversationScroller.react"))}}.bind(this),this);this.$9=g}.bind(this),this.$26=function(){this.$11&&(b("clearTimeout")(this.$11),delete this.$11);var a=this.$10;this.$24()?(this.$27(!1),this.$10=!0):this.$10=!1;a!==this.$10&&b("FantaTabActions").scrollBottomChanged(this.props.threadID,this.$10,this.$28)}.bind(this),this.$29=function(){this.$11&&b("clearTimeout")(this.$11),this.$11=b("setTimeoutAcrossTransitions")(this.$26,q)}.bind(this),this.$30=function(){this.$1=null,b("FantaTabActions").scrollBottomChanged(this.props.threadID,this.$6,this.$28)}.bind(this),this.$28=function(){b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")?this.$18():(this.$27(!1),this.$19())}.bind(this),this.$31=function(a){a.target&&a.target.classList&&a.target.classList.contains("_5wd4")&&(this.props.onFocus&&this.props.onFocus())}.bind(this),this.$10=!0,this.$6=!0}a.prototype.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return!c.onlineUsers.equals(a.onlineUsers)||c.hasFetchedAll!==a.hasFetchedAll||c.isFocused!==a.isFocused||!c.messages.equals(a.messages)||c.showContextBanner!==a.showContextBanner||c.readReceipts!==a.readReceipts||c.thread!==a.thread||c.threadID!==a.threadID||d.loadingMessages!==b.loadingMessages||d.hideLastMessageIndicator!==b.hideLastMessageIndicator};a.prototype.componentDidMount=function(){this.$7=new(b("SubscriptionsHandler"))(),this.$13(),this.$14(),b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")||this.$15(),b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$16()),this.setState({scrollbarPadding:r(this.refs.scrollContainer)}),this.$12=b("throttle")(this.$17,p),this.$8=this.props.messages.filter(function(a){return a.is_sponsored}),this.$12()};a.prototype.componentDidUpdate=function(a){__p&&__p();b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")||this.$15();if(this.$3){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer),d=this.$3||0;c=c.scrollHeight-d;this.scrollToPosition(c,!1);this.$3=null}if(!a.messages.equals(this.props.messages)){b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$16());d=a.messages.last();c=this.props.messages.last();if(d!==c&&c&&c.author){a=b("MercuryIDs").getUserIDFromParticipantID(c.author);a===b("CurrentUser").getID()&&(b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")?this.$18():(this.scrollToBottom(!1),this.$19()))}}this.$12();b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")&&this.$20()};a.prototype.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1),this.$7.release()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this.state.loadingMessages&&a.messages.size>0&&!a.messages.equals(this.props.messages);if(c||a.hasFetchedAll||a.showContextBanner){this.setState({loadingMessages:!1});c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);var d=c.scrollHeight;c=b("Scroll").getTop(c);this.$3=d-c}this.$8=a.messages.filter(function(a){return a.is_sponsored})};a.prototype.$15=function(){var a=arguments.length<=0||arguments[0]===undefined?!1:arguments[0];this.$6&&b("TimeSlice").guard(function(){this.scrollToBottom(a)}.bind(this),"post load chat animations",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype.renderGroupWave=function(){var a=this.props.thread;return b("MercuryIDs").isLocalThread(this.props.threadID)&&b("gkx")("AT7uCGaYk4KWBCIq3SurfBIwk1DjmbU_QXgSqcY73Sdnw3DJhbzA4qigZjhm4wwYtWnHVZcxghHN6RO33C1W8YjG")&&a&&!a.is_canonical&&!a.thread_fbid?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{background:"light",className:"loading",size:"small"}),bootloadLoader:b("JSResource")("ChatWaveImage.react").__setRef("FantaConversationScroller.react"),thread:a,m4Thread:j!=null}):null};a.prototype.$25=function(){__p&&__p();var a=this.props.threadID,c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return;var d=void 0,e=void 0;try{d=c.getBoundingClientRect(),e=this.refs.conversation?this.refs.conversation.getMessageList():null}catch(a){return}if(!e||!d)return;var f=[];c=b("MessengerVideoAutoplayStore").getMessageIDs(a);var g=c||this.$16()||b("immutable").List();g.map(function(a){var c=b("MercuryAttachment").getVideoElem(a,e);c&&f.push([a,c.getBoundingClientRect()])});f.length&&b("MessengerVideoAutoplayActions").onScroll(a,c?null:g,b("immutable").Map(f),d)};a.prototype.$16=function(){return this.props.messages.filter(function(a){return b("MercuryAttachment").isSingleVideoAttachment(a)||b("MercuryAttachment").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};a.prototype.scrollToBottom=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);c&&this.scrollToPosition(c.scrollHeight,a)};a.prototype.scrollToPosition=function(a,c){var d=b("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$5&&this.$5.stop();c?this.$5=new(b("Animation"))(d).to("scrollTop",a).ease(b("Animation").ease.end).duration(400).go():b("Scroll").setTop(d,a)};a.prototype.$24=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);a=a===0?0:a||o;return b("Scroll").getTop(c)+c.clientHeight>=c.scrollHeight-a};a.prototype.$23=function(){var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer);return b("Scroll").getTop(a)<a.clientHeight};a.prototype.$18=function(){this.$11&&(b("clearTimeout")(this.$11),delete this.$11),this.$24(0)&&(this.$27(!1),this.$10=!0)};a.prototype.$20=function(){this.$11&&this.$26(),this.$10&&this.$27(!1)};a.prototype.$19=function(){var a=this.$6;this.$24()?this.$6=!0:this.$6=!1;a!==this.$6&&(this.$1=b("setImmediate")(this.$30))};a.prototype.$13=function(){__p&&__p();var a=this,c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return;b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")?this.$7.addSubscriptions(b("Event").listen(c,"click",this.$29),b("Event").listen(c,"contextmenu",this.$29),b("Event").listen(c,"doubleclick",this.$29),b("Event").listen(c,"drag",this.$29),b("Event").listen(c,"dragend",this.$29),b("Event").listen(c,"dragenter",this.$29),b("Event").listen(c,"dragexit",this.$29),b("Event").listen(c,"dragleave",this.$29),b("Event").listen(c,"dragover",this.$29),b("Event").listen(c,"dragstart",this.$29),b("Event").listen(c,"drop",this.$29),b("Event").listen(c,"mousedown",this.$29),b("Event").listen(c,"mouseenter",this.$29),b("Event").listen(c,"mouseleave",this.$29),b("Event").listen(c,"mousemove",this.$29),b("Event").listen(c,"mouseout",this.$29),b("Event").listen(c,"mouseover",this.$29),b("Event").listen(c,"mouseup",this.$29),b("Event").listen(c,"touchcancel",this.$29),b("Event").listen(c,"touchend",this.$29),b("Event").listen(c,"touchmove",this.$29),b("Event").listen(c,"touchstart",this.$29),b("Event").listen(c,"scroll",this.$29),b("Event").listen(c,"wheel",this.$29),b("Event").listen(c,"mousewheel",this.$29),b("Event").listen(c,"DOMMouseScroll",this.$29)):(function(){var d=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",e=function(){this.$19()}.bind(a),f=function(){c.addEventListener(d,e,{passive:!0})},g=function(){c.removeEventListener(d,e,{passive:!0})};a.$7.addSubscriptions(b("Arbiter").subscribe("overflow-applied-to-body",function(){return this.$15()}.bind(a)),b("Event").listen(c,"mousedown",e),b("Event").listen(c,"mouseup",e),b("Event").listen(c,"mouseenter",f),b("Event").listen(c,"mouseleave",g),{cancel:g},b("Event").listen(c,"scroll",b("throttle")(a.$21,50)))})();var d=b("ScrollBoundaryContain").applyToElem(c);d&&this.$7.addSubscriptions(d)};a.prototype.$14=function(){this.$7.addSubscriptions(b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(a,c){this.props.threadID===c&&(b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")?this.$18():this.$27(!1),clearInterval(this.$4),this.$4=setInterval(function(){this.$27(!1)}.bind(this),50))}.bind(this)),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(a){clearInterval(this.$4)}.bind(this)),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION,function(a){clearInterval(this.$4)}.bind(this)),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").REMOVE,function(a){this.props.threadID===a&&clearInterval(this.$4)}.bind(this)))};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.hasFetchedAll,d=a.messages,e=a.showContextBanner,f=a.thread;a=a.threadID;var g=b("CurrentUser").getID(),i=b("gkx")("AT572SLwCLmZDDTsXg5I9LZsOQ15AFaFyPW6mF-2-OPcT86erU7KYs2R9o67DUyJwQ6AK0Y7upy2o2--jlRi_7EZ");i=i&&(k.isEmptyLocalThread(a)||c||e);c=!b("MercuryConfig").ChatSeenHeadsEnabled;e=this.state.loadingMessages||!f?b("React").createElement("div",{className:"_1xdl"},b("React").createElement(b("XUISpinner.react"),{background:"light",className:"loading",size:"small"})):null;var m=function(){return this.$15()}.bind(this);f=b("React").createElement(b("FantaPageGreetingLoader.react"),{thread:f,threadID:a});i=i?b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerContextBannerContainer.react").__setRef("FantaConversationScroller.react"),isContinuation:!1,location:b("MercuryShareAttachmentRenderLocations").CHAT,viewer:g,threadID:a}):null;var n=b("React").createElement("div",{className:"accessible_elem"},h._("Chat Conversation Start")),o=b("React").createElement("div",{className:"accessible_elem"},h._("Chat Conversation End"));m=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FantaConversation.react"),babelHelpers["extends"]({onAttachmentLoad:m,scrollbarPadding:this.state.scrollbarPadding,ref:"conversation"},this.props)),b("gkx")("AT7Fdvvof3gB21NGh8Fo7o5af68El03cTnUDtqQrI_yHQbziWN3MyQvvj6iMavHBZ0fTg3S3rpHTM9337zgjjUnM")?b("React").createElement(b("MercuryCamQuickReply.react"),{camQuickReplyWillShow:b("emptyFunction"),camQuickReplyDidShow:function(){return this.$15(!0)}.bind(this),lastMessage:d.size>0?d.last():undefined,threadID:a,viewer:g}):null,b("React").createElement(b("MercuryQuickReply.react"),{lastMessage:d.size>0?d.last():undefined,threadID:a,quickReplyDidShow:function(){return this.$15(!0)}.bind(this),viewer:g,quickCamOriginLocation:b("MessengerQuickCamOrigins").CHAT_TAB}),b("React").createElement(b("ChatTypingIndicatorsWrapper.react"),{threadID:a,indicatorClass:undefined,indicatorsWillShow:b("emptyFunction"),indicatorsDidShow:function(){return this.setState({hideLastMessageIndicator:!0},function(){b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")?this.$20():this.$15(!0)}.bind(this))}.bind(this),indicatorsDidHide:function(){return this.setState({hideLastMessageIndicator:!1})}.bind(this),rootClassName:undefined,viewer:g,onlineUsers:this.props.onlineUsers}),this.renderGroupWave(),c?b("React").createElement(b("MercuryLastMessageIndicator.react"),{isTyping:this.state.hideLastMessageIndicator,indicatorDidShow:function(){b("gkx")("AT5Tksg1z1eIa6YmOH92o0v-zwCN16C1uxMcqW4ABgK3zj0WXDYLwN8d-MFrMPsR3UdYLnPnjw9H3yKbwAuQAAWx")?this.$20():this.$15(!0)}.bind(this),indicatorWillShow:b("emptyFunction"),lastMessage:d.size>0?d.last():null,readReceipts:this.props.readReceipts,threadID:a}):null);g=b("React").createElement("div",{className:"_1xdm"+(e?" _1xdw":"")},b("React").createElement("div",{className:"_1xdx"},b("React").createElement("div",{className:"_1xe8"})),n,i,e,b("React").createElement("div",{style:d.size>0?{height:"176px"}:e?{height:"168px"}:{height:"192px"},className:"_1xdm"},m),o);return j!=null?b("React").createElement(j,{spacerContent:b("React").createElement(b("React").Fragment,null,n,f,i,e),scrollRef:function(a){this.refs.scrollContainer=a}.bind(this)},m,o):b("React").createElement("div",{className:"_2v5j"},b("React").createElement("div",{className:"fbNubFlyoutBody scrollable",onClick:this.$31,ref:"scrollContainer",role:"button",tabIndex:"0"},b("React").createElement("div",{className:"fbNubFlyoutBodyContent"},f,b("React").createElement(b("Grid.react"),{className:"conversationContainer",role:"log",cols:1},b("React").createElement(l,{alignv:"bottom"},g)))))};a.prototype.$22=function(){var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer),c=b("getElementPosition")(a);b("Arbiter").inform("chatScrolled/"+this.props.threadID,{scrollTop:b("Scroll").getTop(a),top:c.y,viewHeight:c.height})};a.prototype.$27=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);c&&this.$32(c.scrollHeight,a)};a.prototype.$32=function(a,c){var d=b("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$5&&this.$5.stop();c===!0?this.$5=new(b("Animation"))(d).to("scrollTop",a).ease(b("Animation").ease.end).duration(400).go():b("Scroll").setTop(d,a)};a.propTypes={hasFetchedAll:c.bool.isRequired,isFocused:c.bool.isRequired,messages:c.object.isRequired,onFocus:c.func,onLoadMoreMessages:c.func.isRequired,onlineUsers:c.instanceOf(b("immutable").List).isRequired,showContextBanner:c.bool,thread:c.object,threadID:c.string.isRequired};e.exports=a}),null);
__d("FantaDragAndDropRow.react",["cx","fbt","ix","Bootloader","Image.react","MessengerEnvironment","MercuryAttachment","React","XUICloseButton.react","XUISpinner.react","emptyFunction","ifRequired","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.props,c=a.threadID,d=a.fileData;b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(a){a.cancelFileUpload(c,d.id)},function(){b("Bootloader").loadModules(["MessengerActions"],function(a){a.cancelFileUpload(c,d.id)},"FantaDragAndDropRow.react")}):b("ifRequired")("FantaMessageActions",function(a){a.cancelFileUpload(c,d.id)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(a){a.cancelFileUpload(c,d.id)},"FantaDragAndDropRow.react")})}.bind(this),c}a.prototype.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"FantaDragAndDropRow.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"FantaDragAndDropRow.react")};a.prototype.render=function(){var a=this.props,c=a.fileData;a=a.isUploaded;c=c.file;var d="";c.type&&(d=b("MercuryAttachment").getAttachIconClassByMime(c.type));d=b("joinClasses")(d,"_3tn");a=a?"done":"";a=b("joinClasses")(a,"_2qh _2qe uploadFileRow");return b("React").createElement("div",{className:a},b("React").createElement(b("XUISpinner.react"),{className:"_2qf"}),b("React").createElement(b("XUICloseButton.react"),{"aria-label":h._("Remove file"),className:"_2qg",shade:"dark",size:"small",onClick:this.$1}),b("React").createElement("div",{className:"_4-te"},b("React").createElement("span",{className:d},b("React").createElement(b("Image.react"),{src:i("86988")})),c.name))};e.exports=a}),null);
__d("FantaDragAndDrop.react",["Bootloader","BootloadOnRender.react","FantaDragAndDropRow.react","FantaTypeComposer","JSResource","LazyComponent.react","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","emptyFunction","gkx","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=960;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){var b=this.props.composer;this.$7(function(c){c.removeSharePreview(a,b)})}.bind(this),this.$4=function(a,b){var c=this.props.composer;this.$7(function(d){d.loadedShareData(a,b,c)})}.bind(this),this.$5=function(a){var b=this.props.composer;this.$7(function(c){c.loadingShareData(a,b)})}.bind(this),b}a.prototype.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"FantaDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"FantaDragAndDrop.react")};a.prototype.shouldComponentUpdate=function(a){var b=this.props,c=b.composer,d=a.composer,e=c.fileUploader,f=e.uploadingFiles;e=e.uploadedFiles;var g=d.fileUploader.uploadingFiles,h=d.fileUploader.uploadedFiles;c=c.sharePreview;d=d.sharePreview;return b.threadID!==a.threadID||!!(!f&&g)||!!(f&&g&&!f.equals(g))||!!(!e&&h)||!!(e&&h&&!e.equals(h))||!!(!c&&d)||!!(c&&d&&!c.equals(d))};a.prototype.render=function(){var a=this.props,c=a.composer;a=a.threadID;var d=c.sharePreview,e=d.share;d=d.uri;c=c.fileUploader;var f=c.uploadingFiles;c=c.uploadedFiles;return b("React").createElement("div",{className:"fbNubFlyoutAttachments"},b("React").createElement("div",{className:"chatAttachmentShelf"},e||d?b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MercurySharePreview.react").__setRef("FantaDragAndDrop.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{onClose:this.$3,onLoaded:this.$4,onLoading:this.$5,threadID:a,imageSize:{width:h,height:h},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:e,uri:d})}):null,!b("gkx")("AT5V6GuV7OE1f4CNmq1NUhZOeDrgnZF-AQ7WoOvZA8jFMJsYzyghwU79Bm31vgH-mi9DAlUGSFnfYvhwjhMfTolYEEzHhgUrhLD2UxTqbooHHw")&&b("React").createElement("div",{ref:function(a){this.$1=a}.bind(this)},this.$6(f,!1),this.$6(c,!0))))};a.prototype.$7=function(a){b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"FantaDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"FantaDragAndDrop.react")})};a.prototype.$6=function(a,c){var d=this.props.threadID;return a&&a.map(function(a){return b("React").createElement(b("FantaDragAndDropRow.react"),{fileData:a,isUploaded:c,key:c?"uped-"+a.id:"uping-"+a.id,threadID:d})}).toArray()};a.propTypes={composer:c.object.isRequired,threadID:c.string.isRequired};e.exports=a}),null);
__d("FantaMercuryTabOverflowBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{items:this.props.items}),loader:b("JSResource")("FantaMercuryTabOverflow.react").__setRef("FantaMercuryTabOverflowBootloader.react"),placeholder:b("React").createElement("div",null)})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("isAdsExcelAddinURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}e.exports=a}),null);
__d("isValidURI",[],(function(a,b,c,d,e,f){var g=new RegExp("((^|\\.)atlassolutions\\.com$)|((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}e.exports=a}),null);
__d("AsyncSignal",["Promise","ErrorUtils","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isBonfireURI","isFacebookURI","isMessengerDotComURI","isValidURI","memoize","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){__p&&__p();var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(b("URI"))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isBonfireURI")(d)||b("isAdsExcelAddinURI")(d)||b("isValidURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);g||(g=new(b("Promise"))(function(a){b("Run").onAfterLoad(a)}));d=g.then(function(){return new(b("Promise"))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,h=b("memoize")(function(){b("ErrorUtils").applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,h()},h));this.timeout&&setTimeout(h,this.timeout)}return this};e.exports=a}),null);
__d("FantaTab.react",["cx","EventProfiler","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=!1,b}a.prototype.componentDidMount=function(){b("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],!0,"click")};a.prototype.render=function(){var a=this.props,c=a.isFocused,d=a.isLastTab,e=a.isLastTabOfType,f=a.MainComponent,g=a.messengerState,h=a.MinimizedComponent,i=a.raisedTabCount,j=a.tab;a=a.tabContent;h=j.isMinimized?h:f;f=j.id+(j.isMinimized?"-minimized":"-maximized");var k=this.$1&&!j.isMinimized;this.$1=j.isMinimized;return b("React").createElement("div",{className:"_5qi9 _5qib"+(this.props.isFocused?" _5qic":"")+(j.isMinimized?" _3001":"")},b("React").createElement(h,{isFocused:c,isHovered:j.isHovered||k,isLastTab:d,isLastTabOfType:e,key:f,messengerState:g,raisedTabCount:i,tab:j,tabContent:a}))};e.exports=a}),null);
__d("FantaTabGroup.react",["cx","FantaTab.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a){return!this.props.tabGroup.equals(a.tabGroup)||this.props.messengerState!==a.messengerState||!!(!this.props.tabContents&&a.tabContents)||!!(this.props.tabContents&&a.tabContents&&!this.props.tabContents.equals(a.tabContents))};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.isLastOfTypeChecker,d=a.MainComponent,e=a.messengerState,f=a.MinimizedComponent,g=a.OverflowComponent,h=a.tabContents;a=a.tabGroup;var i=a.focusedTabID,j=a.getRaisedandUnraisedTabs(),k=j.raisedTabs;j=j.unraisedTabs;var l=void 0;c&&(l=k.findLastKey(function(a){return c(a)&&a.id}));a=a.allowedRaisedTabs===0?null:this.$1(j,g);var m=k.count();return b("React").createElement("div",{className:"_59v1"},a,k.map(function(a){return b("React").createElement(b("FantaTab.react"),{isFocused:a.id===i,isLastTab:a===k.last(),isLastTabOfType:a.id===l,key:a.id,messengerState:e,MainComponent:d,MinimizedComponent:f,raisedTabCount:m,tab:a,tabContent:h&&h.get(a.id)})}).toArray())};a.prototype.$1=function(a,c){return!a.isEmpty()?b("React").createElement("div",{className:"_1kws"},b("React").createElement(c,{items:a})):null};function a(){h.apply(this,arguments)}a.propTypes={MainComponent:c.func.isRequired,messengerState:c.array,MinimizedComponent:c.func.isRequired,OverflowComponent:c.func.isRequired,tabContents:c.object,tabGroup:c.object.isRequired};e.exports=a}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:!0},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryMessageActions").get();a.prototype.send=function(a){var c=arguments.length<=1||arguments[1]===undefined?null:arguments[1],d=arguments.length<=2||arguments[2]===undefined?null:arguments[2],e=arguments.length<=3||arguments[3]===undefined?null:arguments[3],f=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a).setString("ref",d).setString("message_id",e).getURI();c!==null?new(b("AsyncRequest"))().setURI(f).setMethod("POST").setErrorHandler(c).send():new(b("AsyncRequest"))().setURI(f).setMethod("POST").send()};a.prototype.sendAndConfirm=function(a,b,c,d){var e=arguments.length<=4||arguments[4]===undefined?null:arguments[4],f=arguments.length<=5||arguments[5]===undefined?null:arguments[5],g=arguments.length<=6||arguments[6]===undefined?[]:arguments[6],h=arguments.length<=7||arguments[7]===undefined?null:arguments[7];b!==null&&this.sendConfirmationText(b,c,d,g);this.send(a,e,f,h)};a.prototype.sendConfirmationText=function(a,c,d){var e=arguments.length<=3||arguments[3]===undefined?[]:arguments[3];if(!c)b("BanzaiODS").bumpEntityKey("messenger_commerce","confirm_message_failed.empty_threadID");else{var f=new(b("MercuryMessageObject"))(b("CurrentUser").getID()),h=b("getPageIDFromThreadID")(c);b("MNPlatformTagsDataManager").hasThreadTags(h)&&e.concat(b("MNPlatformTagsDataManager").getThreadTags());g.send(f.constructCTAConfirmationMessageObject(a,b("MercurySourceType").TITAN_WEB,c,d,e));e&&e.length>0&&b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};function a(){}e.exports=new a()}),null);
__d("MessengerMDotMeReferralStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("MessengerStore"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null}}a.prototype.getState=function(){"use strict";return this.$MessengerMDotMeReferralStore1};a.prototype.__onDispatch=function(a){"use strict";switch(a.type){case b("MessengerActions").Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=a.refCode,this.$MessengerMDotMeReferralStore1.refThreadID=a.refThreadID,this.emitChange()}};e.exports=new a()}),null);
__d("XMNCommercePostbackRefSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback_ref/",{page_id:{type:"String",required:!0},ref:{type:"String",required:!0},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackRefSendManager",["AsyncRequest","MessengerActions","MessengerMDotMeReferralStore","XMNCommercePostbackRefSendController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.sendMDotMeRef=function(a,c){var d=this.getMdotMeRef();if(this.shouldSendRef(c,a)){c=b("XMNCommercePostbackRefSendController").getURIBuilder().setString("page_id",a).setString("ref",d).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("MessengerActions").changeMDotMeReferral()}};a.prototype.shouldSendRef=function(a,b){return!b||!a?!1:this.hasMDotMeRef(b)};a.prototype.hasMDotMeRef=function(a){var c=b("MessengerMDotMeReferralStore").getState();return!!(c.refCode&&a&&c.refThreadID&&c.refThreadID===a)};a.prototype.getMdotMeRef=function(){var a=b("MessengerMDotMeReferralStore").getState();return a.refCode};function a(){}e.exports=new a()}),null);
__d("FantaPageComposerNullState.react",["cx","fbt","BootloadOnRender.react","FantaAppStore","JSResource","LazyComponent.react","MessengerDiscoveryEntryPoint","MessengerDiscoveryEntryPointsLoggingHelper","MNCommerceCallToActionType","MNCommercePostbackCTADataManager","MNCommercePostbackRefSendManager","React","XUISpinner.react","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(){var a=this.props,c=a.threadID;a=a.nullStateCTA;switch(a.action_type){case b("MNCommerceCallToActionType").OPEN_NATIVE:break;case b("MNCommerceCallToActionType").POSTBACK:default:var d=b("FantaAppStore").getState().tabGroup.tabs.get(c),e=[];d&&d.entryPoint&&d.entryPoint[0]&&Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(d.entryPoint[0])!==-1&&e.push(b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([d.entryPoint[0]]));b("MNCommercePostbackCTADataManager").sendAndConfirm(a.id,a.title,c,null,null,null,e);break}}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:"_2xh0"},this.$1(),b("React").createElement("div",{className:"_2xh4 _59w_"},b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{cta:this.props.nullStateCTA,onClick:this.$2,threadID:this.props.threadID}),loader:b("JSResource")("ChatPageComposerNullState.react").__setRef("FantaPageComposerNullState.react"),placeholder:b("React").createElement(b("XUISpinner.react"),{size:"small"})})))};a.prototype.$1=function(){if(this.props.nullStateCTA!==null)switch(this.props.nullStateCTA.action_type){case b("MNCommerceCallToActionType").OPEN_NATIVE:return null;case b("MNCommerceCallToActionType").POSTBACK:if(!b("MNCommercePostbackRefSendManager").hasMDotMeRef(b("getPageIDFromThreadID")(this.props.threadID))&&!this.props.nullStateCTA.instantgame_metadata)return b("React").createElement("div",{className:"_4teq"},h._("When you tap {cta title}, {name} will see your public info.",[h._param("cta title",this.props.nullStateCTA.title),h._param("name",this.props.pageName)]));break;default:return null}return null};e.exports=a}),null);
__d("FantaPendingActions.react",["Bootloader","BootloadOnRender.react","FantaTabActions","JSResource","LazyComponent.react","MercuryThreadActions","MessengerMessageRequestsTypedLogger","MessageRequestUtils","MessagingTag","React","MercuryIDs","CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MercuryThreadActions").get();c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$3=function(){var a=this.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint(null).log()}.bind(this),this.$4=function(a){var c=this.props.thread;c=!!c&&b("MessageRequestUtils").isFiltered(c);var d=b("CurrentUser").getID();d=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,d);a==="hide"&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(c?"other":"pending").setThreadKey(d).setEntryPoint("inbox_banner").log()}.bind(this),this.$1=function(){__p&&__p();var a=this.props,c=a.thread,d=a.threadID;a=!!c&&b("MessageRequestUtils").isFiltered(c);var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,e);a?b("Bootloader").loadModules(["WebMessengerDeleteThreadDialog"],function(a){a.show(d,this.$3,this.$4,function(){return b("FantaTabActions").closeTab(d)})}.bind(this),"FantaPendingActions.react"):(function(){var a=b("MercuryIDs").isGroupChat(d);b("Bootloader").loadModules(["WebMessengerDeclineMRDialog"],function(e){e.show(c,d,function(){return b("FantaTabActions").closeTab(d)},a)},"FantaPendingActions.react")})();new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(e).setEntryPoint(null).log()}.bind(this),this.$2=function(){var a=this.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.threadID,c);h.changeFolder(this.props.threadID,b("MessagingTag").INBOX);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint(null).log()}.bind(this),c}a.prototype.render=function(){var a=this.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatPendingActions.react").__setRef("FantaPendingActions.react"),placeholder:b("React").createElement("div",{style:{height:27}}),component:b("React").createElement(b("LazyComponent.react"),{isFiltered:a,onDeleteClick:this.$1,onReplyClick:this.$2})})};e.exports=a}),null);
__d("getEveryoneMentionIndex",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.findIndex(function(a){return a.type=="t"})}e.exports=a}),null);
__d("FantaTabComposer.react",["fbt","ChatTabComposerContainer.react","FantaTabActions","FantaTypeComposer","Keys","LogHistory","MercuryIDs","MercuryThreadIDMap","MercuryThreads","PhotosUploadWaterfall","React","SimpleXUIDialog","TypingDetectorController","WaterfallIDGenerator","WorkFileUploadsGating","XUIDialogButton.react","XUIDialogCancelButton.react","emptyFunction","getEveryoneMentionIndex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MercuryThreadIDMap").get(),j=b("MercuryThreads").get(),k=b("LogHistory").getInstance("chat_tab_view");c=b("React").PropTypes;var l=/^\s*$/;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=b("WaterfallIDGenerator").generate(),this.$16=function(a){this.$1=a,this.props.isFocused&&!j.isNewEmptyLocalThread(this.props.threadID)&&this.focusInput()}.bind(this),this.$5=function(a,c){var d=this.props.threadID;i.getServerIDFromClientID(d,function(e){this.$2=new(b("TypingDetectorController"))(b("MercuryIDs").getUserIDFromThreadID(d),a,"mercury-chat",null,e,c)}.bind(this))}.bind(this),this.$15=function(a){this.$17(b("PhotosUploadWaterfall").UPLOAD_START,a),this.props.onSendPhoto(a,this.$1.onSend),this.$18("submit",a),this.focusInput()}.bind(this),this.$9=function(a){this.$17(b("PhotosUploadWaterfall").CLIENT_ERROR,a),this.$18("failed",a)}.bind(this),this.$11=function(a){this.$17(b("PhotosUploadWaterfall").CLIENT_ERROR,a),this.$18("failed",a)}.bind(this),this.$13=function(a){this.$17(b("PhotosUploadWaterfall").CANCEL_DURING_UPLOAD,a),this.$18("canceled",a)}.bind(this),this.$14=function(a){this.$17(b("PhotosUploadWaterfall").ALL_UPLOADS_DONE,a);this.$18("completed",a);a=a.image_ids.length||a.attachments.length;this.$19(a)}.bind(this),this.$10=function(){this.props.onSendMessage("",this.props.composer,this.$1.onSend)}.bind(this),this.$12=function(a){this.props.onSelectSticker(a,function(){return this.$1.getInput()&&this.$1.getInput().focus()}.bind(this))}.bind(this),this.$7=function(a,b,c){this.props.onSendHotLike(a.emoji,b,c,function(){return this.$1.getInput()&&this.$1.getInput().focus()}.bind(this))}.bind(this),this.$8=function(a){this.$1.getInput().insertEmoji(a)}.bind(this),this.$6=function(event,a){var c=this.props.threadID;event.keyCode===b("Keys").RETURN&&!event.shiftKey&&(event.preventDefault(),this.$4(a));if(event.keyCode===b("Keys").DOWN&&event.shiftKey&&this.hasEmptyInput()){b("FantaTabActions").minimizeTab(c);return}}.bind(this),this.$4=function(a){var c=this.$22();if(c){var d=b("getEveryoneMentionIndex")(c)>-1;d?this.$20(a,c):this.$21(a,c)}else this.$21(a,[])}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.props,b=a.threadID;a=a.participants;this.props.isFocused&&a.length>0&&!j.isEmptyLocalThread(b)&&this.focusInput()};a.prototype.componentDidUpdate=function(a){this.props.isFocused&&this.props.isFocused!==a.isFocused&&!j.isEmptyLocalThread(this.props.threadID)&&this.focusInput()};a.prototype.componentWillUnmount=function(){this.$2&&this.$2.destroy()};a.prototype.render=function(){var a=this.props,c=a.participants,d=a.threadID;a=a.viewer;return c.length===0?b("React").createElement("div",null):b("React").createElement(b("ChatTabComposerContainer.react"),{composer:this.props.composer,disableInput:this.props.disableInput,disableFileUploads:!b("WorkFileUploadsGating").canUploadFiles,fileUploader:this.props.fileUploader,handleSend:this.$4,initializeThingsWithInputFn:this.$5,inputKeyDown:this.$6,onBlur:b("emptyFunction"),onCustomLikeSelect:this.$7,onEmojiSelect:this.$8,onEscape:this.props.onEscape,onFileUploadFail:this.$9,onMount:function(){},onP2PTrigger:this.$10,onPhotoUploadFail:this.$11,onStickerSelect:this.$12,onTab:this.props.onTab,onUploadCancel:this.$13,onUploadComplete:this.$14,onUploadSubmit:this.$15,placeholder:g._("Type a message..."),ref:this.$16,resizeFn:function(){},threadID:d,viewer:a})};a.prototype.$17=function(a,c){b("PhotosUploadWaterfall").sendSignal(babelHelpers["extends"]({qn:this.$3,step:a,uploader:b("PhotosUploadWaterfall").APP_CHAT},c||{}))};a.prototype.$19=function(a){if(a===0)return;this.$17(b("PhotosUploadWaterfall").POST_PUBLISHED,{count:a});this.$3=b("WaterfallIDGenerator").generate()};a.prototype.$18=function(a,b){k.debug("photo_uploader:"+a,"{}")};a.prototype.$20=function(a,c){var d=g._("Mention everyone?").toString(),e=g._("Doing so will send a mention to everyone in this group.").toString(),f=g._("Mention \u0040everyone!").toString();f=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:f,use:"confirm",onClick:function(){this.$21(a,c)}.bind(this)}));b("SimpleXUIDialog").showEx(e,d,f,null,null)};a.prototype.$21=function(a,b){this.props.onSendMessage({message:a,mentions:b},this.props.composer,this.$1.onSend);return};a.prototype.focusInput=function(){this.$1&&this.$1.getInput()&&this.$1.getInput().focus()};a.prototype.$23=function(){return this.$1&&this.$1.getInput()&&this.$1.getInput().getValue()||""};a.prototype.$22=function(){if(!this.$1)return null;var a=this.$1.getInput();return a&&a.getMentions?a.getMentions():null};a.prototype.hasEmptyInput=function(){return l.test(this.$23())};a.propTypes={fileUploader:c.object,isFocused:c.bool.isRequired,onEscape:c.func.isRequired,onSelectSticker:c.func.isRequired,onSendHotLike:c.func.isRequired,onSendMessage:c.func.isRequired,onSendPhoto:c.func.isRequired,onTab:c.func.isRequired,participants:c.array.isRequired,threadID:c.string.isRequired,viewer:c.string.isRequired};e.exports=a}),null);
__d("FantaTabSheetPlaceholder.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("React").createElement("div",{className:"_w_z"},b("React").createElement(b("XUISpinner.react"),null))};e.exports=a}),null);
__d("FantaTabSheet.react",["cx","BootloadedComponent.react","CurrentUser","FantaTabSheetActions","FantaTabSheetPlaceholder.react","JSResource","MercuryIDs","MercuryMessages","MercuryParticipants","MercurySheetPolicy","MessengerGroupsSyncStatus","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MercuryMessages").get();c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!b.tabContent.equals(a.tabContent)};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.threadID;a=a.tabContent;var d=a.loggingID,e=a.openSheet,f=a.privacyController,g=a.thread,h=a.typeahead,j=void 0;switch(e){case b("MercurySheetPolicy").sheets.ChatThreadIsMutedTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetChatThreadIsMuted.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatNameConversationTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetNameConversation.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement(b("FantaTabSheetPlaceholder.react"),null),key:e,thread:g,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet:var k=b("MercuryIDs").getUserIDFromThreadID(c);if(k){k=b("MercuryParticipants").getNow(b("MercuryIDs").getParticipantIDFromUserID(k));k&&f&&(j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserBlockedTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),gender:k.gender,key:e,privacyActionController:f,shortName:k.short_name}))}break;case b("MercurySheetPolicy").sheets.ChatOfflineTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetOffline.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,privacyController:f,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatReadOnlyTabSheet:case b("MercurySheetPolicy").sheets.ChatReadOnlyPermanentTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetReadOnly.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,threadID:c});break;case b("MercurySheetPolicy").sheets.FantaAddFriendsSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetAddFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement(b("FantaTabSheetPlaceholder.react"),null),key:e,loggingID:d,thread:g,threadID:c,typeahead:h});break;case b("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetAddMoreFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement(b("FantaTabSheetPlaceholder.react"),null),key:e,loggingID:d,thread:g,threadID:c,typeahead:h});break;case b("MercurySheetPolicy").sheets.ChatThreadIsMessageBlockedSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetMessageBlocked.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatUserFocusSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserFocusSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,thread:g,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserFocusBypassSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e});break;case b("MercurySheetPolicy").sheets.ChatUserTimezoneSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserTimezoneSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),data:a.timezoneInfo,key:e,onDismiss:function(){return b("FantaTabSheetActions").closeUserTimezoneSheet(c)},resize:b("emptyFunction"),threadID:c});break;case b("MercurySheetPolicy").sheets.ChatUploadWarningTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUploadWarningTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e});break;case b("MercurySheetPolicy").sheets.ChatNoRecipientsTabSheet:b("MercuryIDs").isCanonical(c)||(j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatNoRecipientsTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e}));break;case b("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaNewMessagesTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatEmployeeAwaySheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEmployeeAwaySheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e});break;case b("MercurySheetPolicy").sheets.ChatEventReminderTabSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaEventReminderTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,threadID:c});break;case b("MercurySheetPolicy").sheets.ChatAppointmentBanner:if(g){k=i.getCurrentlyLoadedMessages(c);j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatAppointmentBannerRoot.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),pageID:g.other_user_fbid,userID:b("CurrentUser").getID(),count:100,messageList:k,appointmentBannerDidUpdate:b("emptyFunction"),key:e,threadID:c})}break;case b("MercurySheetPolicy").sheets.ChatMontageSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatMontageSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,threadID:c,onResize:b("emptyFunction")});break;case b("MercurySheetPolicy").sheets.ChatJoinCallSheet:if(g){f=g.rtc_call_data;d=g.thread_fbid;j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatJoinCallSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,rtcCallData:f,threadFBID:d})}break;case b("MercurySheetPolicy").sheets.ChatRoomAssociatedObjectSheet:if(g){h=g.associated_object;j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatRoomAssociatedObjectSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,associatedObject:h})}break;case b("MercurySheetPolicy").sheets.ChatWorkDoNotDisturbSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatWorkDoNotDisturbSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,description:a.workAvailabilityHumanReadable});break;case b("MercurySheetPolicy").sheets.ChatMentorshipProgramSheet:j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MentorshipProgramSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,mentorship:a.mentorship});break;case b("MercurySheetPolicy").sheets.ChatGroupsSyncTabSheet:g&&g.groups_sync_status==b("MessengerGroupsSyncStatus").OPT_IN&&g.groups_sync_fb_url&&(j=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatGroupsSyncTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").createElement("div",null),key:e,url:g.groups_sync_fb_url}));break}return j?b("React").createElement("div",{className:"_1sk5"},b("React").createElement("div",{className:"_1sk6"},j)):null};function a(){h.apply(this,arguments)}a.propTypes={threadID:c.string.isRequired,tabContent:c.object.isRequired};e.exports=a}),null);
__d("MessengerParticipantUtils.bs",["bs_caml_obj","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return c.has(a)})}function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}f.findIntersection=g;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a}),null);
__d("FantaTabMain.react",["cx","fbt","invariant","Bootloader","BootloadOnRender.react","ChatBehavior","ChatTabBlinking","CurrentUser","DragDropTarget","Event","FantaAvailableStatus","FantaChatHeaderContainer.react","FantaConversationScroller.react","FantaDispatcher","FantaDragAndDrop.react","FantaMessageActions","FantaPageComposerNullState.react","FantaPendingActions.react","FantaTabActions","FantaTabComposer.react","FantaTabSheet.react","FBIDCheck","immutable","JSResource","Keys","LazyComponent.react","MercuryIDs","MercuryParticipants","MessageRequestUtils","MessagingTagConstants","MessengerBotMenuDataFetcher","MessengerParticipantUtils.bs","MessengerState.bs","MNCommercePageSetting","Parent","React","ReactDOM","SimpleXUIDialog","TrackingNodes","WorkFileUploadsGating","convertMIGColorToFIGColor","getPageIDFromThreadID","getVendorPrefixedEventName","gkx","idx","ifRequired","joinClasses","throttle","MarketplaceWWWFeatureGating"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=/\D+/g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={closing:!1,disableInput:!1},this.$20=function(event){var a=!!b("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),c=!!b("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id);if(!a||!c){if(this.$9){clearTimeout(this.$9);this.$9=null;return}b("FantaTabActions").hoveredTab(this.props.tab.id)}}.bind(this),this.$21=function(event){var a=!!b("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),c=!!b("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id);(!a||!c)&&(this.$9&&clearTimeout(this.$9),this.$9=setTimeout(function(){this.$9=null,b("FantaTabActions").unhoveredTab(this.props.tab.id)}.bind(this),500))}.bind(this),this.$18=function(event){var a=!!b("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),c=!!b("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id);(!a||!c)&&(!event.relatedTarget||!event.target?this.$7=setTimeout(function(){this.$7=null,this.$22(this.props.tab.id)}.bind(this),100):this.$22(this.props.tab.id))}.bind(this),this.$19=function(event){if(this.$7){clearTimeout(this.$7);this.$7=null;return}var a=!!b("Parent").byClass(event.target,"fantaTabMain-"+this.props.tab.id),c=!!b("Parent").byClass(event.relatedTarget,"fantaTabMain-"+this.props.tab.id),d=event.target;d&&d.classList&&(d.classList.contains("_3olu")||d.classList.contains("_61td")||d.classList.contains("_4zs3"))||(!a||!c)&&(b("FantaDispatcher").isDispatching()||b("FantaTabActions").focusTab(this.props.tab.id))}.bind(this),this.$24=function(a){b("FantaMessageActions").linkPreview(this.props.tab.id,a)}.bind(this),this.$23=function(a){var c=this.props.tabContent;c=c||{};c=c.composer;var d=this.props.tab.id,e=!1;b("gkx")("AT44gcd7lpH2YiclJ-LHsuuoRRi7VIOizU9LdST-uko3uQzHBXGOu3PdlMr4PkOBovUmJRjA-IeSNbDkk89bQ4wq8b7BDIrax8JSG-E9Uz6KPQ")&&b("ifRequired")("MercuryThreads",function(a){return e=a.get().isEmptyLocalThread(d)});c&&!e&&b("FantaMessageActions").prepareFilesForSend(d,a,c)}.bind(this),this.$15=function(a){a.keyCode===b("Keys").ESC&&(this.$2(!0),a.preventDefault(),a.stopPropagation())}.bind(this),this.$16=function(a){a.keyCode===b("Keys").TAB&&this.$17(a)}.bind(this),this.$17=function(event){var a=this.props.raisedTabCount;a>1&&(event.preventDefault(),this.$3(event.ctrlKey,event.shiftKey))}.bind(this),this.$2=function(a){!this.refs.composer||this.refs.composer.hasEmptyInput()&&!this.$25()?this.$26(a):this.$27(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$2=b("throttle")(this.$2,100),this.$3=b("throttle")(this.$3,100)};a.prototype.componentDidMount=function(){this.$10(),this.$11(),this.$12(this.props.tab.id),this.$13(),this.$14()};a.prototype.componentDidUpdate=function(){this.$11()};a.prototype.componentWillUnmount=function(){this.$4&&this.$4.disable()};a.prototype.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return c.hasFetchedAll!==a.hasFetchedAll||c.isFocused!==a.isFocused||c.isHovered!==a.isHovered||c.isLastGroupTab!==a.isLastGroupTab||!c.messages.equals(a.messages)||!c.tab.equals(a.tab)||!c.tabContent&&!!a.tabContent||c.tabContent&&!c.tabContent.equals(a.tabContent)||c.thread!==a.thread||c.messengerState!==a.messengerState||d.closing!==b.closing||d.disableInput!==b.disableInput||!c.onlineUsers.equals(a.onlineUsers)};a.prototype.$11=function(){__p&&__p();var a=this.props,c=a.tab;a=a.thread;c=c.id;if(!a)return;var d=this.refs.root&&b("ReactDOM").findDOMNode(this.refs.root);if(!d)return;a=a.unread_count;if(a!==undefined){a=!!a&&(!b("ChatBehavior").showsTabUnreadUI||b("ChatBehavior").showsTabUnreadUI());a?b("ChatTabBlinking").blinkTab(c,{getTabElem:function(){return d},isFocused:function(){return this.props.isFocused}.bind(this),isHovered:function(){return!1}}):b("ChatTabBlinking").unblinkTab(c)}};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.hasFetchedAll,d=a.isFocused,e=a.isHovered,f=a.isLastGroupTab,g=a.messages,j=a.onLoadMoreMessages,k=a.onSelectSticker,l=a.onSendHotLike,m=a.onSendMessage,n=a.onSendPhoto,o=a.showContextBanner,p=a.tab,q=a.tabContent;a=a.thread;p=p.id;var r=b("CurrentUser").getID(),s=q&&q.composer.fileUploader,t=q&&q.composer.sharePreview,u=s&&s.uploadingFiles,v=s&&s.uploadedFiles,w=a&&b("convertMIGColorToFIGColor")(a.custom_color),x=q&&q.nullStateCTA,y=x&&a&&a.message_count===0,z=a&&a.participants||[],A=q&&q.threadPreviewRecipients||b("immutable").List();z=z.length>0?z:A.toArray();A=(A=this.props)!=null?(A=A.thread)!=null?A.other_user_fbid:A:A;A=A?b("MercuryParticipants").getNow(b("MercuryIDs").getParticipantIDFromUserID(A)):null;A=A&&A.short_name||"page";var B=b("getPageIDFromThreadID")(this.props.tab.id);y=a&&b("MessageRequestUtils").isMessageRequest(a)?b("React").createElement(b("FantaPendingActions.react"),{thread:a,threadID:p}):y&&x?b("React").createElement(b("FantaPageComposerNullState.react"),{threadID:p,nullStateCTA:x,pageName:A}):q?b("React").createElement("div",{className:"fbNubFlyoutFooter"+(this.state.disableInput?" fbNubFlyoutComposerDisabled":"")},b("React").createElement(b("FantaTabComposer.react"),{composer:q.composer,disableInput:this.state.disableInput,fileUploader:s,isFocused:d,onEscape:this.$15,onKeyDown:this.$15,onKeyPress:this.$16,onSelectSticker:k,onSendHotLike:l,onSendMessage:m,onSendPhoto:n,onTab:this.$17,ref:"composer",participants:z,threadID:p,viewer:r})):null;x=b("FantaAvailableStatus").isAvailable(a,p);!q&&i(0);A=b("React").createElement(b("FantaTabSheet.react"),{tabContent:q,threadID:p});k=(s=a)!=null?s.marketplace_thread_data:s;m=(l=k)!=null?l.for_sale_item:l;z=(n=k)!=null?n.buyer_fbid:n;l=(s=k)!=null?s.seller_fbid:s;n=void 0;if(m&&z&&l){k=b("MarketplaceWWWFeatureGating").marketplaceWWWMessengerBanner;n=k?b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MarketplaceMessengerContextBanner.react").__setRef("FantaTabMain.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{buyerID:z,forSaleItem:m,renderLocation:"chat",sellerID:l})}):null}s=q&&q.isMultiCompany;z=q&&q.joinableInterstitialData?b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatJoinableInterstitialPreview.react").__setRef("FantaTabMain.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{data:q.joinableInterstitialData,isActive:d,onClose:this.$2})}):b("React").createElement("div",{className:"fbNubFlyoutInner"},b("React").createElement(b("FantaChatHeaderContainer.react"),{blockedIDs:b("MessengerState.bs").blockedIds(this.props.messengerState),composer:q.composer,customColor:w,isFocused:d,isLastGroupTab:f,isMultiCompany:s,membershipParticipants:q.membershipParticipants,onClose:this.$2,thread:a,threadID:p,viewer:r}),b("React").createElement("div",{className:"_1ia _2sz2",ref:function(a){this.$5=a}.bind(this)},A,b("React").createElement(b("FantaConversationScroller.react"),{hasFetchedAll:c,isFocused:d,messages:g,onFocus:function(){return this.refs.composer&&this.refs.composer.focusInput()}.bind(this),onLoadMoreMessages:j,onlineUsers:this.props.onlineUsers,readReceipts:b("MessengerState.bs").readReceiptsPerThread(this.props.messengerState),showContextBanner:o,thread:a,threadID:p,viewer:r}),b("React").createElement("div",{className:"_3bpu"}),b("React").createElement("div",{className:"_2hc2"},b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("P2PChatThreadBannerContainer.react").__setRef("FantaTabMain.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{isVisible:!0,otherUserID:b("MercuryIDs").getUserIDFromThreadID(p),threadID:p})})),b("React").createElement("div",{className:"_4g6x"},b("React").createElement("div",{className:"_4g6y"},b("React").createElement("div",{className:"_4g6z _4g71"},h._("Drag Link\/Files Here")),b("React").createElement("div",{className:"_4g6z _4g6- _4g6_"},h._("Drop Files Here")),b("React").createElement("div",{className:"_4g6z _4g6- _4g70"},h._("Drop Link Here")))),B&&b("gkx")("AT6sbgm7rc2lUrfkuLmhGQcvGZoC5P9uoMvWR1gdSA6TrdITISrYRi27xHKWuRHMYoI4W7RaxO4KyBa-w6z3OpbbspZrp85jUpATWVUJp3E46w")?b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{originalElement:y,pageID:B,playLinkClassName:"_2xh6 _2h_r",showGameImage:!0,threadFBID:(k=this.props)!=null?(k=k.thread)!=null?k.thread_fbid:k:k,threadID:p}),loader:b("JSResource")("MessengerGameBotPlayButton.react").__setRef("FantaTabMain.react"),placeholder:b("React").createElement("div",null)}):y,b("React").createElement(b("FantaDragAndDrop.react"),{composer:q.composer,threadID:p,uploadedFiles:v,uploadingFiles:u,sharePreview:t}),n));return b("React").createElement("div",{className:b("joinClasses")((this.state.closing?"_2suj":"")+" _3_9e _s0f _50mz _50m_"+(x?" _4-0b":"")+" fbNub _50-v"+(d?" focusedTab":"")+(e?" hoveredTab":"")+" opened _27_3"+(b("gkx")("AT74KMJ8RYhvB1tMU93uHQ5gZqTAUi_w-rBy6KswPeaIPbVgyCy23kvmxPapx5bD4puY3bmrQeh4Z7ALUGarUq4kATHuSQM2CsFm5KKmhgZoYA")?" _68h9":"")+(!b("CurrentUser").isWorkUser()&&!B&&b("gkx")("AT4vZBWyiZL1KZrir2lJt4vVNMIYu8sDbA3PtNwJWZh5seJSYZeYdmCgqH3wgiUS4PfslnEPm3wz9jSsjDINBCSy")?" _68mb":""),"fantaTabMain-"+p),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.CHAT_FLYOUT),onBlur:this.$18,onFocus:this.$19,onKeyDown:this.$15,onKeyPress:this.$16,onMouseEnter:this.$20,onMouseLeave:this.$21,ref:"root"},b("React").createElement("div",{className:"fbNubFlyout fbDockChatTabFlyout uiContextualLayerParent",role:"complementary"},b("React").createElement("div",{className:"fbNubFlyoutOuter"},z)))};a.prototype.$22=function(a){b("FantaDispatcher").isDispatching()||b("FantaTabActions").blurTab(this.props.tab.id),this.$9&&(clearTimeout(this.$9),this.$9=null),b("FantaTabActions").unhoveredTab(a)};a.prototype.$14=function(){var a=b("getPageIDFromThreadID")(this.props.tab.id);a&&b("MessengerBotMenuDataFetcher").getHasPageSetting(a,function(a){this.setState({disableInput:a})}.bind(this),function(){this.setState({disableInput:!1})}.bind(this),b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED)};a.prototype.$10=function(){__p&&__p();if(b("WorkFileUploadsGating").canUploadFiles&&!this.$4){var a=b("ReactDOM").findDOMNode(this.$5);if(a){a=new(b("DragDropTarget"))(a);this.$4=a;a.setOnFilesDropCallback(this.$23);a.setOnURLDropCallback(this.$24);a.enable()}}};a.prototype.$3=function(a,c){a||(c?b("FantaTabActions").focusPreviousTab():b("FantaTabActions").focusNextTab())};a.prototype.$25=function(){return this.$28()||this.$29()};a.prototype.$28=function(){var a,b=this.props.tabContent;a=((a=b)!=null?(a=a.composer)!=null?(a=a.fileUploader)!=null?a.uploadedFiles:a:a:a)||{size:0};b=((b=b)!=null?(b=b.composer)!=null?(b=b.fileUploader)!=null?b.uploadingFiles:b:b:b)||{size:0};return a.size>0||b.size>0};a.prototype.$29=function(){var a=this.props.tabContent;a=(a=a)!=null?(a=a.composer)!=null?a.sharePreview:a:a;return!!(a&&a.params&&a.type)};a.prototype.$26=function(a){var c=this.props.tab,d=b("ReactDOM").findDOMNode(this.refs.root);this.$1=setTimeout(function(){return a?b("FantaTabActions").closeAndTabNext(c.id):b("FantaTabActions").closeTab(c.id)},1.2*b("ifRequired")("cssVar",function(a){return"200ms".replace(k,"")},function(){return 200}));var e=b("Event").listen(d,b("getVendorPrefixedEventName")("animationend"),function(d){d.animationName==="closeChatTab"&&(a?b("FantaTabActions").closeAndTabNext(c.id):b("FantaTabActions").closeTab(c.id),clearTimeout(this.$1),e.remove())}.bind(this));this.$30();this.setState({closing:!0})};a.prototype.$27=function(a){var c=this.props.tab,d=c.id;b("FantaTabActions").blurTab(d);c=h._("Are you sure you want to close this chat window?");var e=h._("You haven't sent your message.");b("SimpleXUIDialog").showConfirm(c,e,function(c){c?a?b("FantaTabActions").closeAndTabNext(d):b("FantaTabActions").closeTab(d):b("FantaTabActions").focusTab(d)},{autofocusConfirm:!0,useReactFocusBehavior:!0})};a.prototype.$13=function(){this.$8=Math.floor(Date.now()/1e3)};a.prototype.$30=function(){var a=this.props.thread,c=a?a.other_user_fbid:null,d=Math.floor(Date.now()/1e3),e=this.$8;a&&c&&!b("FBIDCheck").isUser_deprecated(c)&&b("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesEventObserver","PagesEventType"],function(b,f,g,h,i){b.log(c,f.CLICK,g.MESSAGE_FANTA_TAB_CLOSE,"",["pages_surface_team"],{open_tab_timestamp:e,close_tab_timestamp:d,last_message_timestamp:a.last_message_timestamp,message_count:a.message_count,snippet_sender:a.snippet_sender,participants:a.participants}),h.notify(i.MESSAGES_FANTA_TAB_CLOSE,c,{open_tab_timestamp:e,close_tab_timestamp:d,last_message_timestamp:a.last_message_timestamp,message_count:a.message_count,snippet_sender:a.snippet_sender,participants:a.participants})},"FantaTabMain.react")};a.prototype.$12=function(a){__p&&__p();if(!b("MercuryIDs").isValidThreadID(a))return;b("Bootloader").loadModules(["GroupChatMessageBlockAlert","GroupChatMessageIgnoreAlert","MercuryIgnoredBlockedParticipants.bs","MercuryThreadActions","MercuryThreads"],function(c,d,e,f,g){__p&&__p();var h=f.get();f=g.get();f.getThreadMeta(a,function(f){var g=b("MessengerState.bs").fbid(this.props.messengerState),i=b("MessengerState.bs").ignoredIds(this.props.messengerState);b("MessengerState.bs").compute(g,function(j){j=j.blocked_ids;e.isPresentInGroupThread(g,j,f)?c.show(e.participantsInGroupThread(g,j,f),function(){b("FantaTabActions").focusTab(a)},function(){b("FantaTabActions").closeTab(a),h.leaveGroup(a)}):b("MessengerParticipantUtils.bs").areParticipantsInGroupThread(g,i,f)&&f.folder==="inbox"&&b("gkx")("AT6sQjs7GRVhEipNW3TkmIJi_BHZa2KKyD-Mi9QicLxYmeTJYm7WWpq-_Rh-wyDoXW1BNvzANnO7tf1hMqNgPGMF")&&d.show(b("MessengerParticipantUtils.bs").participantsInGroupThread(g,i,f),b("MercuryIDs").getThreadFBIDFromThreadID(a),function(){b("FantaTabActions").focusTab(a)},function(){b("FantaTabActions").closeTab(a),b("Bootloader").loadModules(["IgnoreMessagesTypedLogger","IgnoreMessagesLoggingEvent","IgnoreMessagesPlatforms"],function(c,d,e){h.changeFolder(a,b("MessagingTagConstants").other),new c().setEvent(d.IGNORE_CONFIRMED).setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform(e.CHAT_TABS).log()},"FantaTabMain.react")})})}.bind(this))}.bind(this),"FantaTabMain.react")};a.propTypes={hasFetchedAll:c.bool.isRequired,isFocused:c.bool.isRequired,isHovered:c.bool.isRequired,isLastGroupTab:c.bool.isRequired,messages:c.object,messengerState:c.array,onlineUsers:c.instanceOf(b("immutable").List).isRequired,onLoadMoreMessages:c.func.isRequired,onSelectSticker:c.func.isRequired,onSendHotLike:c.func.isRequired,onSendMessage:c.func.isRequired,onSendPhoto:c.func.isRequired,raisedTabCount:c.number,showContextBanner:c.bool,tab:c.object.isRequired,tabContent:c.object,thread:c.object};e.exports=a}),null);
__d("FantaTabMainLoader.react",["Bootloader","FantaAppStore","FantaAvailableStatus","FantaGetMessageActions","FantaMessageActions","FantaTabMain.react","immutable","MercuryConfig","MercuryIDs","React","TimeSlice","emptyFunction","idx","requestIdleCallback","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h=function(a){__p&&__p();b("FantaAppStore").addReducers(a);a=b("FantaAppStore").getState();var c=(a=a)!=null?(a=a.mercury)!=null?a.tabContents:a:a;c&&(function(){var a=c.reduce(function(a,b){b=b.thread;b&&a.push(b);return a},[]);b("setImmediate")(function(){return b("FantaGetMessageActions").threadsUpdated(a)})})();h=b("emptyFunction")};d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$2=function(){var a=this.props.tab;b("FantaGetMessageActions").fetchMoreMessages(a.id)}.bind(this),this.$3=function(a,c){var d=this.props.tab;b("FantaMessageActions").sendSticker(d.id,a,c)}.bind(this),this.$4=function(a,c,d,e){var f=this.props.tab;b("FantaMessageActions").sendHotLike(f.id,a,c,d,e)}.bind(this),this.$5=function(a,c,d){var e=this.props.tab;b("FantaMessageActions").sendMessage(e.id,a,c,d)}.bind(this),this.$6=function(a,c){var d=this.props.tab;b("FantaMessageActions").sendPhoto(d.id,a,c)}.bind(this),c}a.prototype.shouldComponentUpdate=function(a){var b=this.props;return b.isFocused!==a.isFocused||b.isHovered!==a.isHovered||b.isLastTabOfType!==a.isLastTabOfType||b.messengerState!==a.messengerState||!b.tab.equals(a.tab)||!b.tabContent.equals(a.tabContent)};a.prototype.componentDidMount=function(){var a=function(){b("Bootloader").loadModules(["FantaReducersTabSheets"],h,"FantaTabMainLoader.react")};b("TimeSlice").guard(function(){b("requestIdleCallback")(a)},"additional request not needed for initial display",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.isFocused,d=a.isHovered,e=a.isLastTabOfType,f=a.messengerState,g=a.raisedTabCount,h=a.tab;a=a.tabContent;var i=a.hasFetchedAll,j=a.showContextBanner,k=a.thread,l=a.threadPreviewID,m=a.messages;l=l?h.id+"-"+l:h.id;if(!a)return b("React").createElement("div",{key:"noContent-"+l});m||(m=b("immutable").List());var n=b("immutable").List([]);b("MercuryConfig").GDWC&&(n=this.$1(k,h));return b("React").createElement(b("FantaTabMain.react"),{hasFetchedAll:i,isFocused:c,isHovered:d,isLastGroupTab:e,key:l,messages:m,messengerState:f,onlineUsers:n,onLoadMoreMessages:this.$2,onSelectSticker:this.$3,onSendHotLike:this.$4,onSendMessage:this.$5,onSendPhoto:this.$6,raisedTabCount:g,showContextBanner:j,tab:h,tabContent:a,thread:k})};a.prototype.$1=function(a,c){__p&&__p();var d=b("MercuryIDs").getUserIDFromThreadID(c.id),e=[];d?e=b("FantaAvailableStatus").isAvailable(a,c.id)?[d]:[]:a&&(e=a.participants.filter(function(a){if(!a)return!1;a=b("MercuryIDs").getThreadIDFromParticipantID(a);if(!a)return!1;a=b("FantaAvailableStatus").isAvailable(null,a);return a}),e=e.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)||""}));return b("immutable").List(e)};a.propTypes={isFocused:c.bool.isRequired,isHovered:c.bool.isRequired,isLastTabOfType:c.bool.isRequired,messengerState:c.array,raisedTabCount:c.number,tab:c.object.isRequired,tabContent:c.object};e.exports=a}),null);
__d("FantaTabMinimized.react",["cx","fbt","ChatBehavior","ChatTabBlinking","ChatTabHeaderContainer.react","CurrentUser","Event","FantaAvailableStatus","FantaTabActions","React","ReactDOM","SimpleXUIDialog","emptyFunction","getVendorPrefixedEventName","ifRequired"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=/\D+/g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={closing:!1},this.$4=function(){var a=this.props.tabContent;!a||a&&a.composer.text.length===0?this.$5():this.$6()}.bind(this),this.$3=function(event){var a=event.target;a&&a.classList&&!a.classList.contains("button")&&(event.preventDefault(),b("FantaTabActions").unminimizeTab(this.props.tab.id),b("FantaTabActions").focusTab(this.props.tab.id))}.bind(this),c}a.prototype.componentDidMount=function(){this.$2()};a.prototype.componentDidUpdate=function(){this.$2()};a.prototype.shouldComponentUpdate=function(a){var b=this.props;return!b.tab.equals(a.tab)||!b.tabContent&&!!a.tabContent||!!b.tabContent&&!b.tabContent.equals(a.tabContent)};a.prototype.$2=function(){__p&&__p();var a=this.props,c=a.tab;a=a.tabContent;c=c.id;if(!a)return;a=a.thread;if(!a)return;var d=this.refs.root&&b("ReactDOM").findDOMNode(this.refs.root);if(!d)return;a=a.unread_count;if(a!==undefined){a=!!a&&(!b("ChatBehavior").showsTabUnreadUI||b("ChatBehavior").showsTabUnreadUI());a?b("ChatTabBlinking").blinkTab(c,{getTabElem:function(){return d},isFocused:function(){return!1},isHovered:function(){return!1}}):b("ChatTabBlinking").unblinkTab(c)}};a.prototype.render=function(){var a=this.props,c=a.tab;a=a.tabContent;var d=a&&a.thread&&a.thread.custom_color,e=d?{color:d}:null;c=c.id;c=a&&!!a.thread&&b("FantaAvailableStatus").isAvailable(a.thread,c);return b("React").createElement("div",{className:"_4cd8 _50mz _50m_ fbNub _50-v"+(c?" _4-0b":"")+" _27_3",ref:"root"},b("React").createElement("div",{className:(this.state.closing?"_2suj":"")+" clearfix fbNubFlyoutTitlebar titlebar"+(d?" _1m34":""),style:e},b("React").createElement(b("ChatTabHeaderContainer.react"),{attachmentsShelf:document.createElement("div"),composer:a&&a.composer,isActive:!1,isRaised:!1,isTyping:!1,membershipParticipants:a&&a.membershipParticipants,nameConversationFunc:b("emptyFunction"),onClick:this.$3,onCloseClick:this.$4,onRTCNuxCloseButtonClick:b("emptyFunction"),rtcNuxShown:!1,sheetController:{},showAddFriend:b("emptyFunction"),threadID:this.props.tab.id,viewer:b("CurrentUser").getID()})))};a.prototype.$5=function(){var a=this.props.tab,c=b("ReactDOM").findDOMNode(this.refs.root);this.$1=setTimeout(function(){return b("FantaTabActions").closeAndTabNext(a.id)},1.2*b("ifRequired")("cssVar",function(a){return"200ms".replace(j,"")},function(){return 200}));var d=b("Event").listen(c,b("getVendorPrefixedEventName")("animationend"),function(c){c.animationName==="closeChatTab"&&(b("FantaTabActions").closeAndTabNext(a.id),clearTimeout(this.$1),d.remove())}.bind(this));this.setState({closing:!0})};a.prototype.$6=function(){var a=this.props.tab,c=h._("Are you sure you want to close this chat window?");b("FantaTabActions").blurTab(a.id);var d=h._("You haven't sent your message.");b("SimpleXUIDialog").showConfirm(c,d,function(c){c?b("FantaTabActions").closeAndTabNext(a.id):b("FantaTabActions").focusTab(a.id)},{autofocusConfirm:!0,useReactFocusBehavior:!0})};a.propTypes={tab:c.object.isRequired,tabContent:c.object};e.exports=a}),null);
__d("FantaMercuryTabsWithMain.react",["Bootloader","CurrentUser","FantaAppStore","FantaCookieUtil","FantaMercuryTabOverflowBootloader.react","FantaTabActions","FantaTabGroup.react","FantaTabMainLoader.react","FantaTabMinimized.react","FluxContainer","LazyComponent.react","LoadOnRender.react","MercuryIDs","MessengerState.bs","PresenceState","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MessengerState.bs").jsComponent,i=function(a){b("Bootloader").loadModules(["MessengerReasonDialogContainerReact.bs"],function(b){b=b.jsComponent;return a(b)},"FantaMercuryTabsWithMain.react")};g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("FantaAppStore")]};a.calculateState=function(){return{tabGroup:b("FantaAppStore").getState().tabGroup,tabContents:b("FantaAppStore").getState().mercury.tabContents}};a.prototype.componentDidMount=function(){this.props.loadDataOnMount&&b("FantaTabActions").loadFromData(b("FantaCookieUtil").convertCookieData(b("PresenceState").get()))};a.prototype.render=function(){return b("React").createElement(h,{fbid:b("CurrentUser").getID()},function(a){return[b("React").createElement(b("FantaTabGroup.react"),{key:"tabgroup",messengerState:a,MainComponent:b("FantaTabMainLoader.react"),MinimizedComponent:b("FantaTabMinimized.react"),OverflowComponent:b("FantaMercuryTabOverflowBootloader.react"),tabGroup:this.state.tabGroup,tabContents:this.state.tabContents,isLastOfTypeChecker:this.$1}),b("React").createElement(b("LoadOnRender.react"),{key:"dialog",component:b("React").createElement(b("LazyComponent.react"),null),loader:i,placeholder:b("React").createElement("span",null)})]}.bind(this))};a.prototype.$1=function(a){return b("MercuryIDs").isGroupChat(a.id)};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("FantaTabsReactApp",["ChatPerfInstrumentation","FantaMercuryTabsWithMain.react","FantaTabsAppBase","React","ReactDOM","WorkplaceChatHelper","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=void 0;g=babelHelpers.inherits(a,b("FantaTabsAppBase"));g&&g.prototype;a.prototype.initializeFantaData=function(a){__p&&__p();if(b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;d(["FantaAppStore","FantaCookieUtil","FantaGetMessageActions","FantaTabActions","MercuryThreadInformer","PresenceState"],function(c,d,e,f,g,i){__p&&__p();f.loadFromData(d.convertCookieData(i.get(),null,a)),i.registerStateLoader(function(b){f.loadFromData(d.convertCookieData(b,c.getState().tabGroup,a))}),i.registerStateStorer(function(a){var b=c.getState().tabGroup;if(!h||h&&!h.equals(b)){h=b;return d.createCookieData(b,a)}else return a}),g.get().subscribe("threads-updated",function(a,c){Object.keys(c).forEach(function(a){b("setImmediate")(function(){e.refreshThread(a)})})}),b("ChatPerfInstrumentation").logInitData()})};a.prototype.initializeFantaUI=function(){__p&&__p();d(["FantaAppStore","FantaMercuryThreadEventsBootloaded","FantaMessageActions","FantaTabActions","FantaTabViewportManager","FBRTCMessageHandler","MercuryBrowserAlerts"],function(a,c,d,e,f,g,h){__p&&__p();g.init();h.init();b("ReactDOM").render(this.getViewComponent(),this.tabsElem);c.onMessagesReceived(function(a,c){b("setImmediate")(function(){d.receivedNewMessage(a,c)})});f.init(this.tabsElem);b("ChatPerfInstrumentation").logInitUI();e=a.getState().tabGroup.tabs;e.toArray().length===0&&b("ChatPerfInstrumentation").logDisplayDone()}.bind(this))};a.prototype.getViewComponent=function(){return b("React").createElement(b("FantaMercuryTabsWithMain.react"),{loadDataOnMount:!1})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("ChatInitialDataTransformer.bs",["bs_array","bs_js_dict","bs_caml_array","bs_caml_format","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.viewer,d=a.is_page,e=[],f=[],g={},h=[],i={},j=[];b("bs_array").iter(function(a){__p&&__p();if(a==null)return 0;else{var k=b("MessengerServerPayloadTransformer.bs").getThreadFBID(a),l=b("MessengerServerPayloadTransformer.bs").getOtherUserID(a),m=b("MessengerServerPayloadTransformer.bs").transformThread(c,a,d);e.push(m);var n=b("MessengerServerPayloadTransformer.bs").transformMessages(c,a,d);n&&b("bs_array").iter(function(a){f.push(a);return 0},n[0]);n=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);n&&(n[0].has_previous_page||(k==null?l==null||j.push({type:"thread",fbid:l}):j.push({type:"thread",fbid:k})));n=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(c,a);if(n){n=n[0];k==null||(g[k]=n);l==null||(g[l]=n)}k=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(k.length>=1){l=b("bs_caml_array").caml_array_get(k,0);if(m.is_canonical){n=m.other_user_fbid;n==null||h.push({other_user_fbid:n,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(l.timestamp_precise)})}else{k=m.thread_fbid;k==null||h.push({other_user_fbid:null,thread_fbid:k,time:b("bs_caml_format").caml_float_of_string(l.timestamp_precise)})}}n=b("MessengerServerPayloadTransformer.bs").transformParticipants(a);return b("bs_array").iter(function(a){i[a.fbid]=a;return 0},n)}},a.threads);return{threads:e,actions:f,roger:g,delivery_receipts:h,participants:b("bs_js_dict").values(i),end_of_history:j}}f.transform=a}),null);